var Ru=Object.defineProperty,zu=Object.defineProperties;var Du=Object.getOwnPropertyDescriptors;var Ca=Object.getOwnPropertySymbols;var Lu=Object.prototype.hasOwnProperty,$u=Object.prototype.propertyIsEnumerable;var Ta=(e,t,n)=>t in e?Ru(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O=(e,t)=>{for(var n in t||(t={}))Lu.call(t,n)&&Ta(e,n,t[n]);if(Ca)for(var n of Ca(t))$u.call(t,n)&&Ta(e,n,t[n]);return e},G=(e,t)=>zu(e,Du(t));var z=(e,t,n)=>new Promise((r,s)=>{var i=l=>{try{c(n.next(l))}catch(u){s(u)}},a=l=>{try{c(n.throw(l))}catch(u){s(u)}},c=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,a);c((n=n.apply(e,t)).next())});import{r as x,R as y,a as Cr,b as Mu,c as Ic,_ as gn}from"./index.B1ZxuMZv.module.js";var Pc={exports:{}},hs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uu=x,Vu=Symbol.for("react.element"),Fu=Symbol.for("react.fragment"),Bu=Object.prototype.hasOwnProperty,Zu=Uu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wu={key:!0,ref:!0,__self:!0,__source:!0};function Rc(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Bu.call(t,r)&&!Wu.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Vu,type:e,key:i,ref:a,props:s,_owner:Zu.current}}hs.Fragment=Fu;hs.jsx=Rc;hs.jsxs=Rc;Pc.exports=hs;var o=Pc.exports;function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(null,arguments)}function Se(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Gu=y.createContext(void 0),Ku=["theme"],Hu=function(t){var n=t.theme,r=n===void 0?"light":n,s=Se(t,Ku),i=x.useState(r||"light"),a=i[0],c=i[1];x.useEffect(function(){(a==="dark"||a==="light")&&document.body.setAttribute("zaui-theme",a)},[a]);var l=x.useCallback(function(d){var f=d.mode;f!==a&&(f==="dark"||f==="light")&&c(f)},[a]),u=y.useMemo(function(){return{setThemeMode:l,themeMode:a}},[l,a]);return y.createElement(Gu.Provider,se({value:u},s))};function zc(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=zc(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function J(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=zc(e))&&(r&&(r+=" "),r+=t);return r}var ja="zaui",me=function(t,n){return t?ja+"-"+t:ja},Ju=function(){return y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none"},y.createElement("path",{d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM2.49 12C2.49 17.2522 6.74777 21.51 12 21.51C17.2522 21.51 21.51 17.2522 21.51 12C21.51 6.74777 17.2522 2.49 12 2.49C6.74777 2.49 2.49 6.74777 2.49 12Z",fill:"black",fillOpacity:"0.1"}),y.createElement("path",{d:"M15.6784 1.89361C15.9136 1.24748 16.6317 0.908557 17.25 1.20938C18.2892 1.71497 19.2519 2.369 20.1071 3.15267C21.2689 4.21731 22.2097 5.50037 22.8757 6.92858C23.5417 8.3568 23.9198 9.90221 23.9886 11.4766C24.0392 12.6355 23.9214 13.7933 23.6407 14.9143C23.4737 15.5814 22.7525 15.9136 22.1064 15.6784C21.4603 15.4433 21.1358 14.7295 21.2846 14.0582C21.4641 13.2486 21.5373 12.4172 21.5009 11.5852C21.4465 10.3375 21.1468 9.11276 20.619 7.9809C20.0912 6.84904 19.3456 5.83222 18.4249 4.98849C17.8108 4.42584 17.1269 3.94752 16.3914 3.5646C15.7815 3.24709 15.4433 2.53973 15.6784 1.89361Z",fill:"currentColor"}))},qu=["children","prefixIcon","suffixIcon","icon","fullWidth","loading","disabled","type","size","className","variant","htmlType","onClick"],le=y.forwardRef(function(e,t){var n,r=e.children,s=e.prefixIcon,i=e.suffixIcon,a=e.icon,c=e.fullWidth,l=e.loading,u=e.disabled,d=e.type,f=e.size,h=e.className,m=e.variant,p=m===void 0?"primary":m,v=e.htmlType,g=v===void 0?"button":v,b=e.onClick,w=Se(e,qu),_=me("btn"),E=t||y.createRef(),N=J(_,(n={},n[_+"-highlight"]=d==="highlight",n[_+"-danger"]=d==="danger",n[_+"-neutral"]=d==="neutral",n[_+"-primary"]=p==="primary",n[_+"-secondary"]=p==="secondary",n[_+"-tertiary"]=p==="tertiary",n[_+"-disabled"]=u,n[_+"-loading"]=l&&!u,n[_+"-icon-only"]=a,n[_+"-suffix-icon"]=i,n[_+"-prefix-icon"]=s,n[_+"-small"]=f==="small",n[_+"-medium"]=f==="medium",n[_+"-large"]=f==="large",n[_+"-full-width"]=c,n[_+"-prefix-icon"]=s,n[_+"-suffix-icon"]=i,n[_+"-icon-only"]=a,n[""+h]=h,n)),C=function(T){b&&typeof b=="function"&&b(T)},A=function(){return a&&!l?y.createElement("div",{className:_+"-container"},y.createElement("span",{className:_+"-icon"},a)):y.createElement("div",{className:_+"-container"},l&&!u&&y.createElement("span",{className:_+"-loading-container"},y.createElement("span",{role:"img",className:_+"-loading-icon"},y.createElement(Ju,null))),s&&y.createElement("span",{className:_+"-icon"},s),y.createElement("span",null,r),i&&y.createElement("span",{className:_+"-icon"},i))};return y.createElement("button",se({onClick:C,className:N,ref:E,type:g,disabled:u},w),A())});function Hn(e){"@babel/helpers - typeof";return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hn(e)}function Qu(e,t){if(Hn(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yu(e){var t=Qu(e,"string");return Hn(t)=="symbol"?t:t+""}function qe(e,t,n){return(t=Yu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xu={zi_add_member:"zi_add_member",zi_add_member_solid:"zi_add_member_solid",zi_add_user:"zi_add_user",zi_add_user_solid:"zi_add_user_solid",zi_admin:"zi_admin",zi_create_group:"zi_create_group",zi_create_group_solid:"zi_create_group_solid",zi_group:"zi_group",zi_group_solid:"zi_group_solid",zi_members:"zi_members",zi_members_solid:"zi_members_solid",zi_stranger:"zi_stranger",zi_stranger_solid:"zi_stranger_solid",zi_switch_users:"zi_switch_users",zi_switch_users_solid:"zi_switch_users_solid",zi_user:"zi_user",zi_user_check:"zi_user_check",zi_user_circle:"zi_user_circle",zi_user_circle_solid:"zi_user_circle_solid",zi_user_search:"zi_user_search",zi_user_search_solid:"zi_user_search_solid",zi_user_settings:"zi_user_settings",zi_user_settings_solid:"zi_user_settings_solid",zi_user_solid:"zi_user_solid",zi_add_photo:"zi_add_photo",zi_camera:"zi_camera",zi_gallery:"zi_gallery",zi_link:"zi_link",zi_livestream:"zi_livestream",zi_pause:"zi_pause",zi_pause_solid:"zi_pause_solid",zi_photo:"zi_photo",zi_photo_search:"zi_photo_search",zi_photo_solid:"zi_photo_solid",zi_play:"zi_play",zi_play_solid:"zi_play_solid",zi_add_story:"zi_add_story",zi_ban:"zi_ban",zi_bullet_solid:"zi_bullet_solid",zi_check:"zi_check",zi_check_circle:"zi_check_circle",zi_check_circle_solid:"zi_check_circle_solid",zi_close:"zi_close",zi_close_circle:"zi_close_circle",zi_close_circle_solid:"zi_close_circle_solid",zi_copy:"zi_copy",zi_delete:"zi_delete",zi_drag_indicator_solid:"zi_drag_indicator_solid",zi_filter:"zi_filter",zi_filter_solid:"zi_filter_solid",zi_home:"zi_home",zi_leave:"zi_leave",zi_leave_solid:"zi_leave_solid",zi_list_1:"zi_list_1",zi_list_2:"zi_list_2",zi_minus_circle:"zi_minus_circle",zi_minus_circle_solid:"zi_minus_circle_solid",zi_more_diamond_solid:"zi_more_diamond_solid",zi_more_grid:"zi_more_grid",zi_more_grid_solid:"zi_more_grid_solid",zi_more_horiz:"zi_more_horiz",zi_more_horiz_solid:"zi_more_horiz_solid",zi_more_vert:"zi_more_vert",zi_plus:"zi_plus",zi_plus_circle:"zi_plus_circle",zi_plus_circle_solid:"zi_plus_circle_solid",zi_radio_checked:"zi_radio_checked",zi_radio_unchecked:"zi_radio_unchecked",zi_save_to_collection:"zi_save_to_collection",zi_search:"zi_search",zi_setting:"zi_setting",zi_tune:"zi_tune",zi_arrow_down:"zi_arrow_down",zi_arrow_left:"zi_arrow_left",zi_arrow_right:"zi_arrow_right",zi_arrow_up:"zi_arrow_up",zi_auto:"zi_auto",zi_auto_solid:"zi_auto_solid",zi_backup_arrow_solid:"zi_backup_arrow_solid",zi_chevron_double_down:"zi_chevron_double_down",zi_chevron_double_up:"zi_chevron_double_up",zi_chevron_down:"zi_chevron_down",zi_chevron_left:"zi_chevron_left",zi_chevron_left_header:"zi_chevron_left_header",zi_chevron_right:"zi_chevron_right",zi_chevron_up:"zi_chevron_up",zi_download:"zi_download",zi_download_solid:"zi_download_solid",zi_reorder_solid:"zi_reorder_solid",zi_reply:"zi_reply",zi_reply_solid:"zi_reply_solid",zi_retry:"zi_retry",zi_retry_solid:"zi_retry_solid",zi_share:"zi_share",zi_share_external_1:"zi_share_external_1",zi_share_external_2:"zi_share_external_2",zi_share_solid:"zi_share_solid",zi_unfold_less:"zi_unfold_less",zi_unfold_more:"zi_unfold_more",zi_upload:"zi_upload",zi_at:"zi_at",zi_bubble_multiselect:"zi_bubble_multiselect",zi_call:"zi_call",zi_call_solid:"zi_call_solid",zi_chat:"zi_chat",zi_chat_solid:"zi_chat_solid",zi_grid_solid:"zi_grid_solid",zi_location:"zi_location",zi_location_solid:"zi_location_solid",zi_mic:"zi_mic",zi_quote:"zi_quote",zi_quote_solid:"zi_quote_solid",zi_recall:"zi_recall",zi_send_solid:"zi_send_solid",zi_user_window_solid:"zi_user_window_solid",zi_video:"zi_video",zi_video_group:"zi_video_group",zi_video_solid:"zi_video_solid",zi_wifi:"zi_wifi",zi_wifi_off:"zi_wifi_off",zi_backup_solid:"zi_backup_solid",zi_backup_success_solid:"zi_backup_success_solid",zi_backup_warning_solid:"zi_backup_warning_solid",zi_bookmark:"zi_bookmark",zi_bookmark_delete:"zi_bookmark_delete",zi_favorite_list:"zi_favorite_list",zi_heart:"zi_heart",zi_heart_solid:"zi_heart_solid",zi_pin:"zi_pin",zi_pin_solid:"zi_pin_solid",zi_star:"zi_star",zi_star_solid:"zi_star_solid",zi_unpin:"zi_unpin",zi_calendar:"zi_calendar",zi_calendar_solid:"zi_calendar_solid",zi_clock_1:"zi_clock_1",zi_clock_1_solid:"zi_clock_1_solid",zi_clock_2:"zi_clock_2",zi_clock_2_solid:"zi_clock_2_solid",zi_memory:"zi_memory",zi_reminder:"zi_reminder",zi_reminder_delete:"zi_reminder_delete",zi_reminder_solid:"zi_reminder_solid",zi_edit:"zi_edit",zi_edit_delete:"zi_edit_delete",zi_edit_delete_solid:"zi_edit_delete_solid",zi_edit_solid:"zi_edit_solid",zi_edit_text:"zi_edit_text",zi_edit_text_solid:"zi_edit_text_solid",zi_post:"zi_post",zi_exclamation:"zi_exclamation",zi_help_circle:"zi_help_circle",zi_info_circle:"zi_info_circle",zi_info_circle_solid:"zi_info_circle_solid",zi_warning:"zi_warning",zi_warning_circle:"zi_warning_circle",zi_warning_circle_solid:"zi_warning_circle_solid",zi_warning_solid:"zi_warning_solid",zi_file:"zi_file",zi_inbox:"zi_inbox",zi_note:"zi_note",zi_note_delete:"zi_note_delete",zi_pcline:"zi_pcline",zi_poll:"zi_poll",zi_poll_solid:"zi_poll_solid",zi_qrline:"zi_qrline",zi_truyen_file:"zi_truyen_file",zi_wallpaper:"zi_wallpaper",zi_hide:"zi_hide",zi_key_solid:"zi_key_solid",zi_lock:"zi_lock",zi_lock_open_solid:"zi_lock_open_solid",zi_lock_solid:"zi_lock_solid",zi_notif:"zi_notif",zi_notif_off:"zi_notif_off",zi_notif_off_solid:"zi_notif_off_solid",zi_notif_ring:"zi_notif_ring",zi_shield_solid:"zi_shield_solid",zi_unhide:"zi_unhide",zi_unlock:"zi_unlock",zi_unlock_solid:"zi_unlock_solid"},ed=["children","size","icon","style","className"];function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oa(Object(n),!0).forEach(function(r){qe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var q=y.forwardRef(function(e,t){var n,r=e.children,s=e.size,i=e.icon,a=e.style,c=e.className,l=Se(e,ed),u=me("icon"),d=function(v){if(typeof v=="string"){var g=v.replace(/-/g,"_"),b=Xu[g];return b||null}return null},f={};a&&(f=td({},a));var h=J(u,(n={},n[""+c]=c,n));typeof s=="number"&&(f.fontSize=s+"px");var m=d(i||r);return y.createElement("i",se({ref:t,className:h,style:f},l),m)}),nd=["title","children","subTitle","prefix","suffix","brackets","className","onClick"],Dc=y.forwardRef(function(e,t){var n,r=e.title,s=e.children,i=e.subTitle,a=e.prefix,c=e.suffix,l=e.brackets,u=e.className,d=e.onClick,f=Se(e,nd),h=me("list-item"),m=J(h,(n={},n[""+u]=u,n)),p=function(g){d&&d(g)};return y.createElement("li",se({},f,{role:"presentation",onClick:p,ref:t,className:m}),a&&y.createElement("div",{className:h+"-prefix"},a),y.createElement("div",{className:h+"-right"},y.createElement("div",{className:h+"-content"},r&&y.createElement(y.Fragment,null,y.createElement("div",{className:h+"-title-container"},r&&y.createElement("span",{className:h+"-title"},r),l&&y.createElement("span",{className:h+"-brackets"},"(",l,")")),i&&y.createElement("div",{className:h+"-subtitle"},i)),s),c&&y.createElement("div",{className:h+"-suffix"}," ",c)))}),rd=["className","dataSource","renderItem","children","divider","loading","noSpacing"];function sd(e,t){var n,r=e.className,s=e.dataSource,i=e.renderItem,a=e.children,c=e.divider,l=c===void 0?!0:c,u=e.loading,d=e.noSpacing,f=Se(e,rd),h=me("list"),m=J(h,(n={},n[h+"-loading"]=u,n[h+"-no-divider"]=!l,n[h+"-no-spacing"]=!!d,n[""+r]=r,n));return y.createElement("ul",se({ref:t,className:m},f),s?s.map(function(p,v){return i?i(p,v,u):y.createElement(Dc,{title:p.title,prefix:p.prefix,suffix:p.suffix,subTitle:p.subTitle,brackets:p.brackets,style:p.style,className:p.className,id:p.id})}):a)}var id=y.forwardRef(sd),dt=id;dt.displayName="List";dt.Item=Dc;function Ms(e){return!!(e.addonBefore||e.addonAfter)}function ka(e){return typeof e=="undefined"||e===null?"":String(e)}function Lr(e,t,n,r){if(n){var s=t;if(t.type==="click"){var i=e.cloneNode(!0);s=Object.create(t,{target:{value:i},currentTarget:{value:i}}),i.value="",n(s);return}n(s)}}function Lc(e,t){if(e){e.focus(t);var n=t||{},r=n.cursor;if(r){var s=e.value.length;switch(r){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(s,s);break;default:e.setSelectionRange(0,s)}}}}function Aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aa(Object(n),!0).forEach(function(r){qe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Li(e,t){var n=ad({},e);return Array.isArray(t)&&t.forEach(function(r){delete n[r]}),n}function Ia(e){var t=y.useRef();return t.current=e,y.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current.apply(t,r)},[])}var od=function(t,n){var r=x.useRef(!0);x.useLayoutEffect(function(){if(!r.current)return t()},n),x.useLayoutEffect(function(){return r.current=!1,function(){r.current=!0}},[])},It=function(e){return e[e.INNER=0]="INNER",e[e.PROP=1]="PROP",e}(It||{});function Tr(e){return e!==void 0}function ms(e,t){var n=t||{},r=n.defaultValue,s=n.value,i=n.onChange,a=n.postState,c=x.useState(function(){var v,g;return Tr(s)?(v=s,g=It.PROP):Tr(r)?(v=typeof r=="function"?r():r,g=It.PROP):(v=typeof e=="function"?e():e,g=It.INNER),[v,g,v]}),l=c[0],u=c[1],d=Tr(s)?s:l[0],f=a?a(d):d;od(function(){Tr(s)&&u(function(v){var g=v[0];return[s,It.PROP,g]})},[s]);var h=y.useRef(),m=Ia(function(v){u(function(g){var b=g[0],w=g[1],_=g[2],E=typeof v=="function"?v(b):v;if(E===b)return g;var N=w===It.INNER&&h.current!==_?_:b;return[E,It.INNER,N]})}),p=Ia(i);return x.useLayoutEffect(function(){var v=l[0],g=l[1],b=l[2];v!==b&&g===It.INNER&&(p(v,b),h.current=b)},[l]),[f,m]}var $c=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n};$c("success","warning","error","validating","");$c("success","error","");function $r(e,t,n){var r;return J((r={},r[e+"-status-success"]=t==="success",r[e+"-status-warning"]=t==="warning",r[e+"-status-error"]=t==="error",r[e+"-status-validating"]=t==="validating",r[e+"-has-feedback"]=n,r))}var Mc=function(t,n){return n||t},Uc=x.createContext(!1),$i=x.createContext(void 0),cd=function(t){var n,r=t.inputElement,s=t.prefixCls,i=t.prefix,a=t.suffix,c=t.addonBefore,l=t.addonAfter,u=t.className,d=t.style,f=t.affixWrapperClassName,h=t.groupClassName,m=t.wrapperClassName,p=t.disabled,v=t.readOnly,g=t.focused,b=t.triggerFocus,w=t.allowClear,_=t.value,E=t.handleReset,N=t.hidden,C=t.onInputTriggerClick,A=x.useRef(null),j=function(K){var xe;(xe=A.current)!=null&&xe.contains(K.target)&&(b==null||b())},T=function(){var K;if(!w)return null;var xe=!p&&!v&&_,ke=s+"-clear-btn",Me=typeof w=="object"&&w!=null&&w.clearIcon?w.clearIcon:"âœ–";return y.createElement("span",{key:s+"-clear-btn",onClick:E,onMouseDown:function(ee){return ee.preventDefault()},className:J(s+"-suffix-item",ke,(K={},K[ke+"-hidden"]=!xe,K[ke+"-has-suffix"]=!!a,K)),role:"button",tabIndex:-1},Me)},k=x.cloneElement(r,{value:_,hidden:N}),M=s+"-affix-wrapper",Z=J(M,(n={},n[M+"-disabled"]=p,n[M+"-focused"]=g,n[M+"-readonly"]=v,n[M+"-input-with-clear-btn"]=a&&w&&_,n),!Ms(t)&&u,f),D=(a||w)&&y.createElement("span",{className:s+"-suffix"},!p&&T(),a);if(k=y.createElement("span",{className:Z,style:d,hidden:!Ms(t)&&N,onMouseDown:j,ref:A,role:"presentation",onClick:C},i&&y.createElement("span",{className:s+"-prefix"},i),x.cloneElement(r,{style:null,value:_,hidden:null}),D),Ms(t)){var L=s+"-group",B=L+"-addon",ae=J(s+"-wrapper",L,m),$=J(s+"-group-wrapper",u,h);return y.createElement("span",{className:$,style:d,hidden:N},y.createElement("span",{className:ae},c&&y.createElement("span",{className:B},c),x.cloneElement(k,{style:null,hidden:null}),l&&y.createElement("span",{className:B},l)))}return k},ld=function(t){return y.createElement("svg",se({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),y.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.09961 7.99961C1.09961 4.18884 4.18884 1.09961 7.99961 1.09961C11.8104 1.09961 14.8996 4.18884 14.8996 7.99961C14.8996 11.8104 11.8104 14.8996 7.99961 14.8996C4.18884 14.8996 1.09961 11.8104 1.09961 7.99961ZM5.27535 5.27535C5.50966 5.04103 5.88956 5.04103 6.12387 5.27535L7.99961 7.15108L9.87535 5.27535C10.1097 5.04103 10.4896 5.04103 10.7239 5.27535C10.9582 5.50966 10.9582 5.88956 10.7239 6.12387L8.84814 7.99961L10.7239 9.87535C10.9582 10.1097 10.9582 10.4896 10.7239 10.7239C10.4896 10.9582 10.1097 10.9582 9.87535 10.7239L7.99961 8.84814L6.12387 10.7239C5.88956 10.9582 5.50966 10.9582 5.27535 10.7239C5.04103 10.4896 5.04103 10.1097 5.27535 9.87535L7.15108 7.99961L5.27535 6.12387C5.04103 5.88956 5.04103 5.50966 5.27535 5.27535Z",fill:"currentColor"}))},ud=function(t){return y.createElement("svg",se({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),y.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.09961 7.99961C1.09961 4.18884 4.18884 1.09961 7.99961 1.09961C11.8104 1.09961 14.8996 4.18884 14.8996 7.99961C14.8996 11.8104 11.8104 14.8996 7.99961 14.8996C4.18884 14.8996 1.09961 11.8104 1.09961 7.99961ZM7.9996 5.99963C8.55189 5.99963 8.9996 5.55192 8.9996 4.99963C8.9996 4.44735 8.55189 3.99963 7.9996 3.99963C7.44732 3.99963 6.9996 4.44735 6.9996 4.99963C6.9996 5.55192 7.44732 5.99963 7.9996 5.99963ZM7.9996 6.89966C8.44143 6.89966 8.7996 7.25783 8.7996 7.69966V11.2997C8.7996 11.7415 8.44143 12.0997 7.9996 12.0997C7.55778 12.0997 7.1996 11.7415 7.1996 11.2997V7.69966C7.1996 7.25783 7.55778 6.89966 7.9996 6.89966Z",fill:"currentColor"}))},dd=function(t){return y.createElement("svg",se({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),y.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.09961 7.99961C1.09961 4.18884 4.18884 1.09961 7.99961 1.09961C11.8104 1.09961 14.8996 4.18884 14.8996 7.99961C14.8996 11.8104 11.8104 14.8996 7.99961 14.8996C4.18884 14.8996 1.09961 11.8104 1.09961 7.99961ZM11.6239 6.22386C11.8582 5.98955 11.8582 5.60965 11.6239 5.37534C11.3896 5.14102 11.0097 5.14102 10.7753 5.37534L6.69961 9.45107L5.12387 7.87534C4.88956 7.64102 4.50966 7.64102 4.27535 7.87534C4.04103 8.10965 4.04103 8.48955 4.27535 8.72386L6.27535 10.7239C6.50966 10.9582 6.88956 10.9582 7.12387 10.7239L11.6239 6.22386Z",fill:"currentColor"}))},fd=function(t){return y.createElement("svg",se({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),y.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.72975 2.28802C7.29427 1.31024 8.70557 1.31024 9.27009 2.28802L14.809 11.8816C15.3735 12.8594 14.6678 14.0816 13.5388 14.0816H2.46104C1.332 14.0816 0.626351 12.8594 1.19087 11.8816L6.72975 2.28802ZM7.37248 5.62619C7.36081 5.28382 7.63519 4.99992 7.97776 4.99992H8.02228C8.36485 4.99992 8.63924 5.28381 8.62757 5.62619L8.50094 9.34061C8.49299 9.57365 8.30177 9.75847 8.06859 9.75847H7.93145C7.69827 9.75847 7.50705 9.57365 7.49911 9.34061L7.37248 5.62619ZM8.70672 11.2906C8.70672 11.6809 8.39032 11.9973 8.00001 11.9973C7.6097 11.9973 7.29329 11.6809 7.29329 11.2906C7.29329 10.9003 7.6097 10.5839 8.00001 10.5839C8.39032 10.5839 8.70672 10.9003 8.70672 11.2906Z",fill:"currentColor"}))},hd=["label","helperText","errorText","status","clearable","allowClear","addonBefore","addonAfter","suffix","disabled","value","affixWrapperClassName","groupClassName","maxLength","showCount"];function Pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pa(Object(n),!0).forEach(function(r){qe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pa(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Vc=function(t){var n=t.label,r=t.helperText,s=t.errorText,i=t.status,a=t.clearable,c=t.allowClear,l=t.addonBefore,u=t.addonAfter,d=t.suffix,f=t.disabled,h=t.value,m=t.affixWrapperClassName,p=t.groupClassName,v=t.maxLength,g=t.showCount,b=Se(t,hd),w=me("input"),_=function(){var j=Number(v)>0;if(d||g||i==="success"){var T,k,M=ka(h),Z=M.length,D=j?"/ "+v:"",L=typeof g=="object"?g.formatter({value:M,count:Z,maxLength:v}):""+Z+D;return y.createElement(y.Fragment,null,i==="success"&&h&&!f&&y.createElement("span",{className:J(w+"-status-success",(T={},T[w+"-status-success-has-suffix"]=!!d,T))},y.createElement(dd,{className:w+"-status-success-icon"})),!!g&&y.createElement("span",{className:J(w+"-show-count-suffix",(k={},k[w+"-show-count-has-suffix"]=!!d,k))},L),d)}return null},E=function(){return n?y.createElement(y.Fragment,null,y.createElement("span",{className:w+"-label"},n),l):null},N=function(){if(u||r||s){var j,T=i==="error";return y.createElement(y.Fragment,null,(r||s)&&y.createElement("span",{className:J(w+"-helper-text",(j={},j[w+"-helper-text-has-error"]=T&&!f,j))},T&&!f?y.createElement(y.Fragment,null,y.createElement(fd,{className:w+"-helper-text-icon"}),y.createElement("span",{className:w+"-helper-text-content"},s)):r?y.createElement(y.Fragment,null,y.createElement(ud,{className:w+"-helper-text-icon"}),y.createElement("span",{className:w+"-helper-text-content"},r)):null),u)}return null},C=function(){if(!f&&(a||c)){var j;if(c){if(typeof c=="object"&&c.clearIcon){var T,k=y.cloneElement(c.clearIcon,{className:J(w+"-clear-icon",(T=c.clearIcon.props)==null?void 0:T.className)});return Ra(Ra({},c),{},{clearIcon:k})}return c}var M=typeof a=="object"&&a!=null&&a.mode?a.mode:"always";return{clearIcon:y.createElement(ld,{className:J(w+"-clear-icon",(j={},j[w+"-clear-icon-display-mode-focus"]=M==="focus",j))})}}return!1};return y.createElement(cd,se({},b,{disabled:f,value:ka(h),addonBefore:E(),addonAfter:N(),allowClear:C(),suffix:_(),affixWrapperClassName:J($r(w+"-affix-wrapper",i),m),groupClassName:J($r(w+"-group-wrapper",i),p)}))},md=["onChange","onFocus","onBlur","onPressEnter","onKeyDown","type","disabled","className","inputClassName","defaultValue","status","size"],ps=x.forwardRef(function(e,t){var n=e.onChange,r=e.onFocus,s=e.onBlur,i=e.onPressEnter,a=e.onKeyDown,c=e.type,l=c===void 0?"text":c,u=e.disabled,d=e.className,f=e.inputClassName,h=e.defaultValue,m=e.status,p=e.size,v=Se(e,md),g=me("input"),b=ms(h,{value:e.value}),w=b[0],_=b[1],E=x.useState(!1),N=E[0],C=E[1],A=x.useRef(null),j=function(ee){A.current&&Lc(A.current,ee)},T=y.useContext($i),k=p||T,M=y.useContext(Uc),Z=u||M,D="",L=Mc(D,m),B=x.useRef([]),ae=function(){B.current.push(window.setTimeout(function(){var ee,Ue;if(A.current&&((ee=A.current)==null?void 0:ee.getAttribute("type"))==="password"&&(Ue=A.current)!=null&&Ue.hasAttribute("value")){var oe;(oe=A.current)==null||oe.removeAttribute("value")}}))};x.useImperativeHandle(t,function(){return{focus:j,blur:function(){var ee;(ee=A.current)==null||ee.blur()},setSelectionRange:function(ee,Ue,oe){var te;(te=A.current)==null||te.setSelectionRange(ee,Ue,oe)},select:function(){var ee;(ee=A.current)==null||ee.select()},input:A.current}}),x.useEffect(function(){C(function(ye){return ye&&Z?!1:ye})},[Z]),x.useEffect(function(){return ae(),function(){return B.current.forEach(function(ye){return window.clearTimeout(ye)})}},[]);var $=function(ee){e.value===void 0&&_(ee.target.value),A.current&&Lr(A.current,ee,n)},W=function(ee){i&&ee.key==="Enter"&&i(ee),a==null||a(ee)},K=function(ee){C(!0),ae(),r==null||r(ee)},xe=function(ee){C(!1),ae(),s==null||s(ee)},ke=function(ee){_(""),j(),A.current&&Lr(A.current,ee,n)},Me=function(){var ee,Ue=Li(e,["onPressEnter","prefix","suffix","clearable","allowClear","status","helperText","errorText","size","defaultValue","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","onInputTriggerClick"]);return y.createElement("input",se({},Ue,{onChange:$,onFocus:K,onBlur:xe,onKeyDown:W,className:J(g,(ee={},ee[g+"-small"]=k==="small",ee[g+"-large"]=k==="large",ee[g+"-disabled"]=Z,ee),(!!w||L==="error")&&$r(g,L),f,d),ref:A,type:l}))};return y.createElement(Vc,se({},v,{prefixCls:g,className:d,inputElement:Me(),handleReset:ke,value:w,focused:N,triggerFocus:j,disabled:Z||void 0,status:L}))});ps.defaultProps={onInputTriggerClick:void 0};var pd=function(t){return y.createElement("svg",se({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),y.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.90039 12.0004C1.90039 14.6904 6.66039 18.1004 12.0004 18.1004C17.3404 18.1004 22.1004 14.6904 22.1004 12.0004C22.1004 9.31039 17.3404 5.90039 12.0004 5.90039C6.66039 5.90039 1.90039 9.31039 1.90039 12.0004ZM3.10039 12.0004C3.10039 10.1504 7.26039 7.10039 12.0004 7.10039C16.7404 7.10039 20.9004 10.1004 20.9004 12.0004C20.9004 13.9004 16.7404 16.9004 12.0004 16.9004C7.26039 16.9004 3.10039 13.8504 3.10039 12.0004ZM10.0003 14.9937C10.5924 15.3893 11.2884 15.6004 12.0004 15.6004C12.9552 15.6004 13.8708 15.2211 14.546 14.546C15.2211 13.8708 15.6004 12.9552 15.6004 12.0004C15.6004 11.2884 15.3893 10.5924 14.9937 10.0003C14.5981 9.40832 14.0359 8.9469 13.3781 8.67443C12.7202 8.40195 11.9964 8.33066 11.2981 8.46957C10.5997 8.60847 9.95828 8.95134 9.45481 9.45481C8.95134 9.95828 8.60847 10.5997 8.46957 11.2981C8.33066 11.9964 8.40195 12.7202 8.67443 13.3781C8.9469 14.0359 9.40832 14.5981 10.0003 14.9937ZM10.667 10.0049C11.0617 9.74115 11.5257 9.60039 12.0004 9.60039C12.6361 9.60302 13.245 9.85673 13.6945 10.3062C14.1441 10.7558 14.3978 11.3647 14.4004 12.0004C14.4004 12.4751 14.2596 12.9391 13.9959 13.3338C13.7322 13.7284 13.3574 14.0361 12.9188 14.2177C12.4803 14.3994 11.9977 14.4469 11.5322 14.3543C11.0666 14.2617 10.639 14.0331 10.3033 13.6974C9.96769 13.3618 9.73911 12.9342 9.64651 12.4686C9.5539 12.0031 9.60143 11.5205 9.78308 11.082C9.96473 10.6434 10.2723 10.2686 10.667 10.0049Z",fill:"currentColor"}))},gd=function(t){return y.createElement("svg",se({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),y.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.18358 20.9928C3.27679 21.0578 3.38653 21.0949 3.50005 21.1C3.57718 21.1026 3.65405 21.0898 3.72617 21.0623C3.79829 21.0349 3.8642 20.9933 3.92005 20.94L7.54763 17.3124C8.97515 17.8262 10.4809 18.0929 12 18.1C17.34 18.1 22.1 14.69 22.1 12.02C22.1 10.65 20.87 9.10001 18.87 7.86001C18.7394 7.80657 18.5941 7.80089 18.4597 7.84397C18.3253 7.88704 18.2104 7.97611 18.1352 8.09552C18.06 8.21492 18.0292 8.35703 18.0484 8.49685C18.0676 8.63667 18.1354 8.76526 18.24 8.86001C19.9 9.85001 20.9 11.08 20.9 12C20.9 13.9 16.74 16.9 12 16.9C10.8104 16.8954 9.62992 16.714 8.49686 16.3632L9.92199 14.9381C10.139 15.0944 10.3737 15.2258 10.6218 15.3293C11.0583 15.5115 11.5271 15.6036 12 15.6C12.9548 15.6 13.8705 15.2207 14.5456 14.5456C15.2208 13.8704 15.6 12.9548 15.6 12C15.6 11.8409 15.5368 11.6883 15.4243 11.5757C15.3118 11.4632 15.1592 11.4 15 11.4C14.8409 11.4 14.6883 11.4632 14.5758 11.5757C14.4633 11.6883 14.4 11.8409 14.4 12C14.4012 12.4755 14.2611 12.9407 13.9975 13.3365C13.7338 13.7322 13.3586 14.0407 12.9193 14.2229C12.48 14.405 11.9965 14.4525 11.5302 14.3595C11.2662 14.3067 11.0144 14.2103 10.7847 14.0754L20.92 3.94C21.0314 3.8286 21.094 3.67753 21.094 3.51999C21.094 3.36246 21.0314 3.21139 20.92 3.09999C20.8087 2.9886 20.6576 2.92603 20.5 2.92603C20.3425 2.92603 20.1914 2.9886 20.08 3.09999L16.4815 6.69851C15.045 6.1792 13.5294 5.90883 12 5.89999C6.66002 5.89999 1.90002 9.30999 1.90002 12C1.90002 13.36 3.09002 14.9 5.08002 16.13C5.17651 16.1886 5.28715 16.2197 5.40002 16.22C5.52999 16.2187 5.65601 16.1752 5.75914 16.0961C5.86227 16.017 5.93693 15.9066 5.97189 15.7814C6.00685 15.6562 6.00022 15.5231 5.95299 15.402C5.90577 15.2809 5.8205 15.1784 5.71002 15.11C4.10002 14.13 3.10002 12.91 3.10002 12C3.10002 10.15 7.26003 7.09999 12 7.09999C13.2003 7.10461 14.3913 7.28926 15.5337 7.64632L14.1013 9.07878C13.8778 8.91502 13.6352 8.77788 13.3783 8.67066C12.9418 8.4885 12.473 8.39644 12 8.4C11.0452 8.4 10.1296 8.77929 9.45444 9.45442C8.77931 10.1295 8.40002 11.0452 8.40002 12C8.40002 12.1591 8.46324 12.3117 8.57576 12.4243C8.68828 12.5368 8.84089 12.6 9.00002 12.6C9.15915 12.6 9.31177 12.5368 9.42429 12.4243C9.53681 12.3117 9.60003 12.1591 9.60003 12C9.59886 11.5245 9.73898 11.0593 10.0026 10.6635C10.2662 10.2678 10.6415 9.95926 11.0808 9.77712C11.5201 9.59498 12.0035 9.54745 12.4699 9.64054C12.7435 9.69518 13.0041 9.79681 13.2405 9.93954L9.56117 13.6189C9.52488 13.642 9.49093 13.6691 9.46004 13.7C9.42915 13.7309 9.40201 13.7648 9.37892 13.8011L7.09363 16.0864C6.9986 16.1402 6.92009 16.2188 6.86643 16.3136L3.08005 20.1C3.00418 20.1846 2.9539 20.289 2.93505 20.401C2.91619 20.5131 2.92954 20.6282 2.97354 20.7329C3.01754 20.8377 3.09038 20.9278 3.18358 20.9928Z",fill:"currentColor"}))},vd=["className","visibilityToggle"];function za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?za(Object(n),!0).forEach(function(r){qe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):za(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Fc=y.forwardRef(function(e,t){var n=x.useState(!1),r=n[0],s=n[1],i=function(){var u=e.disabled;u||s(!r)},a=function(u){var d=e.iconRender,f=d===void 0?function(){return null}:d,h=f(r),m={onClick:i,className:u+"-icon",key:"passwordIcon",onMouseDown:function(v){v.preventDefault()},onMouseUp:function(v){v.preventDefault()}};return y.cloneElement(y.isValidElement(h)?h:y.createElement("span",null,h),m)},c=function(){var u=e.className,d=e.visibilityToggle,f=Se(e,vd),h=me("input-password"),m=d&&a(h),p=J(h,u),v=Da(Da({},Li(f,["suffix","iconRender"])),{},{type:r?"text":"password",className:p,suffix:m});return y.createElement(ps,se({ref:t},v))};return c()});Fc.defaultProps={visibilityToggle:!0,iconRender:function(t){return t?y.createElement(pd,null):y.createElement(gd,null)}};var xd=function(t){return y.createElement("svg",se({viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),y.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.10039 8.00039C2.10039 4.74191 4.74191 2.10039 8.00039 2.10039C11.2589 2.10039 13.9004 4.74191 13.9004 8.00039C13.9004 11.2589 11.2589 13.9004 8.00039 13.9004C4.74191 13.9004 2.10039 11.2589 2.10039 8.00039ZM8.00039 0.900391C4.07917 0.900391 0.900391 4.07917 0.900391 8.00039C0.900391 11.9216 4.07917 15.1004 8.00039 15.1004C9.67283 15.1004 11.2102 14.5221 12.4235 13.5547C12.4272 13.5585 12.431 13.5623 12.4348 13.5661L17.4348 18.5661C17.7472 18.8785 18.2537 18.8785 18.5661 18.5661C18.8785 18.2537 18.8785 17.7472 18.5661 17.4348L13.5661 12.4348C13.5623 12.431 13.5585 12.4272 13.5547 12.4235C14.5221 11.2102 15.1004 9.67283 15.1004 8.00039C15.1004 4.07917 11.9216 0.900391 8.00039 0.900391Z",fill:"currentColor"}))},Bc={exports:{}},ve={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mi=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),vs=Symbol.for("react.strict_mode"),xs=Symbol.for("react.profiler"),ys=Symbol.for("react.provider"),_s=Symbol.for("react.context"),yd=Symbol.for("react.server_context"),bs=Symbol.for("react.forward_ref"),ws=Symbol.for("react.suspense"),Ns=Symbol.for("react.suspense_list"),Es=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),_d=Symbol.for("react.offscreen"),Zc;Zc=Symbol.for("react.module.reference");function nt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Mi:switch(e=e.type,e){case gs:case xs:case vs:case ws:case Ns:return e;default:switch(e=e&&e.$$typeof,e){case yd:case _s:case bs:case Ss:case Es:case ys:return e;default:return t}}case Ui:return t}}}ve.ContextConsumer=_s;ve.ContextProvider=ys;ve.Element=Mi;ve.ForwardRef=bs;ve.Fragment=gs;ve.Lazy=Ss;ve.Memo=Es;ve.Portal=Ui;ve.Profiler=xs;ve.StrictMode=vs;ve.Suspense=ws;ve.SuspenseList=Ns;ve.isAsyncMode=function(){return!1};ve.isConcurrentMode=function(){return!1};ve.isContextConsumer=function(e){return nt(e)===_s};ve.isContextProvider=function(e){return nt(e)===ys};ve.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mi};ve.isForwardRef=function(e){return nt(e)===bs};ve.isFragment=function(e){return nt(e)===gs};ve.isLazy=function(e){return nt(e)===Ss};ve.isMemo=function(e){return nt(e)===Es};ve.isPortal=function(e){return nt(e)===Ui};ve.isProfiler=function(e){return nt(e)===xs};ve.isStrictMode=function(e){return nt(e)===vs};ve.isSuspense=function(e){return nt(e)===ws};ve.isSuspenseList=function(e){return nt(e)===Ns};ve.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gs||e===xs||e===vs||e===ws||e===Ns||e===_d||typeof e=="object"&&e!==null&&(e.$$typeof===Ss||e.$$typeof===Es||e.$$typeof===ys||e.$$typeof===_s||e.$$typeof===bs||e.$$typeof===Zc||e.getModuleId!==void 0)};ve.typeOf=nt;Bc.exports=ve;var bd=Bc.exports;function wd(e,t){typeof e=="function"?e(t):typeof e=="object"&&e&&"current"in e&&(e.current=t)}function Nd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(function(s){return s});return r.length<=1?r[0]:function(s){t.forEach(function(i){wd(i,s)})}}var Ed=["className","suffix","loading","disabled","size","onSearch","onChange","onCompositionStart","onCompositionEnd"],Sd=y.forwardRef(function(e,t){var n,r=e.className,s=e.suffix,i=e.loading,a=e.disabled,c=e.size,l=e.onSearch,u=e.onChange,d=e.onCompositionStart,f=e.onCompositionEnd,h=Se(e,Ed),m=y.useContext($i),p=y.useRef(!1),v=c||m,g=y.useRef(null),b=function(D){D&&D.target&&D.type==="click"&&l&&l(D.target.value,D),u&&u(D)},w=function(D){var L;document.activeElement===((L=g.current)==null?void 0:L.input)&&D.preventDefault()},_=function(D){if(l){var L;l(((L=g.current)==null||(L=L.input)==null?void 0:L.value)||"",D)}},E=function(D){p.current||_(D)},N=me("input-search"),C=y.createElement(xd,null),A=N+"-button",j=y.createElement(le,{className:A,variant:"tertiary",type:"neutral",disabled:a,key:"enterButton",onMouseDown:w,onClick:_,loading:i,icon:C,size:v}),T=J(N,(n={},n[N+"-"+v]=!!v,n),r),k=function(D){p.current=!0,d==null||d(D)},M=function(D){p.current=!1,f==null||f(D)};return y.createElement(ps,se({ref:Nd(g,t),onPressEnter:E},h,{size:v,label:"",helperText:"",onCompositionStart:k,onCompositionEnd:M,prefix:j,suffix:s,onChange:b,className:T,disabled:a}))}),Cd=["onChange","onFocus","onBlur","onPressEnter","onKeyDown","disabled","className","defaultValue","status","size","autoHeight"],Td=x.forwardRef(function(e,t){var n=e.onChange,r=e.onFocus,s=e.onBlur,i=e.onPressEnter,a=e.onKeyDown,c=e.disabled,l=e.className,u=e.defaultValue,d=e.status,f=e.size,h=e.autoHeight,m=Se(e,Cd),p=me("input"),v=me("input-textarea"),g=J(v,l),b=ms(u,{value:e.value}),w=b[0],_=b[1],E=x.useState(w),N=E[0],C=E[1],A=x.useState(!1),j=A[0],T=A[1],k=x.useRef(null),M=function(te){k.current&&Lc(k.current,te)},Z=y.useContext($i),D=f||Z,L=y.useContext(Uc),B=c||L,ae="",$=Mc(ae,d),W=x.useRef([]),K=function(){W.current.push(window.setTimeout(function(){var te,Re;if(k.current&&((te=k.current)==null?void 0:te.getAttribute("type"))==="password"&&(Re=k.current)!=null&&Re.hasAttribute("value")){var Be;(Be=k.current)==null||Be.removeAttribute("value")}}))};x.useImperativeHandle(t,function(){return{focus:M,blur:function(){var te;(te=k.current)==null||te.blur()},setSelectionRange:function(te,Re,Be){var Qe;(Qe=k.current)==null||Qe.setSelectionRange(te,Re,Be)},select:function(){var te;(te=k.current)==null||te.select()},textarea:k.current}}),x.useEffect(function(){T(function(oe){return oe&&B?!1:oe})},[B]),x.useEffect(function(){return K(),function(){return W.current.forEach(function(oe){return window.clearTimeout(oe)})}},[]),x.useEffect(function(){if(h&&k.current){k.current.style.height="auto";var oe=k.current.scrollHeight;k.current.style.height=oe+"px"}},[h,N]);var xe=function(te){e.value===void 0&&_(te.target.value),h&&C(te.target.value),k.current&&Lr(k.current,te,n)},ke=function(te){i&&te.key==="Enter"&&i(te),a==null||a(te)},Me=function(te){T(!0),K(),r==null||r(te)},ye=function(te){T(!1),K(),s==null||s(te)},ee=function(te){_(""),M(),k.current&&Lr(k.current,te,n)},Ue=function(){var te,Re,Be=Li(e,["onPressEnter","prefix","suffix","clearable","status","helperText","errorText","size","defaultValue","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","showCount"]);return y.createElement("textarea",se({},Be,{onChange:xe,onFocus:Me,onBlur:ye,onKeyDown:ke,className:J(p,(te={},te[p+"-small"]=D==="small",te[p+"-medium"]=D==="medium",te[p+"-large"]=D==="large",te[p+"-disabled"]=B,te),!!w&&$r(p,$),g,(Re={},Re[v+"-min-height"]=!D,Re[v+"-has-show-count"]=m.showCount,Re),l),ref:k}))};return y.createElement(Vc,se({},m,{prefixCls:p,className:l,inputElement:Ue(),handleReset:ee,value:w,focused:j,triggerFocus:M,disabled:B||void 0,status:$,affixWrapperClassName:v+"-affix-wrapper"}))}),Wc=y.forwardRef(function(e,t){var n=e.disabled,r=e.otpLength,s=r===void 0?4:r,i=e.show,a=i===void 0?!1:i,c=e.defaultValue,l=e.onChange,u=e.value,d=e.readOnly,f=e.className,h=e.style,m=e.id,p=y.useRef(null),v=me("input"),g=me("input-otp"),b=ms(c||"",{value:u}),w=b[0],_=b[1],E=x.useState(!1),N=E[0],C=E[1],A=x.useState(null),j=A[0],T=A[1],k=x.useCallback(function(){var L;n||d||(C(!0),(L=p.current)==null||L.focus())},[n,d]),M=x.useCallback(function(L){var B=w.length;L&&B>L&&B-L<=1?T(L):T(B===s?B-1:B)},[w,s]),Z=x.useCallback(function(L){var B=L.target.value;B.length<=s&&(_(B),T(B.length),l==null||l(L))},[s,_,l]),D=x.useCallback(function(L){M(L),k()},[M,k]);return x.useImperativeHandle(t,function(){return{el:p.current,focus:function(){M(),k()},blur:function(){var B;(B=p.current)==null||B.blur()}}}),y.createElement("div",{className:J(g+"-wrapper")},y.createElement("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",autoComplete:"one-time-code",maxLength:s,ref:p,disabled:n,onFocus:function(){return k()},onBlur:function(){return C(!1)},value:w,onChange:Z,readOnly:d,className:J(g+"-hidden-input"),id:m}),y.createElement("div",{className:J(g+"-list")},Array(s).fill("").map(function(L,B){var ae,$=w.slice(B,B+1),W=j===B&&N;return y.createElement("div",{role:"presentation",onClick:function(){return D(B)},key:B,className:J(v,g,(ae={},ae[v+"-disabled"]=n,ae[g+"-active"]=W&&!n,ae[g+"-cursor"]=W&&!$&&!n,ae),f),style:h},$?a?$:y.createElement("span",{className:g+"-dot"}):"")})))});Wc.defaultProps={otpLength:4,show:!1};var Ct=ps;Ct.Password=Fc;Ct.Search=Sd;Ct.TextArea=Td;Ct.OTP=Wc;var La=function(e){return e.seen="seen",e.default="default",e}({}),jd=function(){var t=me("avatar-block-icon-bg");return y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},y.createElement("rect",{width:"12",height:"12",rx:"6",fill:"#DC1F18"}),y.createElement("path",{className:t,fillRule:"evenodd",clipRule:"evenodd",d:"M6 10.5C8.48528 10.5 10.5 8.48528 10.5 6C10.5 5.07331 10.2199 4.21205 9.73972 3.49626C9.63951 3.34688 9.429 3.33467 9.30181 3.46186L3.46186 9.30181C3.33467 9.429 3.34688 9.63951 3.49626 9.73972C4.21205 10.2199 5.07331 10.5 6 10.5ZM2.26028 8.50374C2.36048 8.65312 2.57099 8.66532 2.69819 8.53813L8.53813 2.69819C8.66533 2.57099 8.65312 2.36048 8.50374 2.26028C7.78795 1.78011 6.92668 1.5 6 1.5C3.51472 1.5 1.5 3.51472 1.5 6C1.5 6.92668 1.78011 7.78795 2.26028 8.50374Z",fill:"white"}))},Od=["story","blocked","children","src","online","className","size","style","backgroundColor"];function $a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$a(Object(n),!0).forEach(function(r){qe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$a(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var kd=4,Ad=function(t){if(typeof t!="string")return"GREEN-GREENLIGHT";for(var n=0,r=t.length,s=0;s<r;s+=1)n+=t.charCodeAt(s);var i=n%kd;switch(i){case 1:return"GREEN-GREENLIGHT";case 2:return"PURPLE-BLUE";case 3:return"SKYBLUE-GREEN";default:return"BLUE-BLUELIGHT"}},ni=y.forwardRef(function(e,t){var n,r=e.story,s=e.blocked,i=e.children,a=e.src,c=e.online,l=e.className,u=e.size,d=e.style,f=e.backgroundColor,h=Se(e,Od),m=me("avatar"),p=f;!p&&typeof i=="string"&&(p=Ad(i));var v=J(m,(n={},n[m+"-story"]=r===La.default,n[m+"-story-seen"]=r===La.seen,n[m+"-text-xsmall"]=u&&u<=24,n[m+"-text-small"]=u&&u>24&&u<=32,n[m+"-text-medium"]=u&&u>32&&u<=48,n[m+"-text-large"]=u&&u>48,n[m+"-color-01"]=p==="BLUE-BLUELIGHT",n[m+"-color-02"]=p==="PURPLE-BLUE",n[m+"-color-03"]=p==="SKYBLUE-GREEN",n[m+"-color-04"]=p==="GREEN-GREENLIGHT",n[""+l]=l,n)),g={};return d&&(g=Us({},d)),u&&(g=Us(Us({},g),{},{"--zaui-avatar-size":u+"px"})),y.createElement("div",se({ref:t,className:v,style:g},h),a?y.createElement("img",{className:m+"-image",src:a,alt:""}):y.createElement("div",{className:m+"-inner"},i),c&&y.createElement("span",{className:m+"-online"}),s&&y.createElement("span",{className:m+"-blocked"},y.createElement(jd,null)))}),Id=["children","horizontal","className","maxCounter","onCounterClick","total"],Ma=3,Pd=4,Gc=function(t){var n,r=t.children,s=t.horizontal,i=t.className,a=t.maxCounter,c=a===void 0?Ma:a,l=t.onCounterClick,u=t.total,d=Se(t,Id),f=me("avatar-group"),h=function(C){typeof l=="function"&&l(C)},m=c<1?Ma:c,p=m>Pd?!0:s,v=[];r&&y.Children.count(r)&&(v=y.Children.toArray(r));var g=u&&u>=v.length?u:v.length,b=g===m?g:m,w=v.slice(0,b).map(function(N){return N.props}),_=J(f,(n={},n[f+"-horizontal"]=p,n),i),E=J(f+"-item",f+"-item-max-counter");return y.createElement("div",se({className:_},d),w.map(function(N,C){return y.createElement(ni,se({className:f+"-item",key:(N==null?void 0:N.id)||"zaui-avatar-"+C},N,{story:!1,online:!1,size:24}))}),g>b&&y.createElement(ni,{onClick:h,className:E,size:24},"+",g-b))};Gc.displayName="Avatar.Group";var Vi=ni;Vi.Group=Gc;function ri(e,t){return ri=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ri(e,t)}function Kc(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ri(e,t)}function Rd(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function zd(e,t){e.classList?e.classList.add(t):Rd(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Ua(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Dd(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Ua(e.className,t):e.setAttribute("class",Ua(e.className&&e.className.baseVal||"",t))}const Va={disabled:!1},Hc=y.createContext(null);var Jc=function(t){return t.scrollTop},Ln="unmounted",Wt="exited",Gt="entering",fn="entered",si="exiting",jt=function(e){Kc(t,e);function t(r,s){var i;i=e.call(this,r,s)||this;var a=s,c=a&&!a.isMounting?r.enter:r.appear,l;return i.appearStatus=null,r.in?c?(l=Wt,i.appearStatus=Gt):l=fn:r.unmountOnExit||r.mountOnEnter?l=Ln:l=Wt,i.state={status:l},i.nextCallback=null,i}t.getDerivedStateFromProps=function(s,i){var a=s.in;return a&&i.status===Ln?{status:Wt}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var i=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==Gt&&a!==fn&&(i=Gt):(a===Gt||a===fn)&&(i=si)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,i,a,c;return i=a=c=s,s!=null&&typeof s!="number"&&(i=s.exit,a=s.enter,c=s.appear!==void 0?s.appear:a),{exit:i,enter:a,appear:c}},n.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===Gt){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Cr.findDOMNode(this);a&&Jc(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Wt&&this.setState({status:Ln})},n.performEnter=function(s){var i=this,a=this.props.enter,c=this.context?this.context.isMounting:s,l=this.props.nodeRef?[c]:[Cr.findDOMNode(this),c],u=l[0],d=l[1],f=this.getTimeouts(),h=c?f.appear:f.enter;if(!s&&!a||Va.disabled){this.safeSetState({status:fn},function(){i.props.onEntered(u)});return}this.props.onEnter(u,d),this.safeSetState({status:Gt},function(){i.props.onEntering(u,d),i.onTransitionEnd(h,function(){i.safeSetState({status:fn},function(){i.props.onEntered(u,d)})})})},n.performExit=function(){var s=this,i=this.props.exit,a=this.getTimeouts(),c=this.props.nodeRef?void 0:Cr.findDOMNode(this);if(!i||Va.disabled){this.safeSetState({status:Wt},function(){s.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:si},function(){s.props.onExiting(c),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:Wt},function(){s.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},n.setNextCallback=function(s){var i=this,a=!0;return this.nextCallback=function(c){a&&(a=!1,i.nextCallback=null,s(c))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(s,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:Cr.findDOMNode(this),c=s==null&&!this.props.addEndListener;if(!a||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],d=l[1];this.props.addEndListener(u,d)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Ln)return null;var i=this.props,a=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var c=Se(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return y.createElement(Hc.Provider,{value:null},typeof a=="function"?a(s,c):y.cloneElement(y.Children.only(a),c))},t}(y.Component);jt.contextType=Hc;jt.propTypes={};function an(){}jt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:an,onEntering:an,onEntered:an,onExit:an,onExiting:an,onExited:an};jt.UNMOUNTED=Ln;jt.EXITED=Wt;jt.ENTERING=Gt;jt.ENTERED=fn;jt.EXITING=si;var Ld=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return zd(t,r)})},Vs=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return Dd(t,r)})},Cs=function(e){Kc(t,e);function t(){for(var r,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(c,l){var u=r.resolveArguments(c,l),d=u[0],f=u[1];r.removeClasses(d,"exit"),r.addClass(d,f?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(c,l)},r.onEntering=function(c,l){var u=r.resolveArguments(c,l),d=u[0],f=u[1],h=f?"appear":"enter";r.addClass(d,h,"active"),r.props.onEntering&&r.props.onEntering(c,l)},r.onEntered=function(c,l){var u=r.resolveArguments(c,l),d=u[0],f=u[1],h=f?"appear":"enter";r.removeClasses(d,h),r.addClass(d,h,"done"),r.props.onEntered&&r.props.onEntered(c,l)},r.onExit=function(c){var l=r.resolveArguments(c),u=l[0];r.removeClasses(u,"appear"),r.removeClasses(u,"enter"),r.addClass(u,"exit","base"),r.props.onExit&&r.props.onExit(c)},r.onExiting=function(c){var l=r.resolveArguments(c),u=l[0];r.addClass(u,"exit","active"),r.props.onExiting&&r.props.onExiting(c)},r.onExited=function(c){var l=r.resolveArguments(c),u=l[0];r.removeClasses(u,"exit"),r.addClass(u,"exit","done"),r.props.onExited&&r.props.onExited(c)},r.resolveArguments=function(c,l){return r.props.nodeRef?[r.props.nodeRef.current,c]:[c,l]},r.getClassNames=function(c){var l=r.props.classNames,u=typeof l=="string",d=u&&l?l+"-":"",f=u?""+d+c:l[c],h=u?f+"-active":l[c+"Active"],m=u?f+"-done":l[c+"Done"];return{baseClassName:f,activeClassName:h,doneClassName:m}},r}var n=t.prototype;return n.addClass=function(s,i,a){var c=this.getClassNames(i)[a+"ClassName"],l=this.getClassNames("enter"),u=l.doneClassName;i==="appear"&&a==="done"&&u&&(c+=" "+u),a==="active"&&s&&Jc(s),c&&(this.appliedClasses[i][a]=c,Ld(s,c))},n.removeClasses=function(s,i){var a=this.appliedClasses[i],c=a.base,l=a.active,u=a.done;this.appliedClasses[i]={},c&&Vs(s,c),l&&Vs(s,l),u&&Vs(s,u)},n.render=function(){var s=this.props;s.classNames;var i=Se(s,["classNames"]);return y.createElement(jt,se({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(y.Component);Cs.defaultProps={classNames:""};Cs.propTypes={};var $d=function(t){var n=x.useState(!1),r=n[0],s=n[1],i=x.useRef(null),a=t.visible,c=a===void 0?!1:a,l=t.style,u=t.maskProps,d=t.children,f=t.className,h=me("mask"),m=J(h,f);return x.useEffect(function(){s(c)},[c]),y.createElement(Cs,{key:"modal-mask",in:r,nodeRef:i,timeout:{exit:300,enter:300},classNames:h},y.createElement("div",se({ref:i,style:l,className:m},u),d))},Md=["visible","afterClose","maskClosable","onClose","children","style","className"];function Fa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ud(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fa(Object(n),!0).forEach(function(r){qe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fa(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Vd=function(t){var n=t.visible,r=n===void 0?!1:n,s=t.afterClose,i=t.maskClosable,a=i===void 0?!0:i,c=t.onClose,l=t.children,u=t.style,d=t.className,f=Se(t,Md),h=x.useState(r),m=h[0],p=h[1],v=x.useRef(),g=x.useRef(!1),b=x.useRef();x.useEffect(function(){var j=document.querySelector(".zaui-page");r?(j&&j.classList.add("disable-scrolling"),p(!0)):j&&j.classList.remove("disable-scrolling")},[r]);var w=function(T){T||(p(!1),s==null||s())},_=function(){clearTimeout(b.current),g.current=!0},E=function(){b.current=setTimeout(function(){g.current=!1})},N=function(T){a&&(g.current?g.current=!1:v.current===T.target&&(c==null||c(T)))},C=me("modal-wrapper"),A=J(C,d);return y.createElement("div",se({},f,{ref:v,onClick:N,style:Ud({display:m?void 0:"none"},u||{}),className:A,role:"presentation"}),y.cloneElement(l,{onMouseDown:_,onMouseUp:E,onVisibleChanged:w}))};function Fd(e,t,n){return Math.max(t,Math.min(e,n))}const ze={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function Ba(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function Za(e,t,n,r=.15){return r===0?Fd(e,t,n):e<t?-Ba(t-e,n-t,r)+t:e>n?+Ba(e-n,n-t,r)+n:e}function Bd(e,[t,n],[r,s]){const[[i,a],[c,l]]=e;return[Za(t,i,a,r),Za(n,c,l,s)]}function Zd(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wd(e){var t=Zd(e,"string");return typeof t=="symbol"?t:String(t)}function We(e,t,n){return t=Wd(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wa(Object(n),!0).forEach(function(r){We(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wa(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const qc={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Ga(e){return e?e[0].toUpperCase()+e.slice(1):""}const Gd=["enter","leave"];function Kd(e=!1,t){return e&&!Gd.includes(t)}function Hd(e,t="",n=!1){const r=qc[e],s=r&&r[t]||t;return"on"+Ga(e)+Ga(s)+(Kd(n,s)?"Capture":"")}const Jd=["gotpointercapture","lostpointercapture"];function qd(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=Jd.includes(t)?"capturecapture":"capture",s=!!~t.indexOf(r);return s&&(t=t.replace("capture","")),{device:t,capture:s,passive:n}}function Qd(e,t=""){const n=qc[e],r=n&&n[t]||t;return e+r}function Ts(e){return"touches"in e}function Qc(e){return Ts(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function Yd(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function Xd(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function Yc(e){return Ts(e)?Xd(e)[0]:e}function ef(e){return Yd(e).map(t=>t.identifier)}function Fs(e){const t=Yc(e);return Ts(e)?t.identifier:t.pointerId}function Ka(e){const t=Yc(e);return[t.clientX,t.clientY]}function tf(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:s,ctrlKey:i}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:s,ctrlKey:i})}return t}function Mr(e,...t){return typeof e=="function"?e(...t):e}function nf(){}function rf(...e){return e.length===0?nf:e.length===1?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function Ha(e,t){return Object.assign({},t,e||{})}const sf=32;class af{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:r,args:s}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=s,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?Mr(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:r,shared:s}=this;n.args=this.args;let i=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,s.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,s.locked=!!document.pointerLockElement,Object.assign(s,tf(t)),s.down=s.pressed=s.buttons%2===1||s.touches>0,i=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const C=n._delta.map(Math.abs);ze.addTo(n._distance,C)}this.axisIntent&&this.axisIntent(t);const[a,c]=n._movement,[l,u]=r.threshold,{_step:d,values:f}=n;if(r.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(a)>=l&&f[0]),d[1]===!1&&(d[1]=Math.abs(c)>=u&&f[1])):(d[0]===!1&&(d[0]=Math.abs(a)>=l&&Math.sign(a)*l),d[1]===!1&&(d[1]=Math.abs(c)>=u&&Math.sign(c)*u)),n.intentional=d[0]!==!1||d[1]!==!1,!n.intentional)return;const h=[0,0];if(r.hasCustomTransform){const[C,A]=f;h[0]=d[0]!==!1?C-d[0]:0,h[1]=d[1]!==!1?A-d[1]:0}else h[0]=d[0]!==!1?a-d[0]:0,h[1]=d[1]!==!1?c-d[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(h);const m=n.offset,p=n._active&&!n._blocked||n.active;p&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=s[this.ingKey]=n._active,t&&(n.first&&("bounds"in r&&(n._bounds=Mr(r.bounds,n)),this.setup&&this.setup()),n.movement=h,this.computeOffset()));const[v,g]=n.offset,[[b,w],[_,E]]=n._bounds;n.overflow=[v<b?-1:v>w?1:0,g<_?-1:g>E?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const N=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=Bd(n._bounds,n.offset,N),n.delta=ze.sub(n.offset,m),this.computeMovement(),p&&(!n.last||i>sf)){n.delta=ze.sub(n.offset,m);const C=n.delta.map(Math.abs);ze.addTo(n.distance,C),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&i>0&&(n.velocity=[C[0]/i,C[1]/i],n.timeDelta=i)}}emit(){const t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const s=this.handler(Ee(Ee(Ee({},n),t),{},{[this.aliasKey]:t.values}));s!==void 0&&(t.memo=s)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function of([e,t],n){const r=Math.abs(e),s=Math.abs(t);if(r>s&&r>n)return"x";if(s>r&&s>n)return"y"}class cf extends af{constructor(...t){super(...t),We(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ze.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ze.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,r=this.config;if(!n.axis&&t){const s=typeof r.axisThreshold=="object"?r.axisThreshold[Qc(t)]:r.axisThreshold;n.axis=of(n._movement,s)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const lf=e=>e,Ja=.15,Xc={enabled(e=!0){return e},eventOptions(e,t,n){return Ee(Ee({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[Ja,Ja];case!1:return[0,0];default:return ze.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return ze.toVector(e)},transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||lf},threshold(e){return ze.toVector(e,0)}},uf=0,xr=Ee(Ee({},Xc),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(e=uf){return e},bounds(e={}){if(typeof e=="function")return i=>xr.bounds(e(i));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:s=1/0}=e;return[[t,n],[r,s]]}}),qa={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class df extends cf{constructor(...t){super(...t),We(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),s={left:n.left-r.left+t.offset[0],right:n.right-r.right+t.offset[0],top:n.top-r.top+t.offset[1],bottom:n.bottom-r.bottom+t.offset[1]};t._bounds=xr.bounds(s)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const s=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(s&&s.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=Fs(t),r._pointerActive=!0,this.computeValues(Ka(t)),this.computeInitial(),n.preventScrollAxis&&Qc(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,r=this.config;if(!n._pointerActive)return;const s=Fs(t);if(n._pointerId!==void 0&&s!==n._pointerId)return;const i=Ka(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=ze.sub(i,n._values),this.computeValues(i)),ze.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch(c){}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const s=Fs(t);if(n._pointerId!==void 0&&s!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[i,a]=n._distance;if(n.tap=i<=r.tapsThreshold&&a<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[c,l]=n._delta,[u,d]=n._movement,[f,h]=r.swipe.velocity,[m,p]=r.swipe.distance,v=r.swipe.duration;if(n.elapsedTime<v){const g=Math.abs(c/n.timeDelta),b=Math.abs(l/n.timeDelta);g>f&&Math.abs(u)>m&&(n.swipe[0]=Math.sign(c)),b>h&&Math.abs(d)>p&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,r=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,ff(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=qa[t.key];if(n){const r=this.state,s=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=n(this.config.keyboardDisplacement,s),r._keyboardActive=!0,ze.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in qa&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function ff(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const yr=typeof window!="undefined"&&window.document&&window.document.createElement;function el(){return yr&&"ontouchstart"in window}function hf(){return el()||yr&&window.navigator.maxTouchPoints>1}function mf(){return yr&&"onpointerdown"in window}function pf(){return yr&&"exitPointerLock"in window.document}function gf(){try{return"constructor"in GestureEvent}catch(e){return!1}}const Ye={isBrowser:yr,gesture:gf(),touch:el(),touchscreen:hf(),pointer:mf(),pointerLock:pf()},vf=250,xf=180,yf=.5,_f=50,bf=250,wf=10,Qa={mouse:0,touch:0,pen:8},Nf=Ee(Ee({},xr),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:s=!1}={}}){return this.pointerLock=r&&Ye.pointerLock,Ye.touch&&n?"touch":this.pointerLock?"mouse":Ye.pointer&&!s?"pointer":Ye.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&e?vf:void 0,!(!Ye.touchscreen||n===!1))return e||(n!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:s=!0}={}}){return this.pointerButtons=r,this.keys=s,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:s=void 0}){const i=ze.toVector(e,n?r:s?1:0);return this.filterTaps=n,this.tapsThreshold=r,i},swipe({velocity:e=yf,distance:t=_f,duration:n=bf}={}){return{velocity:this.transform(ze.toVector(e)),distance:this.transform(ze.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return xf;case!1:return 0;default:return e}},axisThreshold(e){return e?Ee(Ee({},Qa),e):Qa},keyboardDisplacement(e=wf){return e}});Ee(Ee({},Xc),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!Ye.touch&&Ye.gesture)return"gesture";if(Ye.touch&&r)return"touch";if(Ye.touchscreen){if(Ye.pointer)return"pointer";if(Ye.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const s=a=>{const c=Ha(Mr(n,a),{min:-1/0,max:1/0});return[c.min,c.max]},i=a=>{const c=Ha(Mr(r,a),{min:-1/0,max:1/0});return[c.min,c.max]};return typeof n!="function"&&typeof r!="function"?[s(),i()]:a=>[s(a),i(a)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",ze.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});Ee(Ee({},xr),{},{mouseOnly:(e=!0)=>e});Ee(Ee({},xr),{},{mouseOnly:(e=!0)=>e});const tl=new Map,ii=new Map;function Ef(e){tl.set(e.key,e.engine),ii.set(e.key,e.resolver)}const Sf={key:"drag",engine:df,resolver:Nf};function Cf(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Tf(e,t){if(e==null)return{};var n=Cf(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const jf={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=Ye.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},Of=["target","eventOptions","window","enabled","transform"];function Pr(e={},t){const n={};for(const[r,s]of Object.entries(t))switch(typeof s){case"function":n[r]=s.call(n,e[r],r,e);break;case"object":n[r]=Pr(e[r],s);break;case"boolean":s&&(n[r]=e[r]);break}return n}function kf(e,t,n={}){const r=e,{target:s,eventOptions:i,window:a,enabled:c,transform:l}=r,u=Tf(r,Of);if(n.shared=Pr({target:s,eventOptions:i,window:a,enabled:c,transform:l},jf),t){const d=ii.get(t);n[t]=Pr(Ee({shared:n.shared},u),d)}else for(const d in u){const f=ii.get(d);f&&(n[d]=Pr(Ee({shared:n.shared},u[d]),f))}return n}class nl{constructor(t,n){We(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,r,s,i){const a=this._listeners,c=Qd(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=Ee(Ee({},l),i);t.addEventListener(c,s,u);const d=()=>{t.removeEventListener(c,s,u),a.delete(d)};return a.add(d),d}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class Af{constructor(){We(this,"_timeouts",new Map)}add(t,n,r=140,...s){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...s))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}let If=class{constructor(t){We(this,"gestures",new Set),We(this,"_targetEventStore",new nl(this)),We(this,"gestureEventStores",{}),We(this,"gestureTimeoutStores",{}),We(this,"handlers",{}),We(this,"config",{}),We(this,"pointerIds",new Set),We(this,"touchIds",new Set),We(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Pf(this,t)}setEventIds(t){if(Ts(t))return this.touchIds=new Set(ef(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=kf(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,r={};let s;if(!(n.target&&(s=n.target(),!s))){if(n.enabled){for(const a of this.gestures){const c=this.config[a],l=Ya(r,c.eventOptions,!!s);if(c.enabled){const u=tl.get(a);new u(this,t,a).bind(l)}}const i=Ya(r,n.eventOptions,!!s);for(const a in this.nativeHandlers)i(a,"",c=>this.nativeHandlers[a](Ee(Ee({},this.state.shared),{},{event:c,args:t})),void 0,!0)}for(const i in r)r[i]=rf(...r[i]);if(!s)return r;for(const i in r){const{device:a,capture:c,passive:l}=qd(i);this._targetEventStore.add(s,a,"",r[i],{capture:c,passive:l})}}}};function on(e,t){e.gestures.add(t),e.gestureEventStores[t]=new nl(e,t),e.gestureTimeoutStores[t]=new Af}function Pf(e,t){t.drag&&on(e,"drag"),t.wheel&&on(e,"wheel"),t.scroll&&on(e,"scroll"),t.move&&on(e,"move"),t.pinch&&on(e,"pinch"),t.hover&&on(e,"hover")}const Ya=(e,t,n)=>(r,s,i,a={},c=!1)=>{var l,u;const d=(l=a.capture)!==null&&l!==void 0?l:t.capture,f=(u=a.passive)!==null&&u!==void 0?u:t.passive;let h=c?r:Hd(r,s,d);n&&f&&(h+="Passive"),e[h]=e[h]||[],e[h].push(i)};function Rf(e,t={},n,r){const s=y.useMemo(()=>new If(e),[]);if(s.applyHandlers(e,r),s.applyConfig(t,n),y.useEffect(s.effect.bind(s)),y.useEffect(()=>s.clean.bind(s),[]),t.target===void 0)return s.bind.bind(s)}function zf(e,t){return Ef(Sf),Rf({drag:e},t||{},"drag")}let Fi=br();const ne=e=>_r(e,Fi);let Bi=br();ne.write=e=>_r(e,Bi);let js=br();ne.onStart=e=>_r(e,js);let Zi=br();ne.onFrame=e=>_r(e,Zi);let Wi=br();ne.onFinish=e=>_r(e,Wi);let vn=[];ne.setTimeout=(e,t)=>{let n=ne.now()+t,r=()=>{let i=vn.findIndex(a=>a.cancel==r);~i&&vn.splice(i,1),Dt-=~i?1:0},s={time:n,handler:e,cancel:r};return vn.splice(rl(n),0,s),Dt+=1,sl(),s};let rl=e=>~(~vn.findIndex(t=>t.time>e)||~vn.length);ne.cancel=e=>{js.delete(e),Zi.delete(e),Wi.delete(e),Fi.delete(e),Bi.delete(e)};ne.sync=e=>{ai=!0,ne.batchedUpdates(e),ai=!1};ne.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...s){t=s,ne.onStart(n)}return r.handler=e,r.cancel=()=>{js.delete(n),t=null},r};let Gi=typeof window!="undefined"?window.requestAnimationFrame:()=>{};ne.use=e=>Gi=e;ne.now=typeof performance!="undefined"?()=>performance.now():Date.now;ne.batchedUpdates=e=>e();ne.catch=console.error;ne.frameLoop="always";ne.advance=()=>{ne.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):al()};let zt=-1,Dt=0,ai=!1;function _r(e,t){ai?(t.delete(e),e(0)):(t.add(e),sl())}function sl(){zt<0&&(zt=0,ne.frameLoop!=="demand"&&Gi(il))}function Df(){zt=-1}function il(){~zt&&(Gi(il),ne.batchedUpdates(al))}function al(){let e=zt;zt=ne.now();let t=rl(zt);if(t&&(ol(vn.splice(0,t),n=>n.handler()),Dt-=t),!Dt){Df();return}js.flush(),Fi.flush(e?Math.min(64,zt-e):16.667),Zi.flush(),Bi.flush(),Wi.flush()}function br(){let e=new Set,t=e;return{add(n){Dt+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return Dt-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,Dt-=t.size,ol(t,r=>r(n)&&e.add(r)),Dt+=e.size,t=e)}}}function ol(e,t){e.forEach(n=>{try{t(n)}catch(r){ne.catch(r)}})}function oi(){}const Lf=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),I={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function wt(e,t){if(I.arr(e)){if(!I.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}const ue=(e,t)=>e.forEach(t);function mt(e,t,n){if(I.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}const Je=e=>I.und(e)?[]:I.arr(e)?e:[e];function Un(e,t){if(e.size){const n=Array.from(e);e.clear(),ue(n,t)}}const $n=(e,...t)=>Un(e,n=>n(...t)),Ki=()=>typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let Hi,cl,Lt=null,ll=!1,Ji=oi;const $f=e=>{e.to&&(cl=e.to),e.now&&(ne.now=e.now),e.colors!==void 0&&(Lt=e.colors),e.skipAnimation!=null&&(ll=e.skipAnimation),e.createStringInterpolator&&(Hi=e.createStringInterpolator),e.requestAnimationFrame&&ne.use(e.requestAnimationFrame),e.batchedUpdates&&(ne.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Ji=e.willAdvance),e.frameLoop&&(ne.frameLoop=e.frameLoop)};var pt=Object.freeze({__proto__:null,get createStringInterpolator(){return Hi},get to(){return cl},get colors(){return Lt},get skipAnimation(){return ll},get willAdvance(){return Ji},assign:$f});const Vn=new Set;let et=[],Bs=[],Ur=0;const Os={get idle(){return!Vn.size&&!et.length},start(e){Ur>e.priority?(Vn.add(e),ne.onStart(Mf)):(ul(e),ne(ci))},advance:ci,sort(e){if(Ur)ne.onFrame(()=>Os.sort(e));else{const t=et.indexOf(e);~t&&(et.splice(t,1),dl(e))}},clear(){et=[],Vn.clear()}};function Mf(){Vn.forEach(ul),Vn.clear(),ne(ci)}function ul(e){et.includes(e)||dl(e)}function dl(e){et.splice(Uf(et,t=>t.priority>e.priority),0,e)}function ci(e){const t=Bs;for(let n=0;n<et.length;n++){const r=et[n];Ur=r.priority,r.idle||(Ji(r),r.advance(e),r.idle||t.push(r))}return Ur=0,Bs=et,Bs.length=0,et=t,et.length>0}function Uf(e,t){const n=e.findIndex(t);return n<0?e.length:n}const Vf={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},st="[-+]?\\d*\\.?\\d+",Vr=st+"%";function ks(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}const Ff=new RegExp("rgb"+ks(st,st,st)),Bf=new RegExp("rgba"+ks(st,st,st,st)),Zf=new RegExp("hsl"+ks(st,Vr,Vr)),Wf=new RegExp("hsla"+ks(st,Vr,Vr,st)),Gf=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Kf=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Hf=/^#([0-9a-fA-F]{6})$/,Jf=/^#([0-9a-fA-F]{8})$/;function qf(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Hf.exec(e))?parseInt(t[1]+"ff",16)>>>0:Lt&&Lt[e]!==void 0?Lt[e]:(t=Ff.exec(e))?(cn(t[1])<<24|cn(t[2])<<16|cn(t[3])<<8|255)>>>0:(t=Bf.exec(e))?(cn(t[1])<<24|cn(t[2])<<16|cn(t[3])<<8|to(t[4]))>>>0:(t=Gf.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Jf.exec(e))?parseInt(t[1],16)>>>0:(t=Kf.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Zf.exec(e))?(Xa(eo(t[1]),jr(t[2]),jr(t[3]))|255)>>>0:(t=Wf.exec(e))?(Xa(eo(t[1]),jr(t[2]),jr(t[3]))|to(t[4]))>>>0:null}function Zs(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Xa(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r,i=Zs(s,r,e+1/3),a=Zs(s,r,e),c=Zs(s,r,e-1/3);return Math.round(i*255)<<24|Math.round(a*255)<<16|Math.round(c*255)<<8}function cn(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function eo(e){return(parseFloat(e)%360+360)%360/360}function to(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function jr(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function no(e){let t=qf(e);if(t===null)return e;t=t||0;let n=(t&4278190080)>>>24,r=(t&16711680)>>>16,s=(t&65280)>>>8,i=(t&255)/255;return`rgba(${n}, ${r}, ${s}, ${i})`}const Jn=(e,t,n)=>{if(I.fun(e))return e;if(I.arr(e))return Jn({range:e,output:t,extrapolate:n});if(I.str(e.output[0]))return Hi(e);const r=e,s=r.output,i=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",c=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const d=Yf(u,i);return Qf(u,i[d],i[d+1],s[d],s[d+1],l,a,c,r.map)}};function Qf(e,t,n,r,s,i,a,c,l){let u=l?l(e):e;if(u<t){if(a==="identity")return u;a==="clamp"&&(u=t)}if(u>n){if(c==="identity")return u;c==="clamp"&&(u=n)}return r===s?r:t===n?e<=t?r:s:(t===-1/0?u=-u:n===1/0?u=u-t:u=(u-t)/(n-t),u=i(u),r===-1/0?u=-u:s===1/0?u=u+r:u=u*(s-r)+r,u)}function Yf(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}function li(){return li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},li.apply(this,arguments)}const _n=Symbol.for("FluidValue.get"),qt=Symbol.for("FluidValue.observers"),Xe=e=>!!(e&&e[_n]),Ge=e=>e&&e[_n]?e[_n]():e,ro=e=>e[qt]||null;function Xf(e,t){e.eventObserved?e.eventObserved(t):e(t)}function qn(e,t){let n=e[qt];n&&n.forEach(r=>{Xf(r,t)})}class fl{constructor(t){if(this[_n]=void 0,this[qt]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");eh(this,t)}}const eh=(e,t)=>hl(e,_n,t);function Cn(e,t){if(e[_n]){let n=e[qt];n||hl(e,qt,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Qn(e,t){let n=e[qt];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[qt]=null,e.observerRemoved&&e.observerRemoved(r,t)}}const hl=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Rr=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,th=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,so=new RegExp(`(${Rr.source})(%|[a-z]+)`,"i"),nh=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,As=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,ml=e=>{const[t,n]=rh(e);if(!t||Ki())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const s=window.getComputedStyle(document.documentElement).getPropertyValue(n);return s||e}else{if(n&&As.test(n))return ml(n);if(n)return n}return e},rh=e=>{const t=As.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]};let Ws;const sh=(e,t,n,r,s)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${s})`,pl=e=>{Ws||(Ws=Lt?new RegExp(`(${Object.keys(Lt).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(i=>Ge(i).replace(As,ml).replace(th,no).replace(Ws,no)),n=t.map(i=>i.match(Rr).map(Number)),s=n[0].map((i,a)=>n.map(c=>{if(!(a in c))throw Error('The arity of each "output" value must be equal');return c[a]})).map(i=>Jn(li({},e,{output:i})));return i=>{var a;const c=!so.test(t[0])&&((a=t.find(u=>so.test(u)))==null?void 0:a.replace(Rr,""));let l=0;return t[0].replace(Rr,()=>`${s[l++](i)}${c||""}`).replace(nh,sh)}},qi="react-spring: ",gl=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${qi}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},ih=gl(console.warn);function ah(){ih(`${qi}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const oh=gl(console.warn);function ch(){oh(`${qi}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Is(e){return I.str(e)&&(e[0]=="#"||/\d/.test(e)||!Ki()&&As.test(e)||e in(Lt||{}))}const Qi=Ki()?x.useEffect:x.useLayoutEffect,lh=()=>{const e=x.useRef(!1);return Qi(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function vl(){const e=x.useState()[1],t=lh();return()=>{t.current&&e(Math.random())}}function uh(e,t){const[n]=x.useState(()=>({inputs:t,result:e()})),r=x.useRef(),s=r.current;let i=s;return i?t&&i.inputs&&dh(t,i.inputs)||(i={inputs:t,result:e()}):i=n,x.useEffect(()=>{r.current=i,s==n&&(n.inputs=n.result=void 0)},[i]),i.result}function dh(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const xl=e=>x.useEffect(e,fh),fh=[];function io(e){const t=x.useRef();return x.useEffect(()=>{t.current=e}),t.current}const Yn=Symbol.for("Animated:node"),hh=e=>!!e&&e[Yn]===e,lt=e=>e&&e[Yn],Yi=(e,t)=>Lf(e,Yn,t),Ps=e=>e&&e[Yn]&&e[Yn].getPayload();class yl{constructor(){this.payload=void 0,Yi(this,this)}getPayload(){return this.payload||[]}}class Tn extends yl{constructor(t){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=t,I.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Tn(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,n){return I.num(t)&&(this.lastPosition=t,n&&(t=Math.round(t/n)*n,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,I.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}}class bn extends Tn{constructor(t){super(0),this._string=null,this._toString=void 0,this._toString=Jn({output:[t,t]})}static create(t){return new bn(t)}getValue(){let t=this._string;return t==null?this._string=this._toString(this._value):t}setValue(t){if(I.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Jn({output:[this.getValue(),t]})),this._value=0,super.reset()}}const Fr={dependencies:null};class Rs extends yl{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const n={};return mt(this.source,(r,s)=>{hh(r)?n[s]=r.getValue(t):Xe(r)?n[s]=Ge(r):t||(n[s]=r)}),n}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&ue(this.payload,t=>t.reset())}_makePayload(t){if(t){const n=new Set;return mt(t,this._addToPayload,n),Array.from(n)}}_addToPayload(t){Fr.dependencies&&Xe(t)&&Fr.dependencies.add(t);const n=Ps(t);n&&ue(n,r=>this.add(r))}}class Xi extends Rs{constructor(t){super(t)}static create(t){return new Xi(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const n=this.getPayload();return t.length==n.length?n.map((r,s)=>r.setValue(t[s])).some(Boolean):(super.setValue(t.map(mh)),!0)}}function mh(e){return(Is(e)?bn:Tn).create(e)}function ui(e){const t=lt(e);return t?t.constructor:I.arr(e)?Xi:Is(e)?bn:Tn}function Br(){return Br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Br.apply(this,arguments)}const ao=(e,t)=>{const n=!I.fun(e)||e.prototype&&e.prototype.isReactComponent;return x.forwardRef((r,s)=>{const i=x.useRef(null),a=n&&x.useCallback(p=>{i.current=vh(s,p)},[s]),[c,l]=gh(r,t),u=vl(),d=()=>{const p=i.current;if(n&&!p)return;(p?t.applyAnimatedValues(p,c.getValue(!0)):!1)===!1&&u()},f=new ph(d,l),h=x.useRef();Qi(()=>(h.current=f,ue(l,p=>Cn(p,f)),()=>{h.current&&(ue(h.current.deps,p=>Qn(p,h.current)),ne.cancel(h.current.update))})),x.useEffect(d,[]),xl(()=>()=>{const p=h.current;ue(p.deps,v=>Qn(v,p))});const m=t.getComponentProps(c.getValue());return x.createElement(e,Br({},m,{ref:a}))})};class ph{constructor(t,n){this.update=t,this.deps=n}eventObserved(t){t.type=="change"&&ne.write(this.update)}}function gh(e,t){const n=new Set;return Fr.dependencies=n,e.style&&(e=Br({},e,{style:t.createAnimatedStyle(e.style)})),e=new Rs(e),Fr.dependencies=null,[e,n]}function vh(e,t){return e&&(I.fun(e)?e(t):e.current=t),t}const oo=Symbol.for("AnimatedComponent"),xh=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=s=>new Rs(s),getComponentProps:r=s=>s}={})=>{const s={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},i=a=>{const c=co(a)||"Anonymous";return I.str(a)?a=i[a]||(i[a]=ao(a,s)):a=a[oo]||(a[oo]=ao(a,s)),a.displayName=`Animated(${c})`,a};return mt(e,(a,c)=>{I.arr(e)&&(c=co(a)),i[c]=i(a)}),{animated:i}},co=e=>I.str(e)?e:e&&I.str(e.displayName)?e.displayName:I.fun(e)&&e.name||null;function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(this,arguments)}function Kt(e,...t){return I.fun(e)?e(...t):e}const Fn=(e,t)=>e===!0||!!(t&&e&&(I.fun(e)?e(t):Je(e).includes(t))),_l=(e,t)=>I.obj(e)?t&&e[t]:e,bl=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,yh=e=>e,ea=(e,t=yh)=>{let n=_h;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const s of n){const i=t(e[s],s);I.und(i)||(r[s]=i)}return r},_h=["config","onProps","onStart","onChange","onPause","onResume","onRest"],bh={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function wh(e){const t={};let n=0;if(mt(e,(r,s)=>{bh[s]||(t[s]=r,n++)}),n)return t}function wl(e){const t=wh(e);if(t){const n={to:t};return mt(e,(r,s)=>s in t||(n[s]=r)),n}return Ie({},e)}function Xn(e){return e=Ge(e),I.arr(e)?e.map(Xn):Is(e)?pt.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Nh(e){for(const t in e)return!0;return!1}function di(e){return I.fun(e)||I.arr(e)&&I.obj(e[0])}function Eh(e,t){var n;(n=e.ref)==null||n.delete(e),t==null||t.delete(e)}function Sh(e,t){if(t&&e.ref!==t){var n;(n=e.ref)==null||n.delete(e),t.add(e),e.ref=t}}const Nl={default:{tension:170,friction:26},stiff:{tension:210,friction:20}},Ch={linear:e=>e},fi=Ie({},Nl.default,{mass:1,damping:1,easing:Ch.linear,clamp:!1});class Th{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,fi)}}function jh(e,t,n){n&&(n=Ie({},n),lo(n,t),t=Ie({},n,t)),lo(e,t),Object.assign(e,t);for(const a in fi)e[a]==null&&(e[a]=fi[a]);let{mass:r,frequency:s,damping:i}=e;return I.und(s)||(s<.01&&(s=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/s,2)*r,e.friction=4*Math.PI*i*r/s),e}function lo(e,t){if(!I.und(t.decay))e.duration=void 0;else{const n=!I.und(t.tension)||!I.und(t.friction);(n||!I.und(t.frequency)||!I.und(t.damping)||!I.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}const uo=[];class Oh{constructor(){this.changed=!1,this.values=uo,this.toValues=null,this.fromValues=uo,this.to=void 0,this.from=void 0,this.config=new Th,this.immediate=!1}}function El(e,{key:t,props:n,defaultProps:r,state:s,actions:i}){return new Promise((a,c)=>{var l;let u,d,f=Fn((l=n.cancel)!=null?l:r==null?void 0:r.cancel,t);if(f)p();else{I.und(n.pause)||(s.paused=Fn(n.pause,t));let v=r==null?void 0:r.pause;v!==!0&&(v=s.paused||Fn(v,t)),u=Kt(n.delay||0,t),v?(s.resumeQueue.add(m),i.pause()):(i.resume(),m())}function h(){s.resumeQueue.add(m),s.timeouts.delete(d),d.cancel(),u=d.time-ne.now()}function m(){u>0&&!pt.skipAnimation?(s.delayed=!0,d=ne.setTimeout(p,u),s.pauseQueue.add(h),s.timeouts.add(d)):p()}function p(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(h),s.timeouts.delete(d),e<=(s.cancelId||0)&&(f=!0);try{i.start(Ie({},n,{callId:e,cancel:f}),a)}catch(v){c(v)}}})}const ta=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?xn(e.get()):t.every(n=>n.noop)?Sl(e.get()):rt(e.get(),t.every(n=>n.finished)),Sl=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),rt=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),xn=e=>({value:e,cancelled:!0,finished:!1});function Cl(e,t,n,r){const{callId:s,parentId:i,onRest:a}=t,{asyncTo:c,promise:l}=n;return!i&&e===c&&!t.reset?l:n.promise=z(this,null,function*(){n.asyncId=s,n.asyncTo=e;const u=ea(t,(g,b)=>b==="onRest"?void 0:g);let d,f;const h=new Promise((g,b)=>(d=g,f=b)),m=g=>{const b=s<=(n.cancelId||0)&&xn(r)||s!==n.asyncId&&rt(r,!1);if(b)throw g.result=b,f(g),g},p=(g,b)=>{const w=new fo,_=new ho;return z(this,null,function*(){if(pt.skipAnimation)throw er(n),_.result=rt(r,!1),f(_),_;m(w);const E=I.obj(g)?Ie({},g):Ie({},b,{to:g});E.parentId=s,mt(u,(C,A)=>{I.und(E[A])&&(E[A]=C)});const N=yield r.start(E);return m(w),n.paused&&(yield new Promise(C=>{n.resumeQueue.add(C)})),N})};let v;if(pt.skipAnimation)return er(n),rt(r,!1);try{let g;I.arr(e)?g=(b=>z(this,null,function*(){for(const w of b)yield p(w)}))(e):g=Promise.resolve(e(p,r.stop.bind(r))),yield Promise.all([g.then(d),h]),v=rt(r.get(),!0,!1)}catch(g){if(g instanceof fo)v=g.result;else if(g instanceof ho)v=g.result;else throw g}finally{s==n.asyncId&&(n.asyncId=i,n.asyncTo=i?c:void 0,n.promise=i?l:void 0)}return I.fun(a)&&ne.batchedUpdates(()=>{a(v,r,r.item)}),v})}function er(e,t){Un(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class fo extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class ho extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const hi=e=>e instanceof na;let kh=1;class na extends fl{constructor(...t){super(...t),this.id=kh++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=lt(this);return t&&t.getValue()}to(...t){return pt.to(this,t)}interpolate(...t){return ah(),pt.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,n=!1){qn(this,{type:"change",parent:this,value:t,idle:n})}_onPriorityChange(t){this.idle||Os.sort(this),qn(this,{type:"priority",parent:this,priority:t})}}const Qt=Symbol.for("SpringPhase"),Tl=1,mi=2,pi=4,Gs=e=>(e[Qt]&Tl)>0,kt=e=>(e[Qt]&mi)>0,An=e=>(e[Qt]&pi)>0,mo=(e,t)=>t?e[Qt]|=mi|Tl:e[Qt]&=~mi,po=(e,t)=>t?e[Qt]|=pi:e[Qt]&=~pi;class Ah extends na{constructor(t,n){if(super(),this.key=void 0,this.animation=new Oh,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!I.und(t)||!I.und(n)){const r=I.obj(t)?Ie({},t):Ie({},n,{from:t});I.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(kt(this)||this._state.asyncTo)||An(this)}get goal(){return Ge(this.animation.to)}get velocity(){const t=lt(this);return t instanceof Tn?t.lastVelocity||0:t.getPayload().map(n=>n.lastVelocity||0)}get hasAnimated(){return Gs(this)}get isAnimating(){return kt(this)}get isPaused(){return An(this)}get isDelayed(){return this._state.delayed}advance(t){let n=!0,r=!1;const s=this.animation;let{config:i,toValues:a}=s;const c=Ps(s.to);!c&&Xe(s.to)&&(a=Je(Ge(s.to))),s.values.forEach((d,f)=>{if(d.done)return;const h=d.constructor==bn?1:c?c[f].lastPosition:a[f];let m=s.immediate,p=h;if(!m){if(p=d.lastPosition,i.tension<=0){d.done=!0;return}let v=d.elapsedTime+=t;const g=s.fromValues[f],b=d.v0!=null?d.v0:d.v0=I.arr(i.velocity)?i.velocity[f]:i.velocity;let w;const _=i.precision||(g==h?.005:Math.min(1,Math.abs(h-g)*.001));if(I.und(i.duration))if(i.decay){const E=i.decay===!0?.998:i.decay,N=Math.exp(-(1-E)*v);p=g+b/(1-E)*(1-N),m=Math.abs(d.lastPosition-p)<=_,w=b*N}else{w=d.lastVelocity==null?b:d.lastVelocity;const E=i.restVelocity||_/10,N=i.clamp?0:i.bounce,C=!I.und(N),A=g==h?d.v0>0:g<h;let j,T=!1;const k=1,M=Math.ceil(t/k);for(let Z=0;Z<M&&(j=Math.abs(w)>E,!(!j&&(m=Math.abs(h-p)<=_,m)));++Z){C&&(T=p==h||p>h==A,T&&(w=-w*N,p=h));const D=-i.tension*1e-6*(p-h),L=-i.friction*.001*w,B=(D+L)/i.mass;w=w+B*k,p=p+w*k}}else{let E=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,d.durationProgress>0&&(d.elapsedTime=i.duration*d.durationProgress,v=d.elapsedTime+=t)),E=(i.progress||0)+v/this._memoizedDuration,E=E>1?1:E<0?0:E,d.durationProgress=E),p=g+i.easing(E)*(h-g),w=(p-d.lastPosition)/t,m=E==1}d.lastVelocity=w,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),m=!0)}c&&!c[f].done&&(m=!1),m?d.done=!0:n=!1,d.setValue(p,i.round)&&(r=!0)});const l=lt(this),u=l.getValue();if(n){const d=Ge(s.to);(u!==d||r)&&!i.decay?(l.setValue(d),this._onChange(d)):r&&i.decay&&this._onChange(u),this._stop()}else r&&this._onChange(u)}set(t){return ne.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(kt(this)){const{to:t,config:n}=this.animation;ne.batchedUpdates(()=>{this._onStart(),n.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,n){let r;return I.und(t)?(r=this.queue||[],this.queue=[]):r=[I.obj(t)?t:Ie({},n,{to:t})],Promise.all(r.map(s=>this._update(s))).then(s=>ta(this,s))}stop(t){const{to:n}=this.animation;return this._focus(this.get()),er(this._state,t&&this._lastCallId),ne.batchedUpdates(()=>this._stop(n,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const n=this.key||"";let{to:r,from:s}=t;r=I.obj(r)?r[n]:r,(r==null||di(r))&&(r=void 0),s=I.obj(s)?s[n]:s,s==null&&(s=void 0);const i={to:r,from:s};return Gs(this)||(t.reverse&&([r,s]=[s,r]),s=Ge(s),I.und(s)?lt(this)||this._set(r):this._set(s)),i}_update(t,n){let r=Ie({},t);const{key:s,defaultProps:i}=this;r.default&&Object.assign(i,ea(r,(l,u)=>/^on/.test(u)?_l(l,s):l)),vo(this,r,"onProps"),Pn(this,"onProps",r,this);const a=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const c=this._state;return El(++this._lastCallId,{key:s,props:r,defaultProps:i,state:c,actions:{pause:()=>{An(this)||(po(this,!0),$n(c.pauseQueue),Pn(this,"onPause",rt(this,In(this,this.animation.to)),this))},resume:()=>{An(this)&&(po(this,!1),kt(this)&&this._resume(),$n(c.resumeQueue),Pn(this,"onResume",rt(this,In(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(l=>{if(r.loop&&l.finished&&!(n&&l.noop)){const u=jl(r);if(u)return this._update(u,!0)}return l})}_merge(t,n,r){if(n.cancel)return this.stop(!0),r(xn(this));const s=!I.und(t.to),i=!I.und(t.from);if(s||i)if(n.callId>this._lastToId)this._lastToId=n.callId;else return r(xn(this));const{key:a,defaultProps:c,animation:l}=this,{to:u,from:d}=l;let{to:f=u,from:h=d}=t;i&&!s&&(!n.default||I.und(f))&&(f=h),n.reverse&&([f,h]=[h,f]);const m=!wt(h,d);m&&(l.from=h),h=Ge(h);const p=!wt(f,u);p&&this._focus(f);const v=di(n.to),{config:g}=l,{decay:b,velocity:w}=g;(s||i)&&(g.velocity=0),n.config&&!v&&jh(g,Kt(n.config,a),n.config!==c.config?Kt(c.config,a):void 0);let _=lt(this);if(!_||I.und(f))return r(rt(this,!0));const E=I.und(n.reset)?i&&!n.default:!I.und(h)&&Fn(n.reset,a),N=E?h:this.get(),C=Xn(f),A=I.num(C)||I.arr(C)||Is(C),j=!v&&(!A||Fn(c.immediate||n.immediate,a));if(p){const Z=ui(f);if(Z!==_.constructor)if(j)_=this._set(C);else throw Error(`Cannot animate between ${_.constructor.name} and ${Z.name}, as the "to" prop suggests`)}const T=_.constructor;let k=Xe(f),M=!1;if(!k){const Z=E||!Gs(this)&&m;(p||Z)&&(M=wt(Xn(N),C),k=!M),(!wt(l.immediate,j)&&!j||!wt(g.decay,b)||!wt(g.velocity,w))&&(k=!0)}if(M&&kt(this)&&(l.changed&&!E?k=!0:k||this._stop(u)),!v&&((k||Xe(u))&&(l.values=_.getPayload(),l.toValues=Xe(f)?null:T==bn?[1]:Je(C)),l.immediate!=j&&(l.immediate=j,!j&&!E&&this._set(u)),k)){const{onRest:Z}=l;ue(Ph,L=>vo(this,n,L));const D=rt(this,In(this,u));$n(this._pendingCalls,D),this._pendingCalls.add(r),l.changed&&ne.batchedUpdates(()=>{l.changed=!E,Z==null||Z(D,this),E?Kt(c.onRest,D):l.onStart==null||l.onStart(D,this)})}E&&this._set(N),v?r(Cl(n.to,n,this._state,this)):k?this._start():kt(this)&&!p?this._pendingCalls.add(r):r(Sl(N))}_focus(t){const n=this.animation;t!==n.to&&(ro(this)&&this._detach(),n.to=t,ro(this)&&this._attach())}_attach(){let t=0;const{to:n}=this.animation;Xe(n)&&(Cn(n,this),hi(n)&&(t=n.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Xe(t)&&Qn(t,this)}_set(t,n=!0){const r=Ge(t);if(!I.und(r)){const s=lt(this);if(!s||!wt(r,s.getValue())){const i=ui(r);!s||s.constructor!=i?Yi(this,i.create(r)):s.setValue(r),s&&ne.batchedUpdates(()=>{this._onChange(r,n)})}}return lt(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,Pn(this,"onStart",rt(this,In(this,t.to)),this))}_onChange(t,n){n||(this._onStart(),Kt(this.animation.onChange,t,this)),Kt(this.defaultProps.onChange,t,this),super._onChange(t,n)}_start(){const t=this.animation;lt(this).reset(Ge(t.to)),t.immediate||(t.fromValues=t.values.map(n=>n.lastPosition)),kt(this)||(mo(this,!0),An(this)||this._resume())}_resume(){pt.skipAnimation?this.finish():Os.start(this)}_stop(t,n){if(kt(this)){mo(this,!1);const r=this.animation;ue(r.values,i=>{i.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),qn(this,{type:"idle",parent:this});const s=n?xn(this.get()):rt(this.get(),In(this,t!=null?t:r.to));$n(this._pendingCalls,s),r.changed&&(r.changed=!1,Pn(this,"onRest",s,this))}}}function In(e,t){const n=Xn(t),r=Xn(e.get());return wt(r,n)}function jl(e,t=e.loop,n=e.to){let r=Kt(t);if(r){const s=r!==!0&&wl(r),i=(s||e).reverse,a=!s||s.reset;return tr(Ie({},e,{loop:t,default:!1,pause:void 0,to:!i||di(n)?n:void 0,from:a?e.from:void 0,reset:a},s))}}function tr(e){const{to:t,from:n}=e=wl(e),r=new Set;return I.obj(t)&&go(t,r),I.obj(n)&&go(n,r),e.keys=r.size?Array.from(r):null,e}function Ih(e){const t=tr(e);return I.und(t.default)&&(t.default=ea(t)),t}function go(e,t){mt(e,(n,r)=>n!=null&&t.add(r))}const Ph=["onStart","onRest","onChange","onPause","onResume"];function vo(e,t,n){e.animation[n]=t[n]!==bl(t,n)?_l(t[n],e.key):void 0}function Pn(e,t,...n){var r,s,i,a;(r=(s=e.animation)[t])==null||r.call(s,...n),(i=(a=e.defaultProps)[t])==null||i.call(a,...n)}const Rh=["onStart","onChange","onRest"];let zh=1;class Dh{constructor(t,n){this.id=zh++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(Ie({default:!0},t))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((n,r)=>t[r]=n.get()),t}set(t){for(const n in t){const r=t[n];I.und(r)||this.springs[n].set(r)}}update(t){return t&&this.queue.push(tr(t)),this}start(t){let{queue:n}=this;return t?n=Je(t).map(tr):this.queue=[],this._flush?this._flush(this,n):(Pl(this,n),gi(this,n))}stop(t,n){if(t!==!!t&&(n=t),n){const r=this.springs;ue(Je(n),s=>r[s].stop(!!t))}else er(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(I.und(t))this.start({pause:!0});else{const n=this.springs;ue(Je(t),r=>n[r].pause())}return this}resume(t){if(I.und(t))this.start({pause:!1});else{const n=this.springs;ue(Je(t),r=>n[r].resume())}return this}each(t){mt(this.springs,t)}_onFrame(){const{onStart:t,onChange:n,onRest:r}=this._events,s=this._active.size>0,i=this._changed.size>0;(s&&!this._started||i&&!this._started)&&(this._started=!0,Un(t,([l,u])=>{u.value=this.get(),l(u,this,this._item)}));const a=!s&&this._started,c=i||a&&r.size?this.get():null;i&&n.size&&Un(n,([l,u])=>{u.value=c,l(u,this,this._item)}),a&&(this._started=!1,Un(r,([l,u])=>{u.value=c,l(u,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;ne.onFrame(this._onFrame)}}function gi(e,t){return Promise.all(t.map(n=>Ol(e,n))).then(n=>ta(e,n))}function Ol(e,t,n){return z(this,null,function*(){const{keys:r,to:s,from:i,loop:a,onRest:c,onResolve:l}=t,u=I.obj(t.default)&&t.default;a&&(t.loop=!1),s===!1&&(t.to=null),i===!1&&(t.from=null);const d=I.arr(s)||I.fun(s)?s:void 0;d?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):ue(Rh,v=>{const g=t[v];if(I.fun(g)){const b=e._events[v];t[v]=({finished:w,cancelled:_})=>{const E=b.get(g);E?(w||(E.finished=!1),_&&(E.cancelled=!0)):b.set(g,{value:null,finished:w||!1,cancelled:_||!1})},u&&(u[v]=t[v])}});const f=e._state;t.pause===!f.paused?(f.paused=t.pause,$n(t.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(t.pause=!0);const h=(r||Object.keys(e.springs)).map(v=>e.springs[v].start(t)),m=t.cancel===!0||bl(t,"cancel")===!0;(d||m&&f.asyncId)&&h.push(El(++e._lastAsyncId,{props:t,state:f,actions:{pause:oi,resume:oi,start(v,g){m?(er(f,e._lastAsyncId),g(xn(e))):(v.onRest=c,g(Cl(d,v,f,e)))}}})),f.paused&&(yield new Promise(v=>{f.resumeQueue.add(v)}));const p=ta(e,yield Promise.all(h));if(a&&p.finished&&!(n&&p.noop)){const v=jl(t,a,s);if(v)return Pl(e,[v]),Ol(e,v,!0)}return l&&ne.batchedUpdates(()=>l(p,e,e.item)),p})}function xo(e,t){const n=Ie({},e.springs);return t&&ue(Je(t),r=>{I.und(r.keys)&&(r=tr(r)),I.obj(r.to)||(r=Ie({},r,{to:void 0})),Il(n,r,s=>Al(s))}),kl(e,n),n}function kl(e,t){mt(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,Cn(n,e))})}function Al(e,t){const n=new Ah;return n.key=e,t&&Cn(n,t),n}function Il(e,t,n){t.keys&&ue(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function Pl(e,t){ue(t,n=>{Il(e.springs,n,r=>Al(r,e))})}function Lh(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}const $h=["children"],zs=e=>{let{children:t}=e,n=Lh(e,$h);const r=x.useContext(Zr),s=n.pause||!!r.pause,i=n.immediate||!!r.immediate;n=uh(()=>({pause:s,immediate:i}),[s,i]);const{Provider:a}=Zr;return x.createElement(a,{value:n},t)},Zr=Mh(zs,{});zs.Provider=Zr.Provider;zs.Consumer=Zr.Consumer;function Mh(e,t){return Object.assign(e,x.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}const Uh=()=>{const e=[],t=function(s){ch();const i=[];return ue(e,(a,c)=>{if(I.und(s))i.push(a.start());else{const l=n(s,a,c);l&&i.push(a.start(l))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const s=e.indexOf(r);~s&&e.splice(s,1)},t.pause=function(){return ue(e,r=>r.pause(...arguments)),this},t.resume=function(){return ue(e,r=>r.resume(...arguments)),this},t.set=function(r){ue(e,s=>s.set(r))},t.start=function(r){const s=[];return ue(e,(i,a)=>{if(I.und(r))s.push(i.start());else{const c=this._getProps(r,i,a);c&&s.push(i.start(c))}}),s},t.stop=function(){return ue(e,r=>r.stop(...arguments)),this},t.update=function(r){return ue(e,(s,i)=>s.update(this._getProps(r,s,i))),this};const n=function(s,i,a){return I.fun(s)?s(a,i):s};return t._getProps=n,t};function Vh(e,t,n){const r=I.fun(t)&&t;r&&!n&&(n=[]);const s=x.useMemo(()=>r||arguments.length==3?Uh():void 0,[]),i=x.useRef(0),a=vl(),c=x.useMemo(()=>({ctrls:[],queue:[],flush(b,w){const _=xo(b,w);return i.current>0&&!c.queue.length&&!Object.keys(_).some(N=>!b.springs[N])?gi(b,w):new Promise(N=>{kl(b,_),c.queue.push(()=>{N(gi(b,w))}),a()})}}),[]),l=x.useRef([...c.ctrls]),u=[],d=io(e)||0;x.useMemo(()=>{ue(l.current.slice(e,d),b=>{Eh(b,s),b.stop(!0)}),l.current.length=e,f(d,e)},[e]),x.useMemo(()=>{f(0,Math.min(d,e))},n);function f(b,w){for(let _=b;_<w;_++){const E=l.current[_]||(l.current[_]=new Dh(null,c.flush)),N=r?r(_,E):t[_];N&&(u[_]=Ih(N))}}const h=l.current.map((b,w)=>xo(b,u[w])),m=x.useContext(zs),p=io(m),v=m!==p&&Nh(m);Qi(()=>{i.current++,c.ctrls=l.current;const{queue:b}=c;b.length&&(c.queue=[],ue(b,w=>w())),ue(l.current,(w,_)=>{s==null||s.add(w),v&&w.start({default:m});const E=u[_];E&&(Sh(w,E.ref),w.ref?w.queue.push(E):w.start(E))})}),xl(()=>()=>{ue(c.ctrls,b=>b.stop(!0))});const g=h.map(b=>Ie({},b));return s?[g,s]:g}function Fh(e,t){const n=I.fun(e),[[r],s]=Vh(1,n?e:[e],n?[]:t);return n||arguments.length==2?[r,s]:r}let yo;(function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"})(yo||(yo={}));class Rl extends na{constructor(t,n){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=t,this.calc=Jn(...n);const r=this._get(),s=ui(r);Yi(this,s.create(r))}advance(t){const n=this._get(),r=this.get();wt(n,r)||(lt(this).setValue(n),this._onChange(n,this.idle)),!this.idle&&_o(this._active)&&Ks(this)}_get(){const t=I.arr(this.source)?this.source.map(Ge):Je(Ge(this.source));return this.calc(...t)}_start(){this.idle&&!_o(this._active)&&(this.idle=!1,ue(Ps(this),t=>{t.done=!1}),pt.skipAnimation?(ne.batchedUpdates(()=>this.advance()),Ks(this)):Os.start(this))}_attach(){let t=1;ue(Je(this.source),n=>{Xe(n)&&Cn(n,this),hi(n)&&(n.idle||this._active.add(n),t=Math.max(t,n.priority+1))}),this.priority=t,this._start()}_detach(){ue(Je(this.source),t=>{Xe(t)&&Qn(t,this)}),this._active.clear(),Ks(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Je(this.source).reduce((n,r)=>Math.max(n,(hi(r)?r.priority:0)+1),0))}}function Bh(e){return e.idle!==!1}function _o(e){return!e.size||Array.from(e).every(Bh)}function Ks(e){e.idle||(e.idle=!0,ue(Ps(e),t=>{t.done=!0}),qn(e,{type:"idle",parent:e}))}const Zh=(e,...t)=>new Rl(e,t);pt.assign({createStringInterpolator:pl,to:(e,t)=>new Rl(e,t)});function ra(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}const Wh=["style","children","scrollTop","scrollLeft"],zl=/^--/;function Gh(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!zl.test(e)&&!(Bn.hasOwnProperty(e)&&Bn[e])?t+"px":(""+t).trim()}const bo={};function Kh(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",r=t,{style:s,children:i,scrollTop:a,scrollLeft:c}=r,l=ra(r,Wh),u=Object.values(l),d=Object.keys(l).map(f=>n||e.hasAttribute(f)?f:bo[f]||(bo[f]=f.replace(/([A-Z])/g,h=>"-"+h.toLowerCase())));i!==void 0&&(e.textContent=i);for(let f in s)if(s.hasOwnProperty(f)){const h=Gh(f,s[f]);zl.test(f)?e.style.setProperty(f,h):e.style[f]=h}d.forEach((f,h)=>{e.setAttribute(f,u[h])}),a!==void 0&&(e.scrollTop=a),c!==void 0&&(e.scrollLeft=c)}let Bn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const Hh=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),Jh=["Webkit","Ms","Moz","O"];Bn=Object.keys(Bn).reduce((e,t)=>(Jh.forEach(n=>e[Hh(n,t)]=e[t]),e),Bn);const qh=["x","y","z"],Qh=/^(matrix|translate|scale|rotate|skew)/,Yh=/^(translate)/,Xh=/^(rotate|skew)/,Hs=(e,t)=>I.num(e)&&e!==0?e+t:e,zr=(e,t)=>I.arr(e)?e.every(n=>zr(n,t)):I.num(e)?e===t:parseFloat(e)===t;class em extends Rs{constructor(t){let{x:n,y:r,z:s}=t,i=ra(t,qh);const a=[],c=[];(n||r||s)&&(a.push([n||0,r||0,s||0]),c.push(l=>[`translate3d(${l.map(u=>Hs(u,"px")).join(",")})`,zr(l,0)])),mt(i,(l,u)=>{if(u==="transform")a.push([l||""]),c.push(d=>[d,d===""]);else if(Qh.test(u)){if(delete i[u],I.und(l))return;const d=Yh.test(u)?"px":Xh.test(u)?"deg":"";a.push(Je(l)),c.push(u==="rotate3d"?([f,h,m,p])=>[`rotate3d(${f},${h},${m},${Hs(p,d)})`,zr(p,0)]:f=>[`${u}(${f.map(h=>Hs(h,d)).join(",")})`,zr(f,u.startsWith("scale")?1:0)])}}),a.length&&(i.transform=new tm(a,c)),super(i)}}class tm extends fl{constructor(t,n){super(),this._value=null,this.inputs=t,this.transforms=n}get(){return this._value||(this._value=this._get())}_get(){let t="",n=!0;return ue(this.inputs,(r,s)=>{const i=Ge(r[0]),[a,c]=this.transforms[s](I.arr(i)?i:r.map(Ge));t+=" "+a,n=n&&c}),n?"none":t}observerAdded(t){t==1&&ue(this.inputs,n=>ue(n,r=>Xe(r)&&Cn(r,this)))}observerRemoved(t){t==0&&ue(this.inputs,n=>ue(n,r=>Xe(r)&&Qn(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),qn(this,t)}}const nm=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],rm=["scrollTop","scrollLeft"];pt.assign({batchedUpdates:Mu.unstable_batchedUpdates,createStringInterpolator:pl,colors:Vf});const sm=xh(nm,{applyAnimatedValues:Kh,createAnimatedStyle:e=>new em(e),getComponentProps:e=>ra(e,rm)}),im=sm.animated;var wo=100,No=200,Dl=function(){if(typeof Map!="undefined")return Map;function e(t,n){var r=-1;return t.some(function(s,i){return s[0]===n?(r=i,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),s=this.__entries__[r];return s&&s[1]},t.prototype.set=function(n,r){var s=e(this.__entries__,n);~s?this.__entries__[s][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,s=e(r,n);~s&&r.splice(s,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var s=0,i=this.__entries__;s<i.length;s++){var a=i[s];n.call(r,a[1],a[0])}},t}()}(),vi=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,Wr=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),am=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Wr):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),om=2;function cm(e,t){var n=!1,r=!1,s=0;function i(){n&&(n=!1,e()),r&&c()}function a(){am(i)}function c(){var l=Date.now();if(n){if(l-s<om)return;r=!0}else n=!0,r=!1,setTimeout(a,t);s=l}return c}var lm=20,um=["top","right","bottom","left","width","height","size","weight"],dm=typeof MutationObserver!="undefined",fm=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=cm(this.refresh.bind(this),lm)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!vi||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),dm?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!vi||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,s=um.some(function(i){return!!~r.indexOf(i)});s&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Ll=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var s=r[n];Object.defineProperty(e,s,{value:t[s],enumerable:!1,writable:!1,configurable:!0})}return e},wn=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||Wr},$l=Ds(0,0,0,0);function Gr(e){return parseFloat(e)||0}function Eo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,s){var i=e["border-"+s+"-width"];return r+Gr(i)},0)}function hm(e){for(var t=["top","right","bottom","left"],n={},r=0,s=t;r<s.length;r++){var i=s[r],a=e["padding-"+i];n[i]=Gr(a)}return n}function mm(e){var t=e.getBBox();return Ds(0,0,t.width,t.height)}function pm(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return $l;var r=wn(e).getComputedStyle(e),s=hm(r),i=s.left+s.right,a=s.top+s.bottom,c=Gr(r.width),l=Gr(r.height);if(r.boxSizing==="border-box"&&(Math.round(c+i)!==t&&(c-=Eo(r,"left","right")+i),Math.round(l+a)!==n&&(l-=Eo(r,"top","bottom")+a)),!vm(e)){var u=Math.round(c+i)-t,d=Math.round(l+a)-n;Math.abs(u)!==1&&(c-=u),Math.abs(d)!==1&&(l-=d)}return Ds(s.left,s.top,c,l)}var gm=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof wn(e).SVGGraphicsElement}:function(e){return e instanceof wn(e).SVGElement&&typeof e.getBBox=="function"}}();function vm(e){return e===wn(e).document.documentElement}function xm(e){return vi?gm(e)?mm(e):pm(e):$l}function ym(e){var t=e.x,n=e.y,r=e.width,s=e.height,i=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,a=Object.create(i.prototype);return Ll(a,{x:t,y:n,width:r,height:s,top:n,right:t+r,bottom:s+n,left:t}),a}function Ds(e,t,n,r){return{x:e,y:t,width:n,height:r}}var _m=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ds(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=xm(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),bm=function(){function e(t,n){var r=ym(n);Ll(this,{target:t,contentRect:r})}return e}(),wm=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new Dl,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof wn(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new _m(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof wn(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new bm(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Ml=typeof WeakMap!="undefined"?new WeakMap:new Dl,Ul=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=fm.getInstance(),r=new wm(t,n,this);Ml.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Ul.prototype[e]=function(){var t;return(t=Ml.get(this))[e].apply(t,arguments)}});var Nm=function(){return typeof Wr.ResizeObserver!="undefined"?Wr.ResizeObserver:Ul}(),Em=function(t){var n=t.ref,r=x.useState(0),s=r[0],i=r[1],a=function(l){var u;if(((u=l[0].borderBoxSize)==null?void 0:u.length)>0){var d;i((d=l[0].borderBoxSize[0])==null?void 0:d.blockSize)}else i(l[0].contentRect.height)};return x.useLayoutEffect(function(){if(!(!n||!n.current)){var c=new Nm(a);return c.observe(n.current),function(){c.disconnect()}}},[n]),s||0};function So(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?So(Object(n),!0).forEach(function(r){qe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Sm=x.forwardRef(function(e,t){var n,r=e.title,s=e.visible,i=e.onVisibleChanged,a=e.handler,c=a===void 0?!0:a,l=e.children,u=e.autoHeight,d=u===void 0?!1:u,f=e.contentRef,h=e.onClose,m=e.swipeToClose,p=e.style,v=e.height,g=e.snapPoints,b=e.defaultSnapPoint,w=b===void 0?0:b,_=e.onSnap,E=x.useRef(),N=x.useState(w),C=N[0],A=N[1],j=x.useRef(),T=Em({ref:j}),k=x.useState({movement:[0,0],down:!1,first:!1,vy:0}),M=k[0],Z=k[1],D=function(){if(g&&T)return typeof g=="function"?g({sheetModalHeight:T}):g.map(function(be){return be*T})},L=D(),B=x.useRef(!1),ae=me("sheet-content");x.useImperativeHandle(f,function(){return j.current});var $=M.down,W=M.movement,K=M.vy,xe=function(be){var Ot=be.visible,de=be.points,Bt=be.currentPoint,yt=be.down;return yt?0:!Ot||!de||Bt===de.length-1?No:void 0},ke=ln(ln({},Nl.stiff),{},{duration:xe({visible:s,points:L,currentPoint:C,down:$}),velocity:K}),Me=Fh(function(){return{transformAmount:T||window.innerHeight,movingAmount:0,config:ln({},ke)}}),ye=Me[0],ee=ye.transformAmount,Ue=ye.movingAmount,oe=Me[1],te=function(be){A(be)},Re=J(ae,(n={},n[ae+"-hug-content"]=d,n));x.useImperativeHandle(t,function(){return{sheet:j.current,snapTo:te}}),x.useEffect(function(){$||(s&&L?oe.start({transformAmount:L[C||0],movingAmount:0}):s&&T?oe.start({transformAmount:0,movingAmount:0}):s||oe.start({transformAmount:T||window.innerHeight,movingAmount:0}))},[s,C,T]),x.useLayoutEffect(function(){B.current&&setTimeout(function(){i==null||i(!!s)},No),!s&&L&&L.length&&C!==w&&A(w),B.current=!!s},[s,i]),x.useEffect(function(){$&&oe.set({movingAmount:W[1]})},[$,W,oe]);var Be=function(be){var Ot=be.down,de=be.first,Bt=be.velocity,yt=Bt[1],ge=be.movement,On=be.event,kn=be.memo;if(Z({down:Ot,movement:ge,first:de,vy:yt}),Ot)return ge[1];var _t=ge[1];return kn&&kn<0&&!_t&&(_t=kn),_t<0&&_t<-wo&&L?(C<L.length-1?(_==null||_(C+1),A(C+1)):L||oe.start({transformAmount:0,movingAmount:0}),_t):_t>0&&_t>wo?(L&&C>0?(_==null||_(C-1),A(C-1)):h==null||h(On),_t):(L?oe.start({transformAmount:L[C],movingAmount:0}):oe.start({transformAmount:0,movingAmount:0}),_t)},Qe=zf(Be,{filterTaps:!0}),Ut=Zh([ee,Ue],function(Ae,be){return Ae+be<0?"":"translateY("+(Ae+be)+"px)"}),Vt=y.createElement("div",{className:ae+"-header"},y.createElement("div",{className:ae+"-title"},r)),Ft=y.createElement("div",se({ref:E,className:ae+"-handler-wrapper"},Qe()),y.createElement("span",{className:ae+"-handler"})),Ke=ln({},p||{});return v&&(Ke.height=v),y.createElement(im.div,se({style:ln(ln({},Ke),{},{transform:Ut})},!c&&(m||L)?Qe():{},{className:Re,ref:j}),c&&Ft,r&&Vt,l)}),Vl=y.forwardRef(function(e,t){var n=e.className,r=e.maskClosable,s=e.visible,i=s===void 0?!1:s,a=e.maskStyle,c=e.mask,l=c===void 0?!0:c,u=e.maskClassName,d=e.onClose,f=e.afterClose,h=e.zIndex,m=e.contentRef,p=e.unmountOnClose,v=x.useState(!1),g=v[0],b=v[1],w=x.useState(!p),_=w[0],E=w[1],N=x.useRef(null);x.useImperativeHandle(m,function(){var T;return(T=N.current)==null?void 0:T.sheet}),x.useImperativeHandle(t,function(){var T,k;return{sheet:(T=N.current)==null?void 0:T.sheet,snapTo:(k=N.current)==null?void 0:k.snapTo}}),x.useEffect(function(){i&&p&&E(!0),b(i)},[i]);var C=me("sheet"),A=J(C,{},n),j=function(){p&&E(!1),f==null||f()};return!_&&p?null:y.createElement("div",{className:A},l&&y.createElement($d,{visible:g,style:a,className:u}),y.createElement(Vd,{maskClosable:r,visible:g,onClose:d,afterClose:j,className:C+"-wrapper",style:{zIndex:h}},y.createElement(Sm,se({},e,{visible:g,ref:N}))))}),Cm=["className","actions","title"],Tm=y.forwardRef(function(e,t){var n=e.className,r=e.actions,s=e.title,i=Se(e,Cm),a=x.useRef(null),c=me("action-sheet"),l=r||[];Array.isArray(l[0])||(l=[l.filter(function(f){return!Array.isArray(f)})]),x.useImperativeHandle(t,function(){var f;return(f=a.current)==null?void 0:f.sheet});var u=J(c,{},n),d=l.map(function(f,h){return y.createElement("ul",{className:c+"-actions-group",key:"zaui-modal-action-group-key-"+h},f.map(function(m,p){var v,g=m.text,b=m.onClick,w=m.className,_=m.style,E=m.close,N=m.highLight,C=m.danger,A=m.disabled,j=e.onClose,T=J(w,c+"-action",(v={},v[c+"-action-highlight"]=N,v)),k=function(D){b&&b(D),E&&j&&j(D)},M="neutral";return N&&(M="highlight"),C&&(M="danger"),y.createElement("li",{className:T,key:m.key||"zaui-modal-action-key-"+p},y.createElement(le,{type:M,style:_,variant:"tertiary",disabled:A,fullWidth:!0,className:c+"-action-button",onClick:k},g))}))})||null;return y.createElement(Vl,se({className:u,ref:a,handler:!1,title:void 0},i),s&&y.createElement("div",{className:c+"-title-wrapper"},y.createElement("div",{className:c+"-title"},s)),d&&y.createElement("div",{className:c+"-actions-groups"},d))}),Fl=Vl;Fl.Actions=Tm;var jm=function e(t,n){n===void 0&&(n={});var r=[];return y.Children.forEach(t,function(s){s==null&&!n.keepEmpty||(Array.isArray(s)?r=r.concat(e(s)):bd.isFragment(s)&&s.props?r=r.concat(e(s.props.children,n)):r.push(s))}),r};/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nr.apply(this,arguments)}var it;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(it||(it={}));const Co="popstate";function Om(e){e===void 0&&(e={});let{initialEntries:t=["/"],initialIndex:n,v5Compat:r=!1}=e,s;s=t.map((m,p)=>d(m,typeof m=="string"?null:m.state,p===0?"default":void 0));let i=l(n==null?s.length-1:n),a=it.Pop,c=null;function l(m){return Math.min(Math.max(m,0),s.length-1)}function u(){return s[i]}function d(m,p,v){p===void 0&&(p=null);let g=Kr(s?u().pathname:"/",m,p,v);return Bl(g.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(m)),g}function f(m){return typeof m=="string"?m:sa(m)}return{get index(){return i},get action(){return a},get location(){return u()},createHref:f,createURL(m){return new URL(f(m),"http://localhost")},encodeLocation(m){let p=typeof m=="string"?wr(m):m;return{pathname:p.pathname||"",search:p.search||"",hash:p.hash||""}},push(m,p){a=it.Push;let v=d(m,p);i+=1,s.splice(i,s.length,v),r&&c&&c({action:a,location:v,delta:1})},replace(m,p){a=it.Replace;let v=d(m,p);s[i]=v,r&&c&&c({action:a,location:v,delta:0})},go(m){a=it.Pop;let p=l(i+m),v=s[p];i=p,c&&c({action:a,location:v,delta:m})},listen(m){return c=m,()=>{c=null}}}}function km(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:a,hash:c}=r.location;return Kr("",{pathname:i,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:sa(s)}return Im(t,n,null,e)}function ht(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function Bl(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function Am(){return Math.random().toString(36).substr(2,8)}function To(e,t){return{usr:e.state,key:e.key,idx:t}}function Kr(e,t,n,r){return n===void 0&&(n=null),nr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wr(t):t,{state:n,key:t&&t.key||r||Am()})}function sa(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function wr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Im(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,c=it.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(nr({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){c=it.Pop;let g=d(),b=g==null?null:g-u;u=g,l&&l({action:c,location:v.location,delta:b})}function h(g,b){c=it.Push;let w=Kr(v.location,g,b);u=d()+1;let _=To(w,u),E=v.createHref(w);try{a.pushState(_,"",E)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(E)}i&&l&&l({action:c,location:v.location,delta:1})}function m(g,b){c=it.Replace;let w=Kr(v.location,g,b);u=d();let _=To(w,u),E=v.createHref(w);a.replaceState(_,"",E),i&&l&&l({action:c,location:v.location,delta:0})}function p(g){let b=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof g=="string"?g:sa(g);return w=w.replace(/ $/,"%20"),ht(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let v={get action(){return c},get location(){return e(s,a)},listen(g){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Co,f),l=g,()=>{s.removeEventListener(Co,f),l=null}},createHref(g){return t(s,g)},createURL:p,encodeLocation(g){let b=p(g);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(g){return a.go(g)}};return v}var jo;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jo||(jo={}));function Pm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Rm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zm=e=>Rm.test(e);function Dm(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?wr(e):e,i;if(n)if(zm(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Bl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=Oo(n.substring(1),"/"):i=Oo(n,t)}else i=t;return{pathname:i,search:Vm(r),hash:Fm(s)}}function Oo(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Js(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lm(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $m(e,t){let n=Lm(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mm(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=wr(e):(s=nr({},e),ht(!s.pathname||!s.pathname.includes("?"),Js("?","pathname","search",s)),ht(!s.pathname||!s.pathname.includes("#"),Js("#","pathname","hash",s)),ht(!s.search||!s.search.includes("#"),Js("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,c;if(a==null)c=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}c=f>=0?t[f]:"/"}let l=Dm(s,c),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Um=e=>e.join("/").replace(/\/\/+/g,"/"),Vm=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Fm=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Zl=["post","put","patch","delete"];new Set(Zl);const Bm=["get",...Zl];new Set(Bm);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hr(){return Hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hr.apply(this,arguments)}const Wl=x.createContext(null),ia=x.createContext(null),aa=x.createContext(null),oa=x.createContext({outlet:null,matches:[],isDataRoute:!1});function ca(){return x.useContext(aa)!=null}function Gl(){return ca()||ht(!1),x.useContext(aa).location}function Kl(e){x.useContext(ia).static||x.useLayoutEffect(e)}function Hl(){let{isDataRoute:e}=x.useContext(oa);return e?Hm():Zm()}function Zm(){ca()||ht(!1);let e=x.useContext(Wl),{basename:t,future:n,navigator:r}=x.useContext(ia),{matches:s}=x.useContext(oa),{pathname:i}=Gl(),a=JSON.stringify($m(s,n.v7_relativeSplatPath)),c=x.useRef(!1);return Kl(()=>{c.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!c.current)return;if(typeof u=="number"){r.go(u);return}let f=Mm(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Um([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,a,i,e])}var Jl=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Jl||{}),ql=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ql||{});function Wm(e){let t=x.useContext(Wl);return t||ht(!1),t}function Gm(e){let t=x.useContext(oa);return t||ht(!1),t}function Km(e){let t=Gm(),n=t.matches[t.matches.length-1];return n.route.id||ht(!1),n.route.id}function Hm(){let{router:e}=Wm(Jl.UseNavigateStable),t=Km(ql.UseNavigateStable),n=x.useRef(!1);return Kl(()=>{n.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Hr({fromRouteId:t},i)))},[e,t])}function Ql(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}const Jm="startTransition",ko=Ic[Jm];function qm(e){let{basename:t,children:n,initialEntries:r,initialIndex:s,future:i}=e,a=x.useRef();a.current==null&&(a.current=Om({initialEntries:r,initialIndex:s,v5Compat:!0}));let c=a.current,[l,u]=x.useState({action:c.action,location:c.location}),{v7_startTransition:d}=i||{},f=x.useCallback(h=>{d&&ko?ko(()=>u(h)):u(h)},[u,d]);return x.useLayoutEffect(()=>c.listen(f),[c,f]),x.useEffect(()=>Ql(i),[i]),x.createElement(Yl,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:c,future:i})}function Yl(e){let{basename:t="/",children:n=null,location:r,navigationType:s=it.Pop,navigator:i,static:a=!1,future:c}=e;ca()&&ht(!1);let l=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:i,static:a,future:Hr({v7_relativeSplatPath:!1},c)}),[l,c,i,a]);typeof r=="string"&&(r=wr(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:p="default"}=r,v=x.useMemo(()=>{let g=Pm(d,l);return g==null?null:{location:{pathname:g,search:f,hash:h,state:m,key:p},navigationType:s}},[l,d,f,h,m,p,s]);return v==null?null:x.createElement(ia.Provider,{value:u},x.createElement(aa.Provider,{children:n,value:v}))}new Promise(()=>{});/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Qm="6";try{window.__reactRouterVersion=Qm}catch(e){}const Ym="startTransition",Ao=Ic[Ym];function Xm(e){let{basename:t,children:n,future:r,window:s}=e,i=x.useRef();i.current==null&&(i.current=km({window:s,v5Compat:!0}));let a=i.current,[c,l]=x.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=x.useCallback(f=>{u&&Ao?Ao(()=>l(f)):l(f)},[l,u]);return x.useLayoutEffect(()=>a.listen(d),[a,d]),x.useEffect(()=>Ql(r),[r]),x.createElement(Yl,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}var Io;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Io||(Io={}));var Po;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Po||(Po={}));var Rn={FORWARD:"forward",BACKWARD:"backward"},la=y.createContext(void 0),ep=function(t){var n=x.useState(!0),r=n[0],s=n[1],i=x.useState(Rn.FORWARD),a=i[0],c=i[1],l=x.useRef({}),u=t.children,d=t.memoryRouter,f=window.BASE_PATH||"",h=new URLSearchParams(window.location.search);h.get("env"),f="/zapps/"+window.APP_ID;var m=x.useCallback(function(w){var _=w.animate,E=_===void 0?!0:_,N=w.direction,C=N===void 0?Rn.FORWARD:N;s(!!E);var A=[Rn.FORWARD,Rn.BACKWARD].some(function(j){return j===C})?C:Rn.FORWARD;c(A)},[s,c]),p=function(_,E){l.current[_]=E},v=x.useMemo(function(){return{setAnimate:m,animate:r,direction:a,pageScrollPosition:l.current,updatePosition:p}},[r,a,m]),g=d?qm:Xm,b=d?{initialEntries:[f]}:{};return y.createElement(la.Provider,{value:v},y.createElement(g,se({basename:f},b),u))},tp=["className","id","style","children","resetScroll","hideScrollbar","restoreScroll","restoreScrollOnBack","name"],Pe=y.forwardRef(function(e,t){var n,r=x.useContext(la),s=e.className,i=e.id,a=e.style,c=e.children,l=e.resetScroll,u=l===void 0?!0:l,d=e.hideScrollbar,f=d===void 0?!1:d,h=e.restoreScroll,m=e.restoreScrollOnBack,p=e.name,v=Se(e,tp),g=x.useRef();if(!r&&(h||m))throw new Error("To use Scroll Restoration feature, Page must be contained with ZMPRouter.");var b=Gl(),w=function(){return m?b.key:p||b.pathname},_=me("page"),E=x.useRef();x.useImperativeHandle(t,function(){return E.current});var N=J(_,(n={},n[_+"-hide-scrollbar"]=f,n),s),C=w(),A=function(){r&&(clearTimeout(g.current),g.current=setTimeout(function(){var k,M=r.updatePosition;M(C,((k=E.current)==null?void 0:k.scrollTop)||0)},150))},j=x.useCallback(function(){if(r){var T=r.pageScrollPosition;if(T[C]!==void 0&&m||h){var k;E.current.scrollTo(0,(k=T==null?void 0:T[C])!=null?k:0)}}},[h,m,r,C]);return x.useLayoutEffect(function(){var T=E.current;return T&&r&&(h||m)&&(j(),T==null||T.addEventListener("scroll",A)),u&&!h&&!m&&T.scrollTo(0,0),function(){T&&r&&(h||m)&&(T==null||T.removeEventListener("scroll",A))}},[E,u,h,m]),y.createElement("div",se({},v,{className:N,id:i,style:a,ref:E}),c)}),np=["className","children","style","bold","size"],rp=function(t){var n,r=t.className,s=t.children,i=t.style,a=t.bold,c=t.size,l=Se(t,np),u=me("text"),d=J(u,(n={},n[u+"-bold"]=a,n[u+"-"+c]=c,n),r);return y.createElement("span",se({},l,{className:d,style:i}),s)},sp=["className","children","style","size"],Xl=function(t){var n,r=t.className,s=t.children,i=t.style,a=t.size,c=Se(t,sp),l=me("text-title"),u=J(l,(n={},n[l+"-"+a]=a,n),r);return y.createElement("span",se({},c,{className:u,style:i}),s)};Xl.displayName="Text.Title";var ip=["className","children","style","size"],eu=function(t){var n,r=t.className,s=t.children,i=t.style,a=t.size,c=Se(t,ip),l=me("text-header"),u=J(l,(n={},n[l+"-"+a]=a,n),r);return y.createElement("span",se({},c,{className:u,style:i}),s)};eu.displayName="Text.Header";var S=rp;S.Title=Xl;S.Header=eu;var un=function(e){return e.textAlign="textAlign",e.verticalAlign="verticalAlign",e.justifyContent="justifyContent",e.alignItems="alignItems",e.alignContent="alignContent",e.flexDirection="flexDirection",e}({}),Ro={textAlign:["left","right","center","justify","initial","inherit"],verticalAlign:["baseline","sub","super","top","text-top","middle","bottom","text-bottom","initial","inherit"],justifyContent:["flex-start","flex-end","center","space-between","space-around","space-evenly","initial"],alignItems:["flex-start","flex-end","stretch","baseline","center","initial"],alignContent:["stretch","center","flex-start","flex-end","space-between","space-around","space-evenly"],flexDirection:["row","column","row-reverse","column-reverse"]},dn=function(t,n){return!t||!n||!Ro[n]?!1:Ro[n].find(function(r){return r===t})},Ze=function(t){return!Number.isNaN(t)&&t>=0&&t<=10},ap=["id","children","className","style","m","p","mt","ml","mb","mr","mx","my","pt","pl","pb","pr","px","py","noSpace","inline","width","height","verticalAlign","textAlign","flex","flexDirection","flexWrap","justifyContent","alignItems","alignContent"];function zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function op(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zo(Object(n),!0).forEach(function(r){qe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var P=y.forwardRef(function(e,t){var n,r=e.id,s=e.children,i=e.className,a=e.style,c=e.m,l=c===void 0?-1:c,u=e.p,d=u===void 0?-1:u,f=e.mt,h=f===void 0?-1:f,m=e.ml,p=m===void 0?-1:m,v=e.mb,g=v===void 0?-1:v,b=e.mr,w=b===void 0?-1:b,_=e.mx,E=_===void 0?-1:_,N=e.my,C=N===void 0?-1:N,A=e.pt,j=A===void 0?-1:A,T=e.pl,k=T===void 0?-1:T,M=e.pb,Z=M===void 0?-1:M,D=e.pr,L=D===void 0?-1:D,B=e.px,ae=B===void 0?-1:B,$=e.py,W=$===void 0?-1:$,K=e.noSpace,xe=e.inline,ke=e.width,Me=e.height,ye=e.verticalAlign,ee=ye===void 0?"":ye,Ue=e.textAlign,oe=Ue===void 0?"":Ue,te=e.flex,Re=e.flexDirection,Be=Re===void 0?"":Re,Qe=e.flexWrap,Ut=e.justifyContent,Vt=Ut===void 0?"":Ut,Ft=e.alignItems,Ke=Ft===void 0?"":Ft,Ae=e.alignContent,be=Ae===void 0?"":Ae,Ot=Se(e,ap),de=me("box"),Bt=J(de,(n={},n[de+"-no-space"]=K,n[de+"-inline"]=xe,n[de+"-m-"+l]=Ze(l),n[de+"-mt-"+h]=Ze(h),n[de+"-ml-"+p]=Ze(p),n[de+"-mb-"+g]=Ze(g),n[de+"-mr-"+w]=Ze(w),n[de+"-mx-"+E]=Ze(E),n[de+"-my-"+C]=Ze(C),n[de+"-p-"+d]=Ze(d),n[de+"-pt-"+j]=Ze(j),n[de+"-pl-"+k]=Ze(k),n[de+"-pb-"+Z]=Ze(Z),n[de+"-pr-"+L]=Ze(L),n[de+"-px-"+ae]=Ze(ae),n[de+"-py-"+W]=Ze(W),n[de+"-flex"]=te,n[de+"-flex-"+Be]=dn(Be,un.flexDirection),n[de+"-vertical-align-"+ee]=dn(ee,un.verticalAlign),n[de+"-text-align-"+oe]=dn(oe,un.textAlign),n[de+"-flex-wrap"]=Qe===!0,n[de+"-flex-nowrap"]=Qe===!1,n[de+"-justify-"+Vt]=dn(Vt,un.justifyContent),n[de+"-align-items-"+Ke]=dn(Ke,un.alignItems),n[de+"-align-content-"+be]=dn(be,un.alignContent),n),i),yt=op({},a||{});return ke&&(yt.width=ke),Me&&(yt.height=Me),y.createElement("div",se({},Ot,{ref:t,id:r,style:yt,className:Bt}),s)}),cp=function(t,n){return t<=0||n<=0?0:t>n?100:Math.round(t/n*100*100)/100};function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function lp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Do(Object(n),!0).forEach(function(r){qe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var up=y.forwardRef(function(e,t){var n,r=e.className,s=e.maxCompleted,i=s===void 0?100:s,a=e.completed,c=a===void 0?0:a,l=e.strokeWidth,u=e.strokeColor,d=e.trailColor,f=d===void 0?null:d,h=e.formatLabel,m=e.showLabel,p=me("progress"),v={},g={};typeof u=="string"&&(v={background:u}),typeof f=="string"&&(g={background:f});var b=cp(c,i),w=lp({width:b+"%"},v);l&&(g.height=l+"px");var _=null;m&&(_=h?h(c,i):b+"%");var E=J(p,(n={},n[p+"-show-label"]=m,n),r);return y.createElement("div",{ref:t,className:E},y.createElement("div",{className:p+"-outer"},y.createElement("div",{className:p+"-inner",style:g},y.createElement("div",{className:p+"-completed",style:w}))),y.createElement("span",{className:p+"-label"},_))});function Lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function dp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lo(Object(n),!0).forEach(function(r){qe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lo(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var tt=y.forwardRef(function(e,t){var n=Hl(),r=e.showBackIcon,s=r===void 0?!0:r,i=e.backIcon,a=e.onBackClick,c=e.title,l=e.className,u=e.style,d=e.id,f=e.backgroundColor,h=e.textColor,m=me("header"),p=J(m,{},l),v=function(_){if(a){a(_);return}_.preventDefault(),_.stopPropagation(),n(-1)},g=i||y.createElement(q,{icon:"zi-chevron-left"}),b=dp({},u);return f&&(b.backgroundColor=f),h&&(b.color=h),y.createElement("div",{ref:t,className:p,style:b,id:d},s&&y.createElement("span",{className:m+"-back"},y.createElement(le,{className:m+"-back-btn",type:"neutral",variant:"tertiary",onClick:v,style:{color:h},icon:g})),y.createElement("span",{className:m+"-title"},c))}),Jr=function(e){return e.top="top",e.bottom="bottom",e}({}),_e=function(e){return e.default="default",e.success="success",e.info="info",e.error="error",e.warning="warning",e.loading="loading",e.download="download",e.countdown="countdown",e["wifi-connected"]="wifi-connected",e["wifi-disconnected"]="wifi-disconnected",e}({}),ua=x.createContext(null),$o=2e3,xi=Jr.bottom,fp=250,da=5e3,hp=2,ct=12,mp=function(){return y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none"},y.createElement("path",{d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM2.49 12C2.49 17.2522 6.74777 21.51 12 21.51C17.2522 21.51 21.51 17.2522 21.51 12C21.51 6.74777 17.2522 2.49 12 2.49C6.74777 2.49 2.49 6.74777 2.49 12Z",fill:"#FFFFFF",fillOpacity:"1"}),y.createElement("path",{d:"M15.6784 1.89361C15.9136 1.24748 16.6317 0.908557 17.25 1.20938C18.2892 1.71497 19.2519 2.369 20.1071 3.15267C21.2689 4.21731 22.2097 5.50037 22.8757 6.92858C23.5417 8.3568 23.9198 9.90221 23.9886 11.4766C24.0392 12.6355 23.9214 13.7933 23.6407 14.9143C23.4737 15.5814 22.7525 15.9136 22.1064 15.6784C21.4603 15.4433 21.1358 14.7295 21.2846 14.0582C21.4641 13.2486 21.5373 12.4172 21.5009 11.5852C21.4465 10.3375 21.1468 9.11276 20.619 7.9809C20.0912 6.84904 19.3456 5.83222 18.4249 4.98849C17.8108 4.42584 17.1269 3.94752 16.3914 3.5646C15.7815 3.24709 15.4433 2.53973 15.6784 1.89361Z",fill:"#52A0FF"}))},pp=function(){return y.createElement(q,{icon:"zi-wifi"})},gp=function(){return y.createElement(q,{icon:"zi-wifi-off"})},vp=function(){return y.createElement(q,{icon:"zi-download-solid"})},xp=function(){return y.createElement(q,{icon:"zi-close-circle-solid"})},yp=function(){return y.createElement(q,{icon:"zi-warning-solid"})},_p=function(){return y.createElement(q,{icon:"zi-info-circle-solid"})},bp=function(){return y.createElement(q,{icon:"zi-check-circle-solid"})},wp=function(t){switch(t){case _e.download:return y.createElement(vp,null);case _e.error:return y.createElement(xp,null);case _e.warning:return y.createElement(yp,null);case _e.success:return y.createElement(bp,null);case _e["wifi-connected"]:return y.createElement(pp,null);case _e["wifi-disconnected"]:return y.createElement(gp,null);case _e.loading:return y.createElement(mp,null);default:return y.createElement(_p,null)}},Np=function(t){var n=t.duration,r=n===void 0?da:n,s=me("snackbar-countdown"),i=r/1e3,a=x.useState(i),c=a[0],l=a[1],u=hp,d=ct-u/2,f=ct*2,h=ct*2,m="0 0 "+f+" "+h,p=d*Math.PI*2,v=c/i*100,g=p-p*v/100;return x.useEffect(function(){var b=setInterval(function(){c>0?l(function(w){return w-1}):clearInterval(b)},1e3);return function(){return clearInterval(b)}},[c]),y.createElement("div",{className:s},y.createElement("svg",{className:s+"-circle",width:ct*2,height:ct*2,viewBox:m},y.createElement("circle",{className:s+"-background",cx:ct,cy:ct,r:d,strokeWidth:u+"px"}),y.createElement("circle",{className:s+"-progress",cx:ct,cy:ct,r:d,strokeWidth:u+"px",style:{strokeDasharray:p,strokeDashoffset:g},transform:"rotate(-90)"}),y.createElement("text",{className:s+"-counter",x:ct,y:d,dy:".4em",textAnchor:"middle"},c)))};function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ep(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mo(Object(n),!0).forEach(function(r){qe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Sp=y.forwardRef(function(e,t){var n,r,s=e.text,i=e.prefixIcon,a=e.action,c=e.icon,l=e.verticalAction,u=e.style,d=e.className,f=e.type,h=e.position,m=e.downloadProgress,p=m===void 0?0:m,v=e.duration,g=e.zIndex,b=x.useContext(ua),w=Object.values(Jr).includes(h)?h:xi,_=me("snackbar"),E;f!==_e.default&&f!==_e.countdown&&(E=wp(f)),f===_e.countdown&&(E=y.createElement(Np,{duration:v||da}));var N=!c&&!E&&!i&&!a,C=J(_,d,(n={},n[_+"-vertical-action"]=l,n[_+"-"+w]=w,n[_+"-text-only"]=N,n)),A=i||E||(c?y.createElement(q,{icon:"zi-info-circle-solid"}):null),j=f===_e.download?y.createElement(up,{className:_+"-progress",maxCompleted:100,completed:p}):null,T=function(D){D.preventDefault(),a&&a.close&&b&&(b.closeSnackbar==null||b.closeSnackbar()),a==null||a.onClick==null||a.onClick(D)},k=J(_+"-prefix-icon",(r={},r[_+"-success"]=f===_e.success,r[_+"-error"]=f===_e.error,r[_+"-warning"]=f===_e.warning,r[_+"-info"]=f===_e.info,r[_+"-download"]=f===_e.download,r[_+"-success"]=f===_e.success,r[_+"-wifi-connected"]=f===_e["wifi-connected"],r[_+"-wifi-disconnected"]=f===_e["wifi-disconnected"],r[_+"-loading"]=f===_e.loading,r)),M={};return u&&(M=Ep({},u)),g&&(M.zIndex=g),y.createElement("div",{className:C,ref:t,style:M},y.createElement("div",{className:_+"-content"},y.createElement("div",{className:_+"-desc-wrapper"},A&&y.createElement("div",{className:k},A),s&&y.createElement("div",{className:_+"-desc"},s)),j),a&&y.createElement("div",{role:"presentation",className:_+"-action",onClick:T},a.text))}),Cp=y.forwardRef(function(e,t){var n,r,s,i,a=x.useState(!1),c=a[0],l=a[1],u=x.useState(!1),d=u[0],f=u[1],h=x.useState(null),m=h[0],p=h[1],v=x.useState(""),g=v[0],b=v[1],w=x.useState(!1),_=w[0],E=w[1],N=x.useState(null),C=N[0],A=N[1],j=x.useState(_e.default),T=j[0],k=j[1],M=x.useState(Jr.bottom),Z=M[0],D=M[1],L=x.useState(T===_e.countdown?da:$o),B=L[0],ae=L[1],$=x.useRef(),W=x.useState(),K=W[0],xe=W[1],ke=x.useState(),Me=ke[0],ye=ke[1],ee=x.useState(!1),Ue=ee[0],oe=ee[1],te=x.useState(0),Re=te[0],Be=te[1];x.useImperativeHandle(t,function(){return $.current});var Qe=x.useCallback(function(ge){var On=ge.type,kn=ge.position;b((ge==null?void 0:ge.text)||""),E(!!(ge!=null&&ge.icon)),A(ge==null?void 0:ge.prefixIcon),k(On||_e.default),ae((ge==null?void 0:ge.duration)||$o),D(kn||xi),ye(ge==null?void 0:ge.action),oe(!!(ge!=null&&ge.verticalAction)),xe(function(){return ge==null?void 0:ge.onClose}),Be(0)},[]),Ut=x.useCallback(function(ge){c===!0?(l(!1),setTimeout(function(){Qe(ge),l(!0)},fp)):(Qe(ge),l(!0))},[c,Qe]),Vt=x.useCallback(function(){l(!1)},[]),Ft=x.useCallback(function(ge){Be(ge)},[]),Ke=Object.values(Jr).includes(Z)?Z:xi,Ae=me("snackbar"),be=x.useMemo(function(){return{openSnackbar:Ut,closeSnackbar:Vt,setDownloadProgress:Ft}},[Ut,Vt,Ft]),Ot=e.children,de=e.className,Bt=e.style,yt=e.zIndex;return y.createElement(ua.Provider,{value:be},Ot,y.createElement(Cs,{in:c,timeout:{enter:100,exit:100,appear:100},mountOnEnter:!0,unmountOnExit:!0,onEntered:function(){return f(!0)},onExited:function(){return f(!1)},onEnter:function(){clearTimeout(m);var On=T===_e.countdown?B+1e3:B;p(setTimeout(function(){l(!1)},On))},onExit:function(){K==null||K()},classNames:{enter:J(Ae+"-enter",(n={},n[Ae+"-enter-"+Ke]=Ke,n)),enterActive:J(Ae+"-enter-active",(r={},r[Ae+"-enter-active-"+Ke]=Ke,r)),exitActive:J(Ae+"-exit-active",(s={},s[Ae+"-exit-active-"+Ke]=Ke,s))},nodeRef:$},y.createElement(Sp,{ref:$,position:Z,text:g,action:Me,icon:_,type:T,prefixIcon:C,duration:B,style:Bt,className:J(Ae,de,(i={},i[Ae+"-"+Ke+"-visible"]=d,i)),verticalAction:Ue,downloadProgress:Re,zIndex:yt})))}),Tp=function(){var t=x.useContext(ua),n=t||{},r=n.openSnackbar,s=n.closeSnackbar,i=n.setDownloadProgress,a=function(d){r==null||r(d)},c=function(){s==null||s()},l=function(d){i==null||i(d)};return{openSnackbar:a,closeSnackbar:c,setDownloadProgress:l}},tu=x.createContext(null);function Uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Vo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uo(Object(n),!0).forEach(function(r){qe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uo(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var jp=function(t){var n=jm(t).map(function(r){if(y.isValidElement(r)){var s=r.key!==void 0?String(r.key):void 0;return Vo(Vo({key:s},r.props),{},{node:r})}return null}).filter(function(r){return r});return n},fa=y.forwardRef(function(e,t){var n,r=e.icon,s=e.activeIcon,i=e.label,a=e.onClick,c=e.active,l=e.onChange,u=e.itemKey,d=e.id,f=e.className,h=e.style,m=me("bottom-navigation-item"),p=J(m,f,(n={},n[m+"-active"]=!!c,n)),v=function(w){u&&l(u),a==null||a(w)},g=c&&s?s:r;return y.createElement("button",{id:d,style:h,ref:t,onClick:v,className:p},g&&y.createElement("span",{className:m+"-icon"}," ",g),y.createElement("span",{className:m+"-label"},i))}),Op=function(){var t=Hl(),n=y.useContext(la);if(!n)throw new Error("To use `useNavigate`, component must be contained with ZMPRouter component");return x.useCallback(function(r,s){var i=s||{},a=i.animate,c=i.direction;n.setAnimate({animate:a!=null?a:!0,direction:c||"forward"}),typeof r=="number"?t(r):t(r,s)},[n,t])},kp=["linkTo","onClick"],Ap=y.forwardRef(function(e,t){var n=Op(),r=x.useContext(tu),s=e.linkTo,i=e.onClick,a=Se(e,kp),c=x.useRef(null),l=function(d){if(i)i==null||i(d);else if(s){var f="forward";if(r&&r.items){var h=r.items.findIndex(function(p){return p.key===a.itemKey}),m=r.items.findIndex(function(p){return p.key===r.activeKey});if(f=m>h?"backward":"forward",m===h)return}n==null||n(s,{animate:!0,direction:f})}};return x.useImperativeHandle(t,function(){return c.current}),y.createElement(fa,se({ref:c},a,{onClick:l}))}),Ip=["key","style","className","itemKey","linkTo"];function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fo(Object(n),!0).forEach(function(r){qe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Pp=y.forwardRef(function(e,t){var n,r=e.className,s=e.style,i=e.children,a=e.fixed,c=e.id,l=e.onChange,u=e.activeKey,d=e.defaultActiveKey,f=e.zIndex,h=me("bottom-navigation"),m=J(h,r,(n={},n[h+"-fixed"]=a,n)),p=jp(i);(!p||p.length<2)&&console.warn("Bottom Navigation must to have at least 2 items");var v=p.map(function(T){return T.key}).join("_"),g=ms(function(){var T;return(T=p[0])==null?void 0:T.key},{value:u,defaultValue:d}),b=g[0],w=g[1],_=x.useState(function(){return p.findIndex(function(T){return T.key===b})}),E=_[0],N=_[1];x.useEffect(function(){var T=p.findIndex(function(M){return M.key===b});if(T===-1){var k;T=Math.max(0,Math.min(E,p.length-1)),w((k=p[T])==null?void 0:k.key)}N(T)},[b,E,p,v,w]);var C=function(k){var M=k!==b;w(k),M&&(l==null||l(k))},A=x.useMemo(function(){return{activeKey:b,items:p}},[p,b]),j=Bo(Bo({},s||{}),f!==void 0?{zIndex:f}:{});return y.createElement("div",{ref:t,id:c,style:j,className:m},y.createElement("div",{className:h+"-content"},y.createElement(tu.Provider,{value:A},p.map(function(T){var k=T.key,M=T.style,Z=T.className,D=T.itemKey,L=T.linkTo,B=Se(T,Ip),ae=k===b;return L?y.createElement(Ap,se({key:k},B,{linkTo:L,style:M,active:ae,itemKey:D||k,className:Z,onChange:C})):y.createElement(fa,se({key:k},B,{style:M,active:ae,itemKey:D||k,className:Z,onChange:C}))}))))}),hn=Pp;hn.Item=fa;const Rp=()=>typeof window=="undefined"?!1:new URLSearchParams(window.location.search).get("mode")==="mobile",zp=()=>typeof window=="undefined"?!1:window.ZaloJavaScriptInterface!==void 0||window.ZaloPayWebInterface!==void 0||/zalo/i.test(navigator.userAgent),nu=()=>zp()?"zalo":"web",ha=()=>Rp()?!1:nu()==="web";class Dp{getAccessToken(){return z(this,null,function*(){return""})}getUserInfo(){return z(this,null,function*(){const t=localStorage.getItem("user_info");if(t)try{return JSON.parse(t)}catch(n){console.error("Failed to parse cached user info",n)}throw new Error("Not authenticated - please login")})}getTheme(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}followOA(t){return z(this,null,function*(){console.warn("followOA is only available in Zalo Mini App"),alert("TÃ­nh nÄƒng theo dÃµi Zalo OA chá»‰ kháº£ dá»¥ng trong á»©ng dá»¥ng Zalo Mini App")})}requestSendNotification(t){return z(this,null,function*(){console.warn("requestSendNotification is only available in Zalo Mini App"),alert("TÃ­nh nÄƒng gá»­i thÃ´ng bÃ¡o chá»‰ kháº£ dá»¥ng trong á»©ng dá»¥ng Zalo Mini App")})}}function ma(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zo(e,t){return t!=null&&typeof Symbol!="undefined"&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}var Lp=Object.prototype.toString,$p="[object Null]",Mp="[object Undefined]";function Wo(e){return e==null?e===void 0?Mp:$p:function(t){return Lp.call(t)}(e)}function Go(e){return e!=null&&typeof e=="object"}var Ne={isEmpty:function(e){return e==null||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0},isNull:function(e){return e===null},isUndefined:function(e){return e===void 0},isFunction:function(e){return typeof e=="function"},isObject:function(e){return e!==null&&(typeof e=="function"||typeof e=="object")},isString:function(e){return e!=null&&typeof e.valueOf()=="string"},isNumber:function(e){return typeof e=="number"||Go(e)&&Wo(e)=="[object Number]"},isArray:function(e){return Array.isArray(e)},isRegExp:function(e){return Go(e)&&Wo(e)=="[object RegExp]"},get:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=function(i){return String.prototype.split.call(t,i).filter(Boolean).reduce(function(a,c){return a!=null?a[c]:a},e)},s=r(/[,[\]]+?/)||r(/[,[\].]+?/);return s===void 0||s===e?n:s},isPromise:function(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}},rr,ru=window.zAppID,qr=window.APP_ID,Up="https://h5.zdn.vn/zapps",Vp="h5.zdn.vn",Fp="/zapps",mn={ZOAUTH:"h5.zdn.vn_zoauth",JS_TOKEN:"h5.zdn.vn_zlink3rd",ZOAUTH_VRF:"h5.zdn.vn_zoauth_vrf"},sr={GET_USER_INFO:"https://graph.zalo.me/v2.0/me",GET_ACCESS_TOKEN:"https://h5.zalo.me/openapi/access_token",GET_ACCESS_TOKEN_V3:"https://oauth.zaloapp.com/v3/access_token",GET_LIST_USER_INFO:"https://graph.zalo.me/v2.0/me/friends/list",CREATE_ORDER:"https://payment-mini.zalo.me/api/order/create",GET_APP_INFO:"https://h5.zalo.me/apps/get-info",SEND_ACTION_LOG:"https://h5.zalo.me/log/async",CREATE_SHARE_LINK:"https://h5.zalo.me/openapi/create-sharelink",CHECK_INTERACT_OA:"https://h5.zalo.me/openapi/check-interact-oa",GET_AUTH_SETTING:"https://h5.zalo.me/apis/users/auth-settings"};(function(e){e.REQUEST="REQUEST",e.MODIFIED_REQUEST="MODIFIED_REQUEST",e.RESPONSE="RESPONSE",e.MODIFIED_RESPONSE="MODIFIED_RESPONSE",e.NOT_FOUND="NOT_FOUND"})(rr||(rr={}));var Ko,Ho,H={SUCCESS:0,UNKNOWN_ERROR:-2e3,BAD_REQUEST:-1400,INTERNAL_SERVER_ERROR:-1500,UNAUTHORIZED:-1401,FORBIDDEN:-1403,CLIENT_NOT_SUPPORT:-1404,TIME_OUT:-1408,FAIL_LIMIT:-1409,DUPLICATE_REQUEST:-1410,DECODE_FAILED:-2001,USER_DENIED:-2002,USER_CANCEL:-2003,MEDIA_PICKER_FAIL:-2004,SAVE_IMAGE_FAIL:-2005,SAVE_VIDEO_FAIL:-2006,SAVE_FILE_FAIL:-2007,DEVICE_NOT_SUPPORT:-600,SCAN_TIMEOUT:-601,SERVICE_NOT_READY:-602,UNREADABLE:-603,INVALID_MRZ:-604,PROCESSING:-605,CANCEL:-606,MPDS_ACTION_INVALID:-3e3,MPDS_SOURCE_INVALID:-3005,MPDS_APPID_INVALID:-3006,INVALID_URL_FORMAT:-700,UNSUPPORTED_FILE_TYPE:-701,DOWNLOAD_FAIL:-702,OPEN_DOCUMENT_FAIL:-703},Y={SUCCESS:"Success",UNKNOWN_ERROR:"Unknown error. Please try again later.",FAIL_LIMIT:"Request limit exceeded. Please try again later.",DUPLICATE_REQUEST:"Duplicate request. Please try again later.",TIME_OUT:"Request timeout. Please try again later.",LOGIN_REQUIRED:"Please login (https://miniapp.zalo.me/docs/api/login) before to call this api",LOGIN_FAILED:"Login failed",NOT_PERMISSION:"You don't have permission to call this api",CLIENT_NOT_SUPPORT:"This API is not supported in this version of Zalo",DECODE_FAILED:"Can not decode id. Please check your params again.",USER_DENIED:"User denied",USER_CANCEL:"User cancel",NEED_USER_AUTH:"User Authentication Required. Please grant User Authentication permission before requesting User Permission",MEDIA_PICKER_FAIL:"Unable to pick media",SAVE_IMAGE_FAIL:"Unable to save image",SAVE_VIDEO_FAIL:"Unable to save video",DOWNLOAD_FAIL:"Download failed. Please check your network or file path again.",SAVE_FILE_FAIL:"Unable to save file",DEVICE_NOT_SUPPORT:"This device does not support NFC",SERVICE_NOT_READY:"NFC service is not ready. Please check in your setting",UNREADABLE:"NFC tag is unreadable",INVALID_MRZ:"Invalid MRZ data. Please try again later.",PROCESSING:"Processing NFC tag. Please wait a moment.",CANCEL:"User cancel",SCAN_TIMEOUT:"NFC scan timeout. Please try again later.",MPDS_ACTION_INVALID:"Action name from input data does not match declared API actions",MPDS_SOURCE_INVALID:"This API not called from Mini App",MPDS_APPID_INVALID:"AppId from input data does not match the currently opened AppId",INVALID_URL_FORMAT:"Download failed. Please check your URL again.",UNSUPPORTED_FILE_TYPE:"Unsupported file type",OPEN_DOCUMENT_FAIL:"Open document failed"},V={UNKNOWN_ERROR:{code:H.UNKNOWN_ERROR,message:Y.UNKNOWN_ERROR},UNAUTHORIZED:{code:H.UNAUTHORIZED,message:Y.LOGIN_REQUIRED},FORBIDDEN:{code:H.FORBIDDEN,message:Y.NOT_PERMISSION},CLIENT_NOT_SUPPORT:{code:H.CLIENT_NOT_SUPPORT,message:Y.CLIENT_NOT_SUPPORT},DECODE_FAILED:{code:H.DECODE_FAILED,message:Y.DECODE_FAILED},TIME_OUT:{code:H.TIME_OUT,message:Y.TIME_OUT},USER_DENIED:{code:H.USER_DENIED,message:Y.USER_DENIED},USER_CANCEL:{code:H.USER_CANCEL,message:Y.USER_CANCEL},DUPLICATE_REQUEST:{code:H.DUPLICATE_REQUEST,message:Y.DUPLICATE_REQUEST},DEVICE_NOT_SUPPORT:{code:H.DEVICE_NOT_SUPPORT,message:Y.DEVICE_NOT_SUPPORT},SERVICE_NOT_READY:{code:H.SERVICE_NOT_READY,message:Y.SERVICE_NOT_READY},UNREADABLE:{code:H.UNREADABLE,message:Y.UNREADABLE},INVALID_MRZ:{code:H.INVALID_MRZ,message:Y.INVALID_MRZ},PROCESSING:{code:H.PROCESSING,message:Y.PROCESSING},CANCEL:{code:H.CANCEL,message:Y.CANCEL},SCAN_TIMEOUT:{code:H.SCAN_TIMEOUT,message:Y.SCAN_TIMEOUT},MPDS_ACTION_INVALID:{code:H.MPDS_ACTION_INVALID,message:Y.MPDS_ACTION_INVALID},MPDS_SOURCE_INVALID:{code:H.MPDS_SOURCE_INVALID,message:Y.MPDS_SOURCE_INVALID},MPDS_APPID_INVALID:{code:H.MPDS_APPID_INVALID,message:Y.MPDS_APPID_INVALID}},su={addRating:{limit:1},authorize:{},isAllowedInteractWithOA:{},favoriteApp:{},followOA:{},getLocation:{},getPhoneNumber:{},getShareableLink:{},getSetting:{},getAppInfo:{},getUserInfo:{},interactOA:{},openProfilePicker:{},openShareSheet:{},unfollowOA:{},checkTransaction:{limit:5},createOrder:{limit:5},createOrderIAP:{limit:5},selectPaymentMethod:{},requestSendNotification:{}},pa={GET_DOWNLOADED_STICKER:{haveCallback:!0},OPEN_SHARE_STICKER:{},OPEN_PROFILE:{requireAccessToken:!0},OPEN_FEED_DETAIL:{},OPEN_FRIEND_RADA:{},OPEN_INAPP:{},OPEN_OUTAPP:{requireAccessToken:!0},OPEN_PAGE:{},OPEN_PHOTODETAIL:{},OPEN_GALARY:{},OPEN_GAMECENTER:{},OPEN_GAMENEWS:{},OPEN_TAB_CONTACT:{},OPEN_TAB_SOCIAL:{},OPEN_FRIENDSUGGEST:{},OPEN_GROUPLIST:{},OPEN_NEARBY:{},OPEN_ROOM:{},OPEN_STICKERSTORE:{},OPEN_CREATECHAT:{},COPY_LINK_CATESTICKER:{},REQUEST_BUY_STICKER:{},OPEN_CHAT:{requireAccessToken:!0},OPEN_TAB_CHAT:{},OPEN_CHATGROUP:{},OPEN_ADDFRIEND:{},OPEN_TAB_MORE:{},OPEN_POSTFEED:{requireAccessToken:!0},OPEN_LOGINDEVICES:{},OPEN_SENDSTICKER:{},REPORT_ABUSE:{haveCallback:!0},FOLLOW_OA:{haveCallback:!0,requireAccessToken:!0,errorList:{android:{"-400":{mapTo:V.DUPLICATE_REQUEST}},iOS:{"-400":{mapTo:V.DUPLICATE_REQUEST}}}},UNFOLLOW_OA:{haveCallback:!0,requireAccessToken:!0,errorList:{android:{"-400":{mapTo:V.DUPLICATE_REQUEST}},iOS:{"-400":{mapTo:V.DUPLICATE_REQUEST}}}},OPEN_GAMEDETAIL:{},OPEN_SHARESHEET:{haveCallback:!0,requireAccessToken:!0,errorList:{android:{"-101":{mapTo:V.CLIENT_NOT_SUPPORT}},iOS:{"-101":{mapTo:V.CLIENT_NOT_SUPPORT}}}},REQUEST_PERMISSION_CAMERA:{errorList:{android:{"-2":{mapTo:V.USER_DENIED}},iOS:{"-2":{mapTo:V.USER_DENIED}}}},CHANGE_TITLE_HEADER:{skipJump:!0},WEBVIEW_CLEARCACHE:{},WEBVIEW_CONFIRMCACHE:{},WEBVIEW_ISVISIBLE:{},WEBVIEW_NETWORKTYPE:{skipJump:!0},CHANGE_BUTTON_HEADER:{},CREATE_OPTIONS_MENU:{skipJump:!0,haveCallback:!0},CREATE_SHORTCUT:{requireAccessToken:!0},CHANGE_ACTIONBAR_LEFTBUTTON_TYPE:{skipJump:!0,haveCallback:!0},WINDOW_CLOSE:{skipJump:!0,haveCallback:!0},WEBVIEW_CHECKRESERROR:{},IAP_REQUESTPAYMENT:{haveCallback:!0},ZBROWSER_GETSTATS:{},ZBROWSER_JSBRIDGE:{skipJump:!0,haveCallback:!0},PROMPT_AUTHENTICATION:{},CHANGE_ACTIONBAR_COLOR:{skipJump:!0},PROMPT_AUTHENTICATION_CHECK_STATE:{},OPEN_APPSTORE:{},GET_LOCATION:{haveCallback:!0,errorList:{android:{"-1":{mapTo:V.USER_DENIED},"-400":{mapTo:V.DUPLICATE_REQUEST}},iOS:{"-1":{mapTo:V.USER_DENIED},"-400":{mapTo:V.DUPLICATE_REQUEST}}}},QUERY_LOCATION_HIDE:{haveCallback:!0},SHOW_TOAST:{haveCallback:!0,timeout:2},OPEN_APP:{},HIDE_KEYBOARD:{},OPEN_PHONE:{},OPEN_QR:{},OPEN_SMS:{errorList:{iOS:{"-9":{mapTo:V.UNKNOWN_ERROR},"-10":{mapTo:V.USER_CANCEL}}}},VIEW_MYQR:{haveCallback:!0,timeout:!0,requireAccessToken:!0},KEEP_SCREEN:{haveCallback:!0,timeout:2},CHANGE_AUTOROTATE:{skipJump:!0},CHECK_APP_INSTALLED:{},QUERY_SHOW:{},QUERY_HIDE:{},OPEN_INAPPRW:{},ZALORUN_GETTRACKINGSTATUS:{haveCallback:!0},ZALORUN_SETTRACKINGSTATUS:{haveCallback:!0},ZALORUN_GETDAYSTEP:{haveCallback:!0},ZALORUN_FORCESUBMITDATA:{haveCallback:!0},ZALORUN_SETWEIGHT:{haveCallback:!0},OPEN_PROFILE_EXT:{},DOWNLOAD_CATE:{haveCallback:!0},JUMP_LOGIN:{skipJump:!0,whiteList:!0},OPEN_ADTIMA_ADS_INTERSTITIAL:{},OPEN_ADTIMA_ADS:{},GET_ADIDCLIENT:{},SCAN_IBEACON:{},SAVE_VIDEO_GALLERY:{versionLive:{iOS:628},errorList:{android:{"-101":{mapTo:{code:H.SAVE_VIDEO_FAIL,message:Y.SAVE_VIDEO_FAIL},needMoreDetail:!0},"-102":{mapTo:{code:H.SAVE_VIDEO_FAIL,message:Y.SAVE_VIDEO_FAIL},needMoreDetail:!0}},iOS:{"-10":{mapTo:{code:H.SAVE_VIDEO_FAIL,message:Y.SAVE_VIDEO_FAIL},needMoreDetail:!0}}}},INTERACTIVE_VIBRATION:{},SAVE_IMAGE_GALLERY:{versionLive:{iOS:408},errorList:{android:{"-101":{mapTo:{code:H.SAVE_IMAGE_FAIL,message:Y.SAVE_IMAGE_FAIL},needMoreDetail:!0},"-102":{mapTo:{code:H.SAVE_IMAGE_FAIL,message:Y.SAVE_IMAGE_FAIL},needMoreDetail:!0}},iOS:{"-10":{mapTo:{code:H.SAVE_IMAGE_FAIL,message:Y.SAVE_IMAGE_FAIL},needMoreDetail:!0}}}},OPEN_MP:{versionLive:{iOS:402}},CHANGE_ACTIONBAR:{haveCallback:!0,timeout:2,versionLive:{iOS:402},skipJump:!0},ZBROWSER_MPDS:{haveCallback:!0,timeout:2,versionLive:{iOS:402},errorList:{android:{"-100":{mapTo:V.MPDS_ACTION_INVALID},"-101":{mapTo:V.UNKNOWN_ERROR},"-105":{mapTo:V.MPDS_SOURCE_INVALID},"-106":{mapTo:V.MPDS_APPID_INVALID}},iOS:{"-10":{mapTo:V.MPDS_ACTION_INVALID},"-101":{mapTo:V.MPDS_APPID_INVALID},"-102":{mapTo:V.UNKNOWN_ERROR}}}},ZBROWSER_MPDS_SYNC:{versionLive:{iOS:402},errorList:{android:{"-100":{mapTo:V.MPDS_ACTION_INVALID},"-101":{mapTo:V.UNKNOWN_ERROR},"-105":{mapTo:V.MPDS_SOURCE_INVALID},"-106":{mapTo:V.MPDS_APPID_INVALID}},iOS:{"-10":{mapTo:V.MPDS_ACTION_INVALID},"-101":{mapTo:V.MPDS_APPID_INVALID},"-102":{mapTo:V.UNKNOWN_ERROR}}}},WEBVIEW_SET_RESULT:{versionLive:{iOS:416}},MP_GET_NUMBER:{versionLive:{iOS:416},errorList:{android:{"-1":{mapTo:V.USER_DENIED},"-101":{mapTo:V.USER_DENIED},"-400":{mapTo:V.DUPLICATE_REQUEST}},iOS:{"-1":{mapTo:V.USER_DENIED},"-10":{mapTo:V.USER_DENIED},"-400":{mapTo:V.DUPLICATE_REQUEST}}}},MP_OPEN_PROFILE_PICKER:{requireAccessToken:!0,versionLive:{iOS:432},errorList:{android:{"-101":{mapTo:V.USER_CANCEL}},iOS:{"-101":{mapTo:V.USER_CANCEL}}}},GET_SUPPORTED_ACTIONS:{whiteList:!0},MP_JOIN_WIFI:{haveCallback:!0,timeout:!0,versionLive:{android:0,iOS:0},havePermission:!1,whiteList:!1},PICK_MEDIA:{requireAccessToken:!0,versionLive:{iOS:440},errorList:{android:{"-101":{mapTo:V.USER_CANCEL},999:{mapTo:{code:H.MEDIA_PICKER_FAIL,message:Y.MEDIA_PICKER_FAIL},needMoreDetail:!0}},iOS:{"-10":{mapTo:{code:H.MEDIA_PICKER_FAIL,message:Y.MEDIA_PICKER_FAIL}}}}},MP_CLOSE_LOADINGVIEW:{skipJump:!0},CHANGE_BOTTOMBAR:{haveCallback:!0,timeout:2,skipJump:!0},MA_MENU_MINIMIZE:{skipJump:!1,versionLive:{iOS:520}},MA_MENU_PERMISSION:{skipJump:!1,versionLive:{iOS:520}},MA_MENU_FAVORITES:{skipJump:!1,versionLive:{iOS:520}},MP_SEND_NOTIFICATION:{skipJump:!1,versionLive:{iOS:530},errorList:{android:{"-1":{mapTo:V.USER_DENIED},"-400":{mapTo:V.DUPLICATE_REQUEST}},iOS:{"-1":{mapTo:V.USER_DENIED},"-400":{mapTo:V.DUPLICATE_REQUEST}}}},MP_ADD_RATING:{skipJump:!1},MP_ADD_MYFAVORITES:{skipJump:!1},MP_INTERACT_OA:{skipJump:!1,errorList:{android:{"-400":{mapTo:V.DUPLICATE_REQUEST}},iOS:{"-400":{mapTo:V.DUPLICATE_REQUEST}}}},MP_USER_AUTHORIZE:{skipJump:!1,errorList:{android:{"-400":{mapTo:V.DUPLICATE_REQUEST}},iOS:{"-400":{mapTo:V.DUPLICATE_REQUEST}}}},MP_SELECT_PAYMENT_METHOD:{skipJump:!1},CHECK_NFC:{skipJump:!1,versionLive:{iOS:626},errorList:{all:{"-1":{mapTo:V.UNKNOWN_ERROR},"-600":{mapTo:V.DEVICE_NOT_SUPPORT},"-602":{mapTo:V.SERVICE_NOT_READY}}}},SCAN_NFC:{skipJump:!1,haveCallback:!0,timeout:65,errorList:{all:{"-1":{mapTo:V.UNKNOWN_ERROR},"-600":{mapTo:V.DEVICE_NOT_SUPPORT},"-601":{mapTo:V.SCAN_TIMEOUT},"-602":{mapTo:V.SERVICE_NOT_READY},"-603":{mapTo:V.UNREADABLE},"-604":{mapTo:V.INVALID_MRZ},"-605":{mapTo:V.PROCESSING},"-606":{mapTo:V.CANCEL}}}},MP_CONFIRM_REQUEST_PAYMENT:{skipJump:!1},SAVE_FILE:{versionLive:{iOS:628},skipJump:!1,errorList:{android:{"-101":{mapTo:{code:H.SAVE_FILE_FAIL,message:Y.SAVE_FILE_FAIL},needMoreDetail:!0},"-102":{mapTo:{code:H.SAVE_FILE_FAIL,message:Y.SAVE_FILE_FAIL},needMoreDetail:!0}},iOS:{"-10":{mapTo:{code:H.SAVE_FILE_FAIL,message:Y.SAVE_FILE_FAIL},needMoreDetail:!0}}}},MP_APP_LIFECYCLE_TRACKING:{skipJump:!1},OPEN_DOCUMENT:{skipJump:!1,errorList:{all:{"-10":{mapTo:{code:H.INVALID_URL_FORMAT,message:Y.INVALID_URL_FORMAT}},"-700":{mapTo:{code:H.INVALID_URL_FORMAT,message:Y.INVALID_URL_FORMAT}},"-701":{mapTo:{code:H.UNSUPPORTED_FILE_TYPE,message:Y.UNSUPPORTED_FILE_TYPE}},"-702":{mapTo:{code:H.DOWNLOAD_FAIL,message:Y.DOWNLOAD_FAIL}},"-703":{mapTo:{code:H.OPEN_DOCUMENT_FAIL,message:Y.OPEN_DOCUMENT_FAIL}}}}},GET_DEVICE_INFO:{skipJump:!1}},qs={android:{"-4":V.DECODE_FAILED,"-5":V.CLIENT_NOT_SUPPORT,"-14":V.TIME_OUT},iOS:{"-9":V.DECODE_FAILED,"-5":V.CLIENT_NOT_SUPPORT,"-14":V.TIME_OUT}},Bp={"-12101":"Invalid params","-12102":"Session expire","-12103":"Not permission","-12104":"Not Authorize","-12105":"Unknown exception","-12106":"Cannot create order","-12107":"Transaction not found","-12108":"Cannot update order","-12109":"Cannot decode param","-12110":"Version not support","-12111":"Receipt expire","-12112":"Product not found","-12113":"Subscription other GW","-12114":"Product already subcription","-12115":"Not exist","-12116":"Already exist","-12117":"Not allow","-12118":"Not permit","-12119":"Internal error","-2":"Unable to pay","-6":"Unable to register","-7":"Registered account","-832":"Purchased by another account","-833":"Register for another account","-834":"Unable to register","-2010":"System is maintaining","-3999":"Not in Vietnam","-12129":"Purchased by another account",123:"An error has occurred"};(function(e){e.DEV_TRACKING="devTracking"})(Ko||(Ko={})),function(e){e[e.APP_INITIALIZING=95]="APP_INITIALIZING",e[e.APP_READY=96]="APP_READY"}(Ho||(Ho={}));var Zp="checkoutKitWidget-ifCKW",Wp="https://h5.zalo.me",je=function(){function e(n,r,s,i){ma(this,e),this.code=n,this.message=r,this.api=s,this.detail=i}var t=e.prototype;return t.toString=function(){return"api: ".concat(String(this.api),"; code: ").concat(this.code,"; message: ").concat(JSON.stringify(this.message))},t.toJSON=function(){return{code:this.code,message:this.message,api:this.api,detail:this.detail}},e}(),Or=function(e,t){return Zo(e,je)?function(n,r){return n.api=r,n.toJSON()}(e,t):function(n,r){return Zo(n,Error)?new je(H.UNKNOWN_ERROR,n.message,r).toJSON():Ne.isEmpty(n==null?void 0:n.message)||Ne.isEmpty(n==null?void 0:n.code)?new je(H.UNKNOWN_ERROR,Y.UNKNOWN_ERROR,r,n).toJSON():new je(n.code,n.message,r,n.detail).toJSON()}(e,t)},iu="2.49.4";function yi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gp(e){if(Array.isArray(e))return yi(e)}function Kp(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hp(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Jp(e,t){if(e){if(typeof e=="string")return yi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(n):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yi(e,t):void 0}}function ga(e){return Gp(e)||Kp(e)||Jp(e)||Hp()}function Jo(e,t,n,r,s,i,a){try{var c=e[i](a),l=c.value}catch(u){return void n(u)}c.done?t(l):Promise.resolve(l).then(r,s)}function fe(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var i=e.apply(t,n);function a(l){Jo(i,r,s,a,c,"next",l)}function c(l){Jo(i,r,s,a,c,"throw",l)}a(void 0)})}}function Qr(e){return e&&e.constructor===Symbol?"symbol":typeof e}function va(e){return typeof window.Debug=="function"?window.Debug(e):function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r]}}var qo,Zn,He,ut,Qo,Yo,Xo,ec,tc,nc,rc,sc,ic,ac,oc,cc,lc,uc,dc;(function(e){e.none="none",e.wifi="wifi",e.cellular="cellular",e.unknown="unknown"})(qo||(qo={})),function(e){e.wp="wp",e.android="android",e.iOS="iOS",e.unknown="unknown"}(Zn||(Zn={})),function(e){e.AppPaused="h5.event.paused",e.AppResumed="h5.event.resumed",e.NetworkChanged="h5.event.connection.changed",e.OnDataCallback="h5.event.webview.result",e.WebviewClosed="h5.event.webview.close",e.OpenApp="h5.event.open.mp",e.AppClose="h5.event.action.close",e.PaymentCallback="payment.callback",e.PaymentResult="action.payment.result",e.PaymentDone="action.payment.done",e.PaymentClose="action.payment.close",e.DownloadProgress="h5.event.webview.download.progress"}(He||(He={})),function(e){e.DOING="doing",e.DONE="done"}(ut||(ut={})),function(e){e[e.user=1]="user",e[e.oa=0]="oa",e[e.aliasOA=2]="aliasOA"}(Qo||(Qo={})),function(e){e[e.user=1]="user",e[e.oa=0]="oa"}(Yo||(Yo={})),function(e){e[e.image=1]="image",e[e.multi_image=2]="multi_image",e[e.link=4]="link",e[e.profile=5]="profile"}(Xo||(Xo={})),function(e){e[e.cccd=1]="cccd"}(ec||(ec={})),function(e){e[e.image=1]="image",e[e.gif=11]="gif",e[e.video=12]="video",e[e.link=4]="link",e[e.oa=5]="oa",e[e.zmp=20]="zmp",e[e.multi_image=21]="multi_image",e[e.zmp_deep_link=4]="zmp_deep_link",e[e.text=22]="text"}(tc||(tc={})),function(e){e[e.auto=1]="auto",e[e.portrait=2]="portrait",e[e.landscape=3]="landscape"}(nc||(nc={})),function(e){e[e.oneShot=0]="oneShot"}(rc||(rc={})),function(e){e[e.zcamera=3]="zcamera",e[e.zcamera_photo=1]="zcamera_photo",e[e.zcamera_video=2]="zcamera_video",e[e.zcamera_scan=7]="zcamera_scan",e[e.photo=4]="photo",e[e.video=5]="video",e[e.file=6]="file"}(sc||(sc={})),function(e){e.SUBSCRIPTION="SUBSCRIPTION",e.ONETIME="ONETIME"}(ic||(ic={})),function(e){e[e.UNKNOW=0]="UNKNOW",e[e.DEFERRED=1]="DEFERRED",e[e.IMMEDIATE_AND_CHARGE_FULL_PRICE=2]="IMMEDIATE_AND_CHARGE_FULL_PRICE"}(ac||(ac={})),function(e){e[e.normal=1]="normal",e[e.hidden=0]="hidden",e[e.transparent=2]="transparent"}(oc||(oc={})),function(e){e[e.show=1]="show",e[e.hide=0]="hide"}(cc||(cc={})),function(e){e[e.show=1]="show",e[e.hide=0]="hide"}(lc||(lc={})),function(e){e[e.left=0]="left",e[e.center=1]="center"}(uc||(uc={})),function(e){e.TOOL_DEL_FRIEND="tool_del_friend"}(dc||(dc={}));function qp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qp(e,t,n){return t&&qp(e.prototype,t),e}function Yp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){Yp(e,s,n[s])})}return e}function Yt(e){Yt.on&&Yt.engine(e)}Yt.on=!1,Yt.engine=function(e){var t=e.name,n=e.type,r=e.state,s=e.request,i=e.response,a=e.stage;console[n]([t,a,r,s,i].filter(Boolean).map(function(c){return typeof c=="object"?JSON.stringify(c):c}).join("; "))};function _i(e){return _i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_i(e)}function Ht(e){return _i(e)}function Xp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Ht(e))!==null;);return e}function bi(e,t,n){return bi=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,s,i){var a=Xp(r,s);if(a){var c=Object.getOwnPropertyDescriptor(a,s);return c.get?c.get.call(i||r):c.value}},bi(e,t,n)}function kr(e,t,n){return bi(e,t,n)}function wi(e,t){return wi=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},wi(e,t)}function eg(e,t){return wi(e,t)}function tg(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eg(e,t)}function ng(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function rg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sg(e,t){return!t||Qr(t)!=="object"&&typeof t!="function"?rg(e):t}function ig(e){var t=ng();return function(){var n,r=Ht(e);if(t){var s=Ht(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return sg(this,n)}}function ag(e,t){return e(t={exports:{}},t.exports),t.exports}var og=ag(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function s(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||l,h),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function a(l,u){--l._eventsCount==0?l._events=new r:delete l._events[u]}function c(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1)),c.prototype.eventNames=function(){var l,u,d=[];if(this._eventsCount===0)return d;for(u in l=this._events)t.call(l,u)&&d.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(l)):d},c.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,m=new Array(h);f<h;f++)m[f]=d[f].fn;return m},c.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},c.prototype.emit=function(l,u,d,f,h,m){var p=n?n+l:l;if(!this._events[p])return!1;var v,g,b=this._events[p],w=arguments.length;if(b.fn){switch(b.once&&this.removeListener(l,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,d),!0;case 4:return b.fn.call(b.context,u,d,f),!0;case 5:return b.fn.call(b.context,u,d,f,h),!0;case 6:return b.fn.call(b.context,u,d,f,h,m),!0}for(g=1,v=new Array(w-1);g<w;g++)v[g-1]=arguments[g];b.fn.apply(b.context,v)}else{var _,E=b.length;for(g=0;g<E;g++)switch(b[g].once&&this.removeListener(l,b[g].fn,void 0,!0),w){case 1:b[g].fn.call(b[g].context);break;case 2:b[g].fn.call(b[g].context,u);break;case 3:b[g].fn.call(b[g].context,u,d);break;case 4:b[g].fn.call(b[g].context,u,d,f);break;default:if(!v)for(_=1,v=new Array(w-1);_<w;_++)v[_-1]=arguments[_];b[g].fn.apply(b[g].context,v)}}return!0},c.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},c.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},c.prototype.removeListener=function(l,u,d,f){var h=n?n+l:l;if(!this._events[h])return this;if(!u)return a(this,h),this;var m=this._events[h];if(m.fn)m.fn!==u||f&&!m.once||d&&m.context!==d||a(this,h);else{for(var p=0,v=[],g=m.length;p<g;p++)(m[p].fn!==u||f&&!m[p].once||d&&m[p].context!==d)&&v.push(m[p]);v.length?this._events[h]=v.length===1?v[0]:v:a(this,h)}return this},c.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c}),cg=og,lg={enablePaymentDone:!1};function ug(e){var t=new URL(e,window.location.origin),n=t.pathname.split("/")[3].toUpperCase().replace(/-/g,"_"),r={},s=t.searchParams.get("orderId"),i=t.searchParams.get("zmpOrderId"),a=t.searchParams.get("appTransID")||t.searchParams.get("apptransid");switch(n){case"MOMO":case"MOMO_SANDBOX":r.orderId=i,r.transId=s;break;default:r.orderId=i||s,r.transId=a}return r}function dg(e){var t=e.data;return{orderId:t.zmpOrderId||t.orderId,transId:t.appTransID||t.apptransid||t.transId}}var Yr="ACTION_CALLBACK",ir=function(e){tg(n,e);var t=ig(n);function n(){var s;return ma(this,n),(s=t.apply(this,arguments)).debug=va("zmp:event-emitter"),s}var r=n.prototype;return r.h5ConfirmHandleEvent=function(s,i,a){ZaloJavaScriptInterface.jsH5EventCallback(s,i,a||"")},r.on=function(s,i,a){var c=this;return s===Yr||s===He.PaymentCallback?kr(Ht(n.prototype),"on",this).call(this,s,i,a):(this.debug("register ".concat(String(s),": ").concat(a)),kr(Ht(n.prototype),"on",this).call(this,s,function(l,u){c.h5ConfirmHandleEvent(l,s,a),i(u)},a))},r.once=function(s,i,a){var c=this;return s===Yr?kr(Ht(n.prototype),"once",this).call(this,s,i,a):(this.debug("register once ".concat(String(s),": ").concat(a)),kr(Ht(n.prototype),"once",this).call(this,s,function(l,u){c.h5ConfirmHandleEvent(l,s,a),i(u)},a))},n.getInstance=function(){return n.instance||(n.instance=new n),n.instance},n}(cg);function fg(e){ir.getInstance().on(Yr,e)}function Mn(e){ir.getInstance().emit(Yr,e)}window.onNativeMessage=function(e,t){return function(n){Mn({serialId:e,actionName:t,result:n})}},window.zaloJSV2={zalo_h5_event_handler:function(e,t,n){var r=va("zmp:zalo_h5_event_handler");r("eventId: ".concat(e,", eventName: ").concat(t,", eventData: ").concat(n));var s=Ng(n);r("stringToData",s);var i=function(c,l){if(!l||typeof l=="string")return l;try{if(c===He.OpenApp){var u=l.url,d=new URL(u),f=d.pathname.split("/zapps/".concat(qr))[1];return{path:"".concat(f||"/").concat(d.search)}}return l}catch(h){return l}}(t,s),a=function(c,l,u,d){switch(!0){case(typeof u=="string"||u===null):return[{eventName:c,eventId:l,data:u}];case(c===He.OpenApp&&(d==null?void 0:d.enablePaymentDone)):var f=ug(u.path);return[{eventName:He.PaymentDone,eventId:l,data:f}];case c===He.OnDataCallback:if(["PAY_BY_BANK","PAY_BY_CUSTOM_METHOD"].includes(u==null?void 0:u.eventType))return[{eventName:He.OnDataCallback,eventId:l,data:u},{eventName:He.PaymentDone,eventId:l,data:dg(u)}];break;default:return[{eventName:c,eventId:l,data:u}]}}(t,e,i,lg);a==null||a.forEach(function(c){ir.getInstance().emit(c.eventName,c.eventId,c.data);var l=document.getElementById(Zp);l&&kg(l,"appEvent",{eventName:c.eventName,eventId:c.eventId,data:c.data})})}},window.zaloNative2JS={nativeCall:function(e,t,n){ir.getInstance().emit(He.PaymentCallback,e,t,n)}};function fc(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(r===void 0)return;if(r===null)return void t.push(n);t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}return t.join("&")}var hc={encode:fc,decode:function(e,t){var n={};if(e==="")return n;for(var r=e.split("&"),s=0;s<r.length;s++){var i=r[s].split("=",2),a=decodeURIComponent(i[0]);if(t&&Object.prototype.hasOwnProperty.call(n,a))throw new URIError("Duplicate key: "+a);n[a]=i.length===2?decodeURIComponent(i[1]):null}return n},appendToUrl:function(e,t){return e+(e.indexOf("?")!==-1?"&":"?")+(typeof t=="string"?t:fc(t))},getParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},getParamsAsObject:function(e){var t={};return e&&e.split("&").map(function(n){var r=n.split("=");r&&r.length==2&&(t[r[0]]=decodeURIComponent(r[1].replace(/\+/g," ")))}),t},toQueryString:function(e){if(!e)return"";if((e===void 0||e===void 0?"undefined":Qr(e))!="object")return e;var t=Object.keys(e),n=[];return t.map(function(r){var s=e[r],i=[r,s=(s===void 0||s===void 0?"undefined":Qr(s))=="object"?JSON.stringify(s):encodeURIComponent(s)].join("=");n.push(i)}),n.join("&")}},Ni={},Ei=function(e,t,n){var r=t||"default";return function(){return(r in Ni?Ni[r](e,n):e).apply(this,arguments)}};Ei.setWrapper=function(e){Ni[arguments.length<=1||arguments[1]===void 0?"default":arguments[1]]=e};var mc={error:{code:1,error_subcode:1357046,message:"Received Invalid JSON reply.",type:"http"}};function pc(e){try{return e===null?mc:JSON.parse(e)}catch(t){return mc}}var hg={execute:function(e,t,n,r){n.suppress_http_code=1;var s=hc.encode(n);t!="post"&&(e=hc.appendToUrl(e,s),s="");var i=function(a,c){if(!self.XMLHttpRequest)return null;var l=new XMLHttpRequest,u=function(){};if(!("withCredentials"in l))return null;l.open(a,c,!0),l.setRequestHeader("Content-type","application/x-www-form-urlencoded");var d={send:function(m){l.send(m)}},f=Ei(function(){f=u,"onload"in d&&d.onload(l)},"entry","XMLHttpRequest:load"),h=Ei(function(){h=u,"onerror"in d&&d.onerror(l)},"entry","XMLHttpRequest:error");return l.onload=function(){f()},l.onerror=function(){h()},l.onreadystatechange=function(){l.readyState==4&&(l.status==200?f():h())},d}(t,e);return!!i&&(i.onload=function(a){r(pc(a.responseText))},i.onerror=function(a){a.responseText?r(pc(a.responseText)):r({error:{code:1,error_subcode:1357045,message:"unknown error (empty response)",status:a.status,type:"http"}})},i.send(s),!0)}};function he(e,t){var n,r,s,i,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function c(l){return function(u){return function(d){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,d[0]&&(a=0)),a;)try{if(n=1,r&&(s=2&d[0]?r.return:d[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,d[1])).done)return s;switch(r=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return a.label++,{value:d[1],done:!1};case 5:a.label++,r=d[1],d=[0];continue;case 7:d=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!((s=s.length>0&&s[s.length-1])||d[0]!==6&&d[0]!==2)){a=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){a.label=d[1];break}if(d[0]===6&&a.label<s[1]){a.label=s[1],s=d;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(d);break}s[2]&&a.ops.pop(),a.trys.pop();continue}d=t.call(e,a)}catch(f){d=[6,f],r=0}finally{n=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([l,u])}}}function au(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];try{return e.apply(void 0,ga(n))}catch(s){return typeof console!="undefined"&&console.error&&console.error(s),null}}}au.async=function(e){return fe(function(){var t,n,r,s,i=arguments;return he(this,function(a){switch(a.label){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,e.apply(void 0,ga(n))];case 2:return[2,a.sent()];case 3:return s=a.sent(),typeof console!="undefined"&&console.error&&console.error(s),[2,null];case 4:return[2]}})})};var mg=function(e){return e.isAndroid?Zn.android:e.isIOS?Zn.iOS:Zn.unknown};function pg(e){var t=e.split("zalo")[1];return t&&t.replace(" ","").split("/")[1]||""}function rn(){var e=function(){var t=au(function(){return window.navigator.userAgent.toLowerCase()})();if(t){var n,r=function(s){return{isAndroid:/android/i.test(s)&&!/iemobile/.test(s),isIOS:/iphone|ios|ipad|ipod/.test(s)&&!/iemobile/.test(s),isMobile:/android|iphone|ios|ipad|ipod|iemobile/.test(s),isZalo:/zalo/.test(s)}}(t);return{appEnv:(n=new URL(window.location.href).searchParams.get("env"),{isMp:window.location.hostname.includes(Vp)&&(n=="TESTING_LOCAL"||window.location.pathname.startsWith(Fp)),isMpWeb:window.location.hostname.includes("localhost")}),platform:r,platformName:mg(r),zaloVersion:pg(t).trim()}}}();if(e)return e}function Pt(e){try{var t=e.map(function(n){return{action:n.action,error:n.error,message:n.message,data:n.data}});hg.execute(sr.SEND_ACTION_LOG,"post",{appId:window.APP_ID,data:JSON.stringify(t)},function(){})}catch(n){}}var gg=function(){var e;return(((e=rn())===null||e===void 0?void 0:e.platformName)||"").toLowerCase()==="android"},vg=function(){var e;return(((e=rn())===null||e===void 0?void 0:e.platformName)||"").toLowerCase()==="ios"};function gc(e){var t=String(e);try{if(/^\d{9}$/.test(t)&&t[5]==="0")return Number(t.slice(0,5)+t.slice(6))}catch(n){}return Number(t)}var ou=function(){var e,t=0;if(window.zaloVersionCode)return gc(window.zaloVersionCode);var n=Number(((e=rn())===null||e===void 0?void 0:e.zaloVersion)||"0");return n>=24112e3?t=n:gg()?t=n%1e4:vg()&&(t=n),gc(t)},vc,xg=(vc=fe(function(e){var t;return he(this,function(n){switch(n.label){case 0:return t={headers:{"Content-Type":"application/x-www-form-urlencoded",authorization:"Bearer ".concat(e)}},[4,fetch(sr.GET_AUTH_SETTING,xa({method:"GET"},t))];case 1:return[4,n.sent().json()];case 2:return[2,n.sent()]}})}),function(e){return vc.apply(this,arguments)}),cu=fe(function(){return he(this,function(e){return[2,new Promise((t=fe(function(n,r){var s,i,a,c;return he(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),[4,De.jumpAndGetToken()];case 1:return l.sent(),(i=(s=De.miniProgramConfig)===null||s===void 0?void 0:s.jwt)||r(new je(H.UNAUTHORIZED,Y.LOGIN_REQUIRED,"getSetting")),[4,xg(i)];case 2:return(a=l.sent())&&a.err===0?n({authSetting:a.data}):r(new je(a.err,a.msg,"getSetting")),[3,4];case 3:return c=l.sent(),r(c),[3,4];case 4:return[2]}})}),function(n,r){return t.apply(this,arguments)}))];var t})}),Qs,xc,bt,Zt,Ar,At,lu=(bt=rn(),Zt={},Ar=ir.getInstance(),At=[],fg(function(e){var t=e.serialId,n=Eg(e.result),r=Ci(n==null?void 0:n.action),s=Ne.isEmpty(n==null?void 0:n.error_code)?0:n==null?void 0:n.error_code,i=n==null?void 0:n.error_message,a=(n==null?void 0:n.data)||n;if(r&&s===0){var c=JSON.parse(n==null?void 0:n.data);s=Ne.isEmpty(c==null?void 0:c.error_code)?0:c==null?void 0:c.error_code,i=c==null?void 0:c.error_message,a=(c==null?void 0:c.data)||c}var l={error_code:s,error_message:i,data:a,action:(n==null?void 0:n.action)||e.actionName};if(t&&Zt[t]){var u=Zt[t],d=u.callback,f=u.timeout,h=u.isMultiCallback,m=u.options,p=u.downloadListener;(function(N,C){var A=C||{},j=A.success,T=A.fail;N.error_code===0?Ne.isFunction(j)&&j(N):Ne.isFunction(T)&&T(N)})(l,d),!h&&delete Zt[t],f&&clearTimeout(f);var v={action:l==null?void 0:l.action,error:l==null?void 0:l.error_code,message:l==null?void 0:l.error_message,data:{}};try{if(l.action==="action.open.inapp"||l.action==="action.open.outapp"){var g=new URL(m==null?void 0:m.url),b="".concat(g.protocol,"//").concat(g.host).concat(g.pathname);v.data={url:b}}if(l.action==="action.follow.oa"||l.action==="action.unfollow.oa"){var w=m==null?void 0:m.uid;v.data={uid:w}}if(l.action==="action.open.chat"){var _=m==null?void 0:m.uId,E=m==null?void 0:m.type;v.data={uid:_,openChatType:E}}m!=null&&m.onProgress&&p&&Ar.off(He.DownloadProgress,p)}catch(N){}At.push(v)}}),Ar.on(He.AppPaused,function(){if(At.length>0){var e=At;At=[],Pt(e)}}),Qs?clearInterval(Qs):Qs=setInterval(function(){if(At.length>0){var e=At;At=[],Pt(e)}},5e3),xc=fe(function(e,t,n,r){var s,i,a,c,l,u,d,f,h,m,p,v,g,b,w,_,E,N,C,A,j,T,k,M,Z,D;return he(this,function(L){switch(L.label){case 0:return i=Math.floor(1e6*Math.random()),a="".concat(e,"_").concat(i),c=Og(e),r!=null&&r.actionName&&r.actionName.length>0&&(c=r==null?void 0:r.actionName),l=(r==null?void 0:r.isMultiCallback)||!1,u=(r==null?void 0:r.timeout)!==!1&&((r==null?void 0:r.timeout)||!0),d=(r==null?void 0:r.haveCallback)||!1,f=(r==null?void 0:r.skipJump)||!1,h=(r==null?void 0:r.requireAccessToken)||!1,m=Tg(c),t&&n&&(Zt[a]={options:t,callback:n,isMultiCallback:l},u&&d&&(Zt[a].timeout=setTimeout(function(){var B={serialId:a,result:{error_code:H.TIME_OUT,error_message:Y.TIME_OUT,data:{timeout:u},action:e}};return Mn(B),null},u===!0?8e3:1e3*u))),m?[4,cu()]:[3,2];case 1:if(((v=L.sent())==null||(p=v.authSetting)===null||p===void 0?void 0:p["scope.userInfo"])===!1)return b={serialId:a,result:{error_code:H.UNAUTHORIZED,error_message:Y.NEED_USER_AUTH,data:{isMobile:bt==null||(g=bt.platform)===null||g===void 0?void 0:g.isMobile},action:e}},Mn(b),[2];L.label=2;case 2:return w=Ci(c),!(!(bt==null||(s=bt.platform)===null||s===void 0)&&s.isMobile)||!e||Ne.isUndefined(ZaloJavaScriptInterface)||bt.platform.isIOS&&!wg(e)||w&&w.isSupported===!1?(E={serialId:a,result:{error_code:H.CLIENT_NOT_SUPPORT,error_message:Y.CLIENT_NOT_SUPPORT,data:{isMobile:bt==null||(_=bt.platform)===null||_===void 0?void 0:_.isMobile},action:e}},Mn(E),[2]):(N=Si(t),f?[3,4]:[4,De.getJSAccessToken()]);case 3:return A=L.sent(),[3,5];case 4:A="",L.label=5;case 5:C=A,L.label=6;case 6:return L.trys.push([6,10,,11]),f||!h?[3,8]:[4,De.getAccessToken()];case 7:return T=L.sent(),[3,9];case 8:T="",L.label=9;case 9:return j=T,[3,11];case 10:return k=L.sent(),M={serialId:a,result:{error_code:k==null?void 0:k.code,error_message:k==null?void 0:k.message,action:e}},Mn(M),[2];case 11:try{t&&(t!=null&&t.onProgress)&&(Z=function(B){(function(ae,$){var W=ae.progress;$&&$(W)})(B,t==null?void 0:t.onProgress)},Zt[a].downloadListener=Z,Ar.on(He.DownloadProgress,Z))}catch(B){}return D=bt.platform.isIOS?window.onNativeMessage(a,c):'window.onNativeMessage("'.concat(a,'", "').concat(c,'")'),[2,ZaloJavaScriptInterface.jsCall(C,c,j,N,D)]}})}),function(e,t,n,r){return xc.apply(this,arguments)}),Wn={success:function(e,t){return{code:H.SUCCESS,message:t||Y.SUCCESS,data:e||{}}},error:{failLimit:function(){return new je(H.FAIL_LIMIT,Y.FAIL_LIMIT)},badRequest:function(e){return new je(H.BAD_REQUEST,e)},loginFailed:function(e){return new je(H.UNAUTHORIZED,"".concat(Y.LOGIN_FAILED,": ").concat(e))},loginRequired:function(){return new je(H.UNAUTHORIZED,Y.LOGIN_REQUIRED)},cannotGetShareInfo:function(){return new je(H.INTERNAL_SERVER_ERROR,"Can not get app info to share")},createIAPOrderFailed:function(e){var t=Object.keys(Bp).find(function(n){return n===e.toString()});return new je(e,t||Y.UNKNOWN_ERROR)},clientNotSupport:function(){return new je(H.CLIENT_NOT_SUPPORT,Y.CLIENT_NOT_SUPPORT)}}},yg=function(e){var t,n,r,s=(t=rn())===null||t===void 0?void 0:t.platformName,i=jg(e.action),a=pa[i],c=(a==null?void 0:a.skipJump)||!1,l=(a==null?void 0:a.errorList)||{};if(i==="JUMP_LOGIN")return new je(H.UNKNOWN_ERROR,"Can not get auth code: ".concat(e.error_message));if(De.jumpStatus!==ut.DONE&&!c)return new je(V.UNAUTHORIZED.code,V.UNAUTHORIZED.message);if(String(e.error_message).toLowerCase()==="permission required!"||String(e.error_message).toLowerCase()==="no permission!")return new je(V.FORBIDDEN.code,V.FORBIDDEN.message);if(s&&(!((n=qs[s])===null||n===void 0)&&n[e.error_code]))return new je(qs[s][e.error_code].code,qs[s][e.error_code].message);var u=l==null||(r=l[s])===null||r===void 0?void 0:r[String(e.error_code)];if(u){var d,f,h,m=(d=u.mapTo)===null||d===void 0?void 0:d.message;return u!=null&&u.needMoreDetail&&(m="".concat(u==null||(h=u.mapTo)===null||h===void 0?void 0:h.message,": ").concat(e.error_message)),new je((f=u.mapTo)===null||f===void 0?void 0:f.code,m)}return new je(e.error_code,e.error_message)},ya=function(e,t,n,r){var s=function(c,l){function u(d){return function(f){var h=Ne.isEmpty(l)?void 0:l[d];if(h)return Yt({stage:rr.RESPONSE,type:"log",state:d,name:c,response:f}),h(d==="fail"?yg(f):f==null?void 0:f.data)}}return Ne.isUndefined(c)&&(c=""),Object.assign({},{success:u("success"),fail:u("fail")})}(e,n),i=pa[e],a=(r==null?void 0:r.delay)||0;setTimeout(function(){lu(e,t,s,xa({},r,i))},a)},yc,_g=(yc=fe(function(e){return he(this,function(t){return[2,new Promise(function(n,r){ya("MP_USER_AUTHORIZE",{scopes:e,forceUpdate:!0},{success:function(s){Ne.isEmpty(s)||n(s)},fail:function(s){r(s)}},{isMultiCallback:!1,timeout:!1})})]})}),function(e){return yc.apply(this,arguments)}),bg=function(){function e(){ma(this,e),this._jumpStatus=void 0,this.WAITING_QUEUE=[],this.getAccessTokenCount=0,this._accessToken="",this._jsAccessToken="",this.refreshToken="",this._cookies=[],this.accessTokenExpiresIn=0,this.prevGetAccessTokenTimestamp=new Date().getTime(),this.manualSetAccessToken=!1,this._miniProgramConfig={},this.retryLimitMap={}}var t=e.prototype;return t.initRetryLimit=function(n){var r=su[n],s={lastCall:new Date().getTime(),limit:r&&r.limit?r.limit:3,retry:0};return this.retryLimitMap[n]=s,s},t.resetRetryLimit=function(n){this.retryLimitMap[n].lastCall=new Date().getTime(),this.retryLimitMap[n].retry=0},t.getRetryLimit=function(n){var r=this.retryLimitMap[n];return r&&r.lastCall&&r.retry||(r=this.initRetryLimit(n)),r},t.increaseRetryLimit=function(n){this.retryLimitMap[n].retry++},t.jump=function(){var n=this;return fe(function(){return he(this,function(r){return[2,new Promise(function(s,i){n._jumpStatus?n._jumpStatus===ut.DONE?s(ut.DONE):s(ut.DOING):(n._jumpStatus=ut.DOING,Yt({stage:rr.REQUEST,type:"log",name:"jump"}),lu("JUMP_LOGIN",{},{success:function(a){var c=a.data;n._miniProgramConfig=(c==null?void 0:c.miniProgramConfig)||{};var l=(c==null?void 0:c.cookiesOAuthLogins)||[],u=l.find(function(f){return f.name===mn.JS_TOKEN});u&&(n._jsAccessToken=u.value,window.ZJSBridge.setJSToken&&window.ZJSBridge.setJSToken(u.value)),n._cookies=l;var d=n._cookies.find(function(f){return f.name===mn.ZOAUTH});d!=null&&d.value||Pt([{action:"action.jump.login",error:-102,message:"no zoauth",data:{}}]),s(ut.DONE)},fail:function(a){Pt([{action:"action.jump.login",error:-101,message:a.message||"jump error",data:{}}]),i(a)}},{skipJump:!0}))})]})})()},t.loginZaloV3=function(n,r,s){var i=this;return fe(function(){var a;return he(this,function(c){switch(c.label){case 0:return a="".concat(sr.GET_ACCESS_TOKEN_V3,"?app_id=").concat(r,"&redirect_uri=").concat(Up,"/").concat(n,"/&code=").concat(s,"&isSDK=true"),[4,fetch(a).then((l=fe(function(u){var d,f,h;return he(this,function(m){switch(m.label){case 0:return[4,u.json()];case 1:return d=m.sent(),f=d==null?void 0:d.access_token,i._accessToken=f,h=1e3*parseInt(d.expires_in),i.accessTokenExpiresIn=h,i.prevGetAccessTokenTimestamp=new Date().getTime(),window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(i._accessToken||""),[2,f]}})}),function(u){return l.apply(this,arguments)}))];case 1:return[2,c.sent()]}var l})})()},t.loginZaloV4=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",i=this;return fe(function(){var a,c;return he(this,function(l){switch(l.label){case 0:return(a=new URLSearchParams).append("app_id",n),a.append("code",r),a.append("code_verifier",s),Ne.isNull(i.refreshToken)||i.refreshToken.length===0?a.append("grant_type","authorization_code"):(a.append("grant_type","refresh_token"),a.append("refresh_token",i.refreshToken||"")),c={headers:{"Content-Type":"application/x-www-form-urlencoded"}},[4,fetch(sr.GET_ACCESS_TOKEN,xa({method:"POST",body:a},c)).then((u=fe(function(d){var f,h,m,p;return he(this,function(v){switch(v.label){case 0:return[4,d.json()];case 1:return f=v.sent(),h=(f==null?void 0:f.access_token)||"",m=(f==null?void 0:f.refresh_token)||"",i.refreshToken=m,i._accessToken=h,p=1e3*parseInt(f==null?void 0:f.expires_in),i.accessTokenExpiresIn=p,i.prevGetAccessTokenTimestamp=new Date().getTime(),window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(h),[2,h]}})}),function(d){return u.apply(this,arguments)}))];case 1:return[2,l.sent()]}var u})})()},t.getAccessToken=function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=this;return fe(function(){var s,i,a,c,l,u,d,f,h;function m(){return p.apply(this,arguments)}function p(){return(p=fe(function(){return he(this,function(v){switch(v.label){case 0:return[4,new Promise(function(g){var b=setInterval(function(){(i.getAccessTokenCount<=1||i._accessToken)&&(g("done"),clearInterval(b))},200)})];case 1:return[2,v.sent()]}})})).apply(this,arguments)}return he(this,function(v){switch(v.label){case 0:return s=new Date().getTime()-r.prevGetAccessTokenTimestamp,(i=r).getAccessTokenCount++,r.getAccessTokenCount>1?[4,m()]:[3,2];case 1:v.sent(),v.label=2;case 2:return r.manualSetAccessToken?(i.getAccessTokenCount--,[2,Promise.resolve(r._accessToken)]):n?[4,r.verifyUserAuthorized()]:[3,4];case 3:return c=v.sent(),[3,5];case 4:c=!0,v.label=5;case 5:return a=c,r._accessToken.length>0&&s<r.accessTokenExpiresIn&&a?(i.getAccessTokenCount--,[2,Promise.resolve(r._accessToken)]):(r.accessToken="",[4,r.jumpAndGetToken(mn.ZOAUTH)]);case 6:return l=v.sent(),[4,r.jumpAndGetToken(mn.ZOAUTH_VRF)];case 7:if(u=v.sent(),d="zmp.getaccesstoken.fail",!a)throw i.getAccessTokenCount--,Pt([{action:d,error:-104,message:"no user auth",data:{}}]),Wn.error.loginFailed("User Authentication Required");if(!l)return[3,15];v.label=8;case 8:return v.trys.push([8,13,,14]),u?[4,r.loginZaloV4(qr,l,u)]:[3,10];case 9:return f=v.sent(),[3,12];case 10:return[4,r.loginZaloV3(qr,ru,l)];case 11:f=v.sent(),v.label=12;case 12:return[3,14];case 13:return h=v.sent(),f="",console.log("Can not get access token",h),Pt([{action:d,error:-103,message:String(h)||"Can not get access token",data:{}}]),[3,14];case 14:return i.getAccessTokenCount--,f?[2,Promise.resolve(r._accessToken)]:(Pt([{action:d,error:-101,message:"no accessToken",data:{}}]),[2,Promise.reject(Wn.error.loginFailed("Can't get accessToken. Please try again later."))]);case 15:throw i.getAccessTokenCount--,Pt([{action:d,error:-102,message:"no oauth",data:{}}]),Wn.error.loginFailed("Zalo app has not been activated")}})})()},t.verifyUserAuthorized=function(){var n=this;return fe(function(){var r,s,i,a,c,l;return he(this,function(u){switch(u.label){case 0:return s=!0,[4,n.jumpAndGetToken()];case 1:if(u.sent(),((r=n._miniProgramConfig)===null||r===void 0?void 0:r.userAuthorized)!==!1)return[3,7];u.label=2;case 2:return u.trys.push([2,6,,7]),(i=Ci("action.mp.user.authorize"))&&i.isSupported?[4,cu()]:[3,5];case 3:return((c=u.sent())==null||(a=c.authSetting)===null||a===void 0?void 0:a["scope.userInfo"])!==!1?[3,5]:[4,_g()];case 4:l=u.sent(),s=(l==null?void 0:l["scope.userInfo"])||!1,u.label=5;case 5:return[3,7];case 6:return u.sent(),s=!1,[3,7];case 7:return[2,s]}})})()},t.setAccessToken=function(n){this.manualSetAccessToken=!0,this._accessToken=n,window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(n)},t.getJSAccessToken=function(){var n=this;return fe(function(){var r;return he(this,function(s){switch(s.label){case 0:return n._jsAccessToken.length>0?[2,Promise.resolve(n._jsAccessToken)]:[4,n.jumpAndGetToken(mn.JS_TOKEN)];case 1:return r=s.sent(),[2,Promise.resolve(r)]}})})()},t.getSync=function(n){var r;return(r=this._cookies.find(function(s){return s.name===n}))===null||r===void 0?void 0:r.value},t.jumpAndGetToken=function(n){var r,s=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this;return new Promise((r=fe(function(a){var c,l,u,d;return he(this,function(f){switch(f.label){case 0:return!s&&i._cookies.length>0?Ne.isString(n)?(c=i._cookies.find(function(h){return h.name===n}),[2,a(c==null?void 0:c.value)]):[2,a("")]:(s&&i._jumpStatus===ut.DONE&&(i._jumpStatus=void 0),l={name:n,cb:function(h){return a(h)}},[4,i.jump()]);case 1:return(u=f.sent())===ut.DONE?(i._jumpStatus=u,i.WAITING_QUEUE.length&&(i.WAITING_QUEUE.forEach(function(h){var m=i._cookies.find(function(p){return p.name===h.name});h.cb(m==null?void 0:m.value)}),i.WAITING_QUEUE=[]),d=i._cookies.find(function(h){return h.name===l.name}),l.cb(d==null?void 0:d.value)):i.WAITING_QUEUE.push(l),[2]}})}),function(a){return r.apply(this,arguments)}))},e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},Qp(e,[{key:"jumpStatus",get:function(){return this._jumpStatus}},{key:"accessToken",set:function(n){this._accessToken=n,window.ZJSBridge.setZAccSession&&window.ZJSBridge.setZAccSession(n)}},{key:"miniProgramConfig",get:function(){return this._miniProgramConfig}}]),e}(),De=bg.getInstance(),Ys=va("zmp:utils:common"),Si=function(e){if(Ne.isObject(JSON)&&JSON.stringify)return JSON.stringify(e);if(e===void 0)return"undefined";if(e===null)return"null";try{if(typeof e=="string"||e.constructor.toString().match(/string/i)!==null)return'"'+e.replace(/"/g,'\\"')+'"'}catch(i){console.log(i)}var t;if(Object.prototype.toString.call(e).match(/array/i)!==null){t=[];for(var n=e.length,r=0;r<n;r++)t.push(Si(e[r]));return"["+t.join(",")+"]"}if(typeof e=="object"){for(var s in t=[],e)t.push('"'+s+'":'+Si(e[s]));return"{"+t.join(",")+"}"}return e.toString()},wg=function(e){var t=pa[e],n=ou(),r=t&&typeof t=="object"&&"versionLive"in t&&t.versionLive&&"iOS"in t.versionLive?t.versionLive.iOS:0;return!!(Array.isArray(window.ignoreCheckSupport)&&window.ignoreCheckSupport.length>0&&window.ignoreCheckSupport.includes(e))||n>=r},Ng=function(e){try{if(e){Ys(e);var t=e.replace(/\\/g,"").replace(/&#39;/g,"'");try{t=decodeURIComponent(atob(e))}catch(r){}var n=JSON.parse(t);return Ys("formattedValue",t,n,n===void 0?"undefined":Qr(n)),n}return null}catch(r){return Ys("parse json error:",r),e}},Eg=function(e){if(Ne.isObject(JSON)&&JSON.parse&&Ne.isString(e)){var t=e.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\x00/g,"");return JSON.parse(t,function(n,r){return r})}return Ne.isObject(e)?e:new Function("return "+e)()},Sg=function(e){for(var t=document.getElementsByTagName("meta"),n=0;n<t.length;n++)if(t[n].getAttribute("name")===e||t[n].getAttribute("property")===e)return t[n].getAttribute("content");return""};function Cg(e){return e.map(function(t,n){var r=t.path.length>0?t.path.map(function(s,i){return i>0?"[".concat(s,"]"):s}).join(""):"arg";return"Error ".concat(n+1,": Code: ").concat(t.code," ~ Path: ").concat(r," ~ Message: ").concat(t.message)}).join(" | ")}var _c,Ci=function(e){if(e!==void 0){var t=De.miniProgramConfig;return((t==null?void 0:t.dynamicApis)||[]).find(function(n){return n.action===e&&n.clientHandle===!1})}},Tg=function(e){if(e===void 0)return!1;var t=De.miniProgramConfig;return((t==null?void 0:t.requiredAuthenList)||[]).indexOf(e)>=0},uu=(_c=fe(function(){return he(this,function(e){return[2,new Promise(function(){var t=fe(function(n,r){var s;return he(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,De.jumpAndGetToken()];case 1:return i.sent(),s=De.miniProgramConfig,n((s==null?void 0:s.canUseAccessTokenByDefault)===!0),[3,3];case 2:return i.sent(),n(!1),[3,3];case 3:return[2]}})});return function(n,r){return t.apply(this,arguments)}}())]})}),function(){return _c.apply(this,arguments)}),jg=function(e){return e==="action.get.device_info"?"GET_DEVICE_INFO":e.replace("action.","").replace(/\./g,"_").toUpperCase()},Og=function(e){return e.startsWith("action.")?e:e==="GET_DEVICE_INFO"?"action.get.device_info":"action.".concat(e.replace(/\_/g,".").toLowerCase())},kg=function(e,t,n){var r;(r=e.contentWindow)===null||r===void 0||r.postMessage({type:t,payload:n},Wp)};function sn(e,t,n,r){var s,i;(function(d,f){if(su[d]){var h=De.getRetryLimit(d);h.lastCall&&new Date().getTime()-h.lastCall>1e3&&De.resetRetryLimit(d);var m=h.limit||3;if(h.retry&&h.retry>=m)throw Or(Wn.error.failLimit(),d);De.increaseRetryLimit(d)}})(e);var a=Array.isArray(n)&&n.length>0&&((s=n[0])===null||s===void 0?void 0:s.success),c=Array.isArray(n)&&n.length>0&&((i=n[0])===null||i===void 0?void 0:i.fail);try{var l=n;t.length>0&&t.forEach(function(d,f){var h=d.safeParse(n[f]);if(!h.success){var m,p=(m=h.error)===null||m===void 0?void 0:m.issues,v=Cg(p),g=Wn.error.badRequest(v);throw g.detail=p,Or(g,e)}l.push(h.data)});var u=r.apply(void 0,ga(l));return Ne.isPromise(u)?new Promise(function(d,f){u.then(function(h){if(!Ne.isNull(a)&&Ne.isFunction(a))return a(h);d(u)}).catch(function(h){var m=Or(h,e);if(!Ne.isNull(c)&&Ne.isFunction(c))return c(m);f(m)})}):u}catch(d){if(!Ne.isNull(c)&&Ne.isFunction(c))return c(d);throw Or(d,e)}}function Ag(){return sn("getVersion",[],[],function(){return iu})}var Xs,gt=((Xs=rn())===null||Xs===void 0?void 0:Xs.appEnv)||{},Nr=function(e,t){var n,r={error:-1404,errorMessage:"".concat(e," is not found")};t==null||(n=t.fail)===null||n===void 0||n.call(t,r),Yt({stage:rr.NOT_FOUND,type:"error",name:e,request:t,state:"fail",response:r})};function Ig(e){return du.apply(this,arguments)}function du(){return(du=fe(function(e){return he(this,function(t){return[2,sn("login",[],[e],fe(function(){return he(this,function(n){switch(n.label){case 0:return gt.isMp?[4,De.jumpAndGetToken(mn.ZOAUTH)]:[3,2];case 1:return n.sent(),[2,"Success"];case 2:return gt.isMpWeb?[2,Promise.resolve("")]:[2,Promise.reject(Nr("login",{}))]}})}))]})})).apply(this,arguments)}function Pg(e){return fu.apply(this,arguments)}function fu(){return(fu=fe(function(e){return he(this,function(t){return[2,sn("getAccessToken",[],[e],fe(function(){var n;return he(this,function(r){switch(r.label){case 0:return gt.isMp?[4,uu()]:[3,3];case 1:return n=!r.sent(),[4,De.getAccessToken(n)];case 2:return[2,r.sent()||""];case 3:return gt.isMpWeb?[2,Promise.resolve("")]:[2,Promise.reject(Nr("getAccessToken",{}))]}})}))]})})).apply(this,arguments)}function Rg(){var e;return{version:Sg("version-id")||"",apiVersion:iu,zaloVersion:String(ou()),platform:((e=rn())===null||e===void 0?void 0:e.platformName)||"",language:navigator.language,zaloLanguage:window.zLanguage||"vi",zaloTheme:window.zTheme||"light"}}function zg(){return sn("getSystemInfo",[],[],function(){return Rg()})}var pe;(function(e){e.assertEqual=t=>t,e.assertIs=function(t){},e.assertNever=function(t){throw new Error},e.arrayToEnum=t=>{const n={};for(const r of t)n[r]=r;return n},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter(s=>typeof t[t[s]]!="number"),r={};for(const s of n)r[s]=t[s];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(n){return t[n]}),e.objectKeys=typeof Object.keys=="function"?t=>Object.keys(t):t=>{const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(r);return n},e.find=(t,n)=>{for(const r of t)if(n(r))return r},e.isInteger=typeof Number.isInteger=="function"?t=>Number.isInteger(t):t=>typeof t=="number"&&isFinite(t)&&Math.floor(t)===t,e.joinValues=function(t,n=" | "){return t.map(r=>typeof r=="string"?`'${r}'`:r).join(n)},e.jsonStringifyReplacer=(t,n)=>typeof n=="bigint"?n.toString():n})(pe||(pe={}));const U=pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Rt=e=>{switch(typeof e){case"undefined":return U.undefined;case"string":return U.string;case"number":return isNaN(e)?U.nan:U.number;case"boolean":return U.boolean;case"function":return U.function;case"bigint":return U.bigint;case"symbol":return U.symbol;case"object":return Array.isArray(e)?U.array:e===null?U.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?U.promise:typeof Map!="undefined"&&e instanceof Map?U.map:typeof Set!="undefined"&&e instanceof Set?U.set:typeof Date!="undefined"&&e instanceof Date?U.date:U.object;default:return U.unknown}},R=pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Dg=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Nt extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let c=r,l=0;for(;l<a.path.length;){const u=a.path[l];l===a.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(n(a))):c[u]=c[u]||{_errors:[]},c=c[u],l++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Nt.create=e=>new Nt(e);const ar=(e,t)=>{let n;switch(e.code){case R.invalid_type:n=e.received===U.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case R.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,pe.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:n=`Unrecognized key(s) in object: ${pe.joinValues(e.keys,", ")}`;break;case R.invalid_union:n="Invalid input";break;case R.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${pe.joinValues(e.options)}`;break;case R.invalid_enum_value:n=`Invalid enum value. Expected ${pe.joinValues(e.options)}, received '${e.received}'`;break;case R.invalid_arguments:n="Invalid function arguments";break;case R.invalid_return_type:n="Invalid function return type";break;case R.invalid_date:n="Invalid date";break;case R.invalid_string:typeof e.validation=="object"?"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:pe.assertNever(e.validation):n=e.validation!=="regex"?`Invalid ${e.validation}`:"Invalid";break;case R.too_small:n=e.type==="array"?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(e.minimum)}`:"Invalid input";break;case R.too_big:n=e.type==="array"?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(e.maximum)}`:"Invalid input";break;case R.custom:n="Invalid input";break;case R.invalid_intersection_types:n="Intersection results could not be merged";break;case R.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case R.not_finite:n="Number must be finite";break;default:n=t.defaultError,pe.assertNever(e)}return{message:n}};let hu=ar;function Lg(e){hu=e}function Xr(){return hu}const es=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],a=G(O({},s),{path:i});let c="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)c=u(a,{data:t,defaultError:c}).message;return G(O({},s),{path:i,message:s.message||c})},$g=[];function F(e,t){const n=es({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Xr(),ar].filter(r=>!!r)});e.common.issues.push(n)}class Ve{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return X;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static mergeObjectAsync(t,n){return z(this,null,function*(){const r=[];for(const s of n)r.push({key:yield s.key,value:yield s.value});return Ve.mergeObjectSync(t,r)})}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return X;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),(a.value!==void 0||s.alwaysSet)&&(r[i.value]=a.value)}return{status:t.value,value:r}}}const X=Object.freeze({status:"aborted"}),mu=e=>({status:"dirty",value:e}),$e=e=>({status:"valid",value:e}),Ti=e=>e.status==="aborted",ji=e=>e.status==="dirty",ts=e=>e.status==="valid",ns=e=>typeof Promise!="undefined"&&e instanceof Promise;var ce;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ce||(ce={}));class vt{constructor(t,n,r,s){this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._path.concat(this._key)}}const bc=(e,t)=>{if(ts(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new Nt(e.common.issues)}};function re(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(i,a)=>i.code!=="invalid_type"?{message:a.defaultError}:a.data===void 0?{message:r!=null?r:a.defaultError}:{message:n!=null?n:a.defaultError},description:s}}class ie{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Rt(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Rt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ve,ctx:{common:t.parent.common,data:t.data,parsedType:Rt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(ns(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0&&r,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Rt(t)},i=this._parseSync({data:t,path:s.path,parent:s});return bc(s,i)}parseAsync(t,n){return z(this,null,function*(){const r=yield this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error})}safeParseAsync(t,n){return z(this,null,function*(){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Rt(t)},s=this._parse({data:t,path:r.path,parent:r}),i=yield ns(s)?s:Promise.resolve(s);return bc(r,i)})}refine(t,n){const r=s=>typeof n=="string"||n===void 0?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const a=t(s),c=()=>i.addIssue(O({code:R.custom},r(s)));return typeof Promise!="undefined"&&a instanceof Promise?a.then(l=>!!l||(c(),!1)):!!a||(c(),!1)})}refinement(t,n){return this._refinement((r,s)=>!!t(r)||(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new at({schema:this,typeName:Q.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return St.create(this,this._def)}nullable(){return tn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ot.create(this,this._def)}promise(){return En.create(this,this._def)}or(t){return dr.create([this,t],this._def)}and(t){return fr.create(this,t,this._def)}transform(t){return new at(G(O({},re(this._def)),{schema:this,typeName:Q.ZodEffects,effect:{type:"transform",transform:t}}))}default(t){const n=typeof t=="function"?t:()=>t;return new gr(G(O({},re(this._def)),{innerType:this,defaultValue:n,typeName:Q.ZodDefault}))}brand(){return new gu(O({typeName:Q.ZodBranded,type:this},re(this._def)))}catch(t){const n=typeof t=="function"?t:()=>t;return new os(G(O({},re(this._def)),{innerType:this,catchValue:n,typeName:Q.ZodCatch}))}describe(t){return new this.constructor(G(O({},this._def),{description:t}))}pipe(t){return Er.create(this,t)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Mg=/^c[^\s-]{8,}$/i,Ug=/^[a-z][a-z0-9]*$/,Vg=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Fg=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|([^-]([a-zA-Z0-9-]*\.)+[a-zA-Z]{2,}))$/;class Tt extends ie{constructor(){super(...arguments),this._regex=(t,n,r)=>this.refinement(s=>t.test(s),O({validation:n,code:R.invalid_string},ce.errToObj(r))),this.nonempty=t=>this.min(1,ce.errToObj(t)),this.trim=()=>new Tt(G(O({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==U.string){const i=this._getOrReturnCtx(t);return F(i,{code:R.invalid_type,expected:U.string,received:i.parsedType}),X}const n=new Ve;let r;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(r=this._getOrReturnCtx(t,r),F(r,{code:R.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(r=this._getOrReturnCtx(t,r),F(r,{code:R.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const a=t.data.length>i.value,c=t.data.length<i.value;(a||c)&&(r=this._getOrReturnCtx(t,r),a?F(r,{code:R.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):c&&F(r,{code:R.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Fg.test(t.data)||(r=this._getOrReturnCtx(t,r),F(r,{validation:"email",code:R.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Vg.test(t.data)||(r=this._getOrReturnCtx(t,r),F(r,{validation:"uuid",code:R.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Mg.test(t.data)||(r=this._getOrReturnCtx(t,r),F(r,{validation:"cuid",code:R.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Ug.test(t.data)||(r=this._getOrReturnCtx(t,r),F(r,{validation:"cuid2",code:R.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch(a){r=this._getOrReturnCtx(t,r),F(r,{validation:"url",code:R.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),F(r,{validation:"regex",code:R.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="startsWith"?t.data.startsWith(i.value)||(r=this._getOrReturnCtx(t,r),F(r,{code:R.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(r=this._getOrReturnCtx(t,r),F(r,{code:R.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?((s=i).precision?s.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${s.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${s.precision}}Z$`):s.precision===0?s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):s.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$")).test(t.data)||(r=this._getOrReturnCtx(t,r),F(r,{code:R.invalid_string,validation:"datetime",message:i.message}),n.dirty()):pe.assertNever(i);var s;return{status:n.value,value:t.data}}_addCheck(t){return new Tt(G(O({},this._def),{checks:[...this._def.checks,t]}))}email(t){return this._addCheck(O({kind:"email"},ce.errToObj(t)))}url(t){return this._addCheck(O({kind:"url"},ce.errToObj(t)))}uuid(t){return this._addCheck(O({kind:"uuid"},ce.errToObj(t)))}cuid(t){return this._addCheck(O({kind:"cuid"},ce.errToObj(t)))}cuid2(t){return this._addCheck(O({kind:"cuid2"},ce.errToObj(t)))}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck(O({kind:"datetime",precision:(t==null?void 0:t.precision)===void 0?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0&&n},ce.errToObj(t==null?void 0:t.message)))}regex(t,n){return this._addCheck(O({kind:"regex",regex:t},ce.errToObj(n)))}startsWith(t,n){return this._addCheck(O({kind:"startsWith",value:t},ce.errToObj(n)))}endsWith(t,n){return this._addCheck(O({kind:"endsWith",value:t},ce.errToObj(n)))}min(t,n){return this._addCheck(O({kind:"min",value:t},ce.errToObj(n)))}max(t,n){return this._addCheck(O({kind:"max",value:t},ce.errToObj(n)))}length(t,n){return this._addCheck(O({kind:"length",value:t},ce.errToObj(n)))}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}function Bg(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r;return parseInt(e.toFixed(s).replace(".",""))%parseInt(t.toFixed(s).replace(".",""))/Math.pow(10,s)}Tt.create=e=>{var t;return new Tt(O({checks:[],typeName:Q.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0&&t},re(e)))};class $t extends ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==U.number){const s=this._getOrReturnCtx(t);return F(s,{code:R.invalid_type,expected:U.number,received:s.parsedType}),X}let n;const r=new Ve;for(const s of this._def.checks)s.kind==="int"?pe.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),F(n,{code:R.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),F(n,{code:R.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),F(n,{code:R.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?Bg(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),F(n,{code:R.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),F(n,{code:R.not_finite,message:s.message}),r.dirty()):pe.assertNever(s);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ce.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ce.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ce.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ce.toString(n))}setLimit(t,n,r,s){return new $t(G(O({},this._def),{checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ce.toString(s)}]}))}_addCheck(t){return new $t(G(O({},this._def),{checks:[...this._def.checks,t]}))}int(t){return this._addCheck({kind:"int",message:ce.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ce.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ce.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ce.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ce.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ce.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ce.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&pe.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}$t.create=e=>new $t(O({checks:[],typeName:Q.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1},re(e)));class or extends ie{_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==U.bigint){const n=this._getOrReturnCtx(t);return F(n,{code:R.invalid_type,expected:U.bigint,received:n.parsedType}),X}return $e(t.data)}}or.create=e=>{var t;return new or(O({typeName:Q.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0&&t},re(e)))};class cr extends ie{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==U.boolean){const n=this._getOrReturnCtx(t);return F(n,{code:R.invalid_type,expected:U.boolean,received:n.parsedType}),X}return $e(t.data)}}cr.create=e=>new cr(O({typeName:Q.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1},re(e)));class Xt extends ie{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==U.date){const s=this._getOrReturnCtx(t);return F(s,{code:R.invalid_type,expected:U.date,received:s.parsedType}),X}if(isNaN(t.data.getTime()))return F(this._getOrReturnCtx(t),{code:R.invalid_date}),X;const n=new Ve;let r;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(r=this._getOrReturnCtx(t,r),F(r,{code:R.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(r=this._getOrReturnCtx(t,r),F(r,{code:R.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):pe.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Xt(G(O({},this._def),{checks:[...this._def.checks,t]}))}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ce.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ce.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Xt.create=e=>new Xt(O({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Q.ZodDate},re(e)));class rs extends ie{_parse(t){if(this._getType(t)!==U.symbol){const n=this._getOrReturnCtx(t);return F(n,{code:R.invalid_type,expected:U.symbol,received:n.parsedType}),X}return $e(t.data)}}rs.create=e=>new rs(O({typeName:Q.ZodSymbol},re(e)));class lr extends ie{_parse(t){if(this._getType(t)!==U.undefined){const n=this._getOrReturnCtx(t);return F(n,{code:R.invalid_type,expected:U.undefined,received:n.parsedType}),X}return $e(t.data)}}lr.create=e=>new lr(O({typeName:Q.ZodUndefined},re(e)));class ur extends ie{_parse(t){if(this._getType(t)!==U.null){const n=this._getOrReturnCtx(t);return F(n,{code:R.invalid_type,expected:U.null,received:n.parsedType}),X}return $e(t.data)}}ur.create=e=>new ur(O({typeName:Q.ZodNull},re(e)));class Nn extends ie{constructor(){super(...arguments),this._any=!0}_parse(t){return $e(t.data)}}Nn.create=e=>new Nn(O({typeName:Q.ZodAny},re(e)));class Jt extends ie{constructor(){super(...arguments),this._unknown=!0}_parse(t){return $e(t.data)}}Jt.create=e=>new Jt(O({typeName:Q.ZodUnknown},re(e)));class Et extends ie{_parse(t){const n=this._getOrReturnCtx(t);return F(n,{code:R.invalid_type,expected:U.never,received:n.parsedType}),X}}Et.create=e=>new Et(O({typeName:Q.ZodNever},re(e)));class ss extends ie{_parse(t){if(this._getType(t)!==U.undefined){const n=this._getOrReturnCtx(t);return F(n,{code:R.invalid_type,expected:U.void,received:n.parsedType}),X}return $e(t.data)}}ss.create=e=>new ss(O({typeName:Q.ZodVoid},re(e)));class ot extends ie{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==U.array)return F(n,{code:R.invalid_type,expected:U.array,received:n.parsedType}),X;if(s.exactLength!==null){const a=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(a||c)&&(F(n,{code:a?R.too_big:R.too_small,minimum:c?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(F(n,{code:R.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(F(n,{code:R.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,c)=>s.type._parseAsync(new vt(n,a,n.path,c)))).then(a=>Ve.mergeArray(r,a));const i=[...n.data].map((a,c)=>s.type._parseSync(new vt(n,a,n.path,c)));return Ve.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new ot(G(O({},this._def),{minLength:{value:t,message:ce.toString(n)}}))}max(t,n){return new ot(G(O({},this._def),{maxLength:{value:t,message:ce.toString(n)}}))}length(t,n){return new ot(G(O({},this._def),{exactLength:{value:t,message:ce.toString(n)}}))}nonempty(t){return this.min(1,t)}}var is;function pn(e){if(e instanceof we){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=St.create(pn(r))}return new we(G(O({},e._def),{shape:()=>t}))}return e instanceof ot?ot.create(pn(e.element)):e instanceof St?St.create(pn(e.unwrap())):e instanceof tn?tn.create(pn(e.unwrap())):e instanceof xt?xt.create(e.items.map(t=>pn(t))):e}ot.create=(e,t)=>new ot(O({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Q.ZodArray},re(t))),function(e){e.mergeShapes=(t,n)=>O(O({},t),n)}(is||(is={}));class we extends ie{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=pe.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==U.object){const l=this._getOrReturnCtx(t);return F(l,{code:R.invalid_type,expected:U.object,received:l.parsedType}),X}const{status:n,ctx:r}=this._processInputParams(t),{shape:s,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof Et&&this._def.unknownKeys==="strip"))for(const l in r.data)i.includes(l)||a.push(l);const c=[];for(const l of i){const u=s[l],d=r.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new vt(r,d,r.path,l)),alwaysSet:l in r.data})}if(this._def.catchall instanceof Et){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(l==="strict")a.length>0&&(F(r,{code:R.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=r.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new vt(r,d,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(()=>z(this,null,function*(){const l=[];for(const u of c){const d=yield u.key;l.push({key:d,value:yield u.value,alwaysSet:u.alwaysSet})}return l})).then(l=>Ve.mergeObjectSync(n,l)):Ve.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return new we(O(G(O({},this._def),{unknownKeys:"strict"}),t!==void 0?{errorMap:(n,r)=>{var s,i,a,c;const l=(a=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=ce.errToObj(t).message)!==null&&c!==void 0?c:l}:{message:l}}}:{}))}strip(){return new we(G(O({},this._def),{unknownKeys:"strip"}))}passthrough(){return new we(G(O({},this._def),{unknownKeys:"passthrough"}))}extend(t){return new we(G(O({},this._def),{shape:()=>O(O({},this._def.shape()),t)}))}merge(t){return new we({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>is.mergeShapes(this._def.shape(),t._def.shape()),typeName:Q.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new we(G(O({},this._def),{catchall:t}))}pick(t){const n={};return pe.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new we(G(O({},this._def),{shape:()=>n}))}omit(t){const n={};return pe.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new we(G(O({},this._def),{shape:()=>n}))}deepPartial(){return pn(this)}partial(t){const n={};return pe.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new we(G(O({},this._def),{shape:()=>n}))}required(t){const n={};return pe.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof St;)s=s._def.innerType;n[r]=s}}),new we(G(O({},this._def),{shape:()=>n}))}keyof(){return pu(pe.objectKeys(this.shape))}}we.create=(e,t)=>new we(O({shape:()=>e,unknownKeys:"strip",catchall:Et.create(),typeName:Q.ZodObject},re(t))),we.strictCreate=(e,t)=>new we(O({shape:()=>e,unknownKeys:"strict",catchall:Et.create(),typeName:Q.ZodObject},re(t))),we.lazycreate=(e,t)=>new we(O({shape:e,unknownKeys:"strip",catchall:Et.create(),typeName:Q.ZodObject},re(t)));class dr extends ie{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;if(n.common.async)return Promise.all(r.map(s=>z(this,null,function*(){const i=G(O({},n),{common:G(O({},n.common),{issues:[]}),parent:null});return{result:yield s._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}}))).then(function(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const i=s.map(a=>new Nt(a.ctx.common.issues));return F(n,{code:R.invalid_union,unionErrors:i}),X});{let s;const i=[];for(const c of r){const l=G(O({},n),{common:G(O({},n.common),{issues:[]}),parent:null}),u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status!=="dirty"||s||(s={result:u,ctx:l}),l.common.issues.length&&i.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=i.map(c=>new Nt(c));return F(n,{code:R.invalid_union,unionErrors:a}),X}}get options(){return this._def.options}}dr.create=(e,t)=>new dr(O({options:e,typeName:Q.ZodUnion},re(t)));const Dr=e=>e instanceof hr?Dr(e.schema):e instanceof at?Dr(e.innerType()):e instanceof mr?[e.value]:e instanceof Mt?e.options:e instanceof pr?Object.keys(e.enum):e instanceof gr?Dr(e._def.innerType):e instanceof lr?[void 0]:e instanceof ur?[null]:null;class Ls extends ie{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==U.object)return F(n,{code:R.invalid_type,expected:U.object,received:n.parsedType}),X;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(F(n,{code:R.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),X)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const i of n){const a=Dr(i.shape[t]);if(!a)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of a){if(s.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);s.set(c,i)}}return new Ls(O({typeName:Q.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s},re(r)))}}function Oi(e,t){const n=Rt(e),r=Rt(t);if(e===t)return{valid:!0,data:e};if(n===U.object&&r===U.object){const s=pe.objectKeys(t),i=pe.objectKeys(e).filter(c=>s.indexOf(c)!==-1),a=O(O({},e),t);for(const c of i){const l=Oi(e[c],t[c]);if(!l.valid)return{valid:!1};a[c]=l.data}return{valid:!0,data:a}}if(n===U.array&&r===U.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const a=Oi(e[i],t[i]);if(!a.valid)return{valid:!1};s.push(a.data)}return{valid:!0,data:s}}return n===U.date&&r===U.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class fr extends ie{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,a)=>{if(Ti(i)||Ti(a))return X;const c=Oi(i.value,a.value);return c.valid?((ji(i)||ji(a))&&n.dirty(),{status:n.value,value:c.data}):(F(r,{code:R.invalid_intersection_types}),X)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}fr.create=(e,t,n)=>new fr(O({left:e,right:t,typeName:Q.ZodIntersection},re(n)));class xt extends ie{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==U.array)return F(r,{code:R.invalid_type,expected:U.array,received:r.parsedType}),X;if(r.data.length<this._def.items.length)return F(r,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X;!this._def.rest&&r.data.length>this._def.items.length&&(F(r,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((i,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new vt(r,i,r.path,a)):null}).filter(i=>!!i);return r.common.async?Promise.all(s).then(i=>Ve.mergeArray(n,i)):Ve.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new xt(G(O({},this._def),{rest:t}))}}xt.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xt(O({items:e,typeName:Q.ZodTuple,rest:null},re(t)))};class $s extends ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==U.object)return F(r,{code:R.invalid_type,expected:U.object,received:r.parsedType}),X;const s=[],i=this._def.keyType,a=this._def.valueType;for(const c in r.data)s.push({key:i._parse(new vt(r,c,r.path,c)),value:a._parse(new vt(r,r.data[c],r.path,c))});return r.common.async?Ve.mergeObjectAsync(n,s):Ve.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return new $s(n instanceof ie?O({keyType:t,valueType:n,typeName:Q.ZodRecord},re(r)):O({keyType:Tt.create(),valueType:t,typeName:Q.ZodRecord},re(n)))}}class as extends ie{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==U.map)return F(r,{code:R.invalid_type,expected:U.map,received:r.parsedType}),X;const s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([c,l],u)=>({key:s._parse(new vt(r,c,r.path,[u,"key"])),value:i._parse(new vt(r,l,r.path,[u,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(()=>z(this,null,function*(){for(const l of a){const u=yield l.key,d=yield l.value;if(u.status==="aborted"||d.status==="aborted")return X;u.status!=="dirty"&&d.status!=="dirty"||n.dirty(),c.set(u.value,d.value)}return{status:n.value,value:c}}))}{const c=new Map;for(const l of a){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return X;u.status!=="dirty"&&d.status!=="dirty"||n.dirty(),c.set(u.value,d.value)}return{status:n.value,value:c}}}}as.create=(e,t,n)=>new as(O({valueType:t,keyType:e,typeName:Q.ZodMap},re(n)));class en extends ie{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==U.set)return F(r,{code:R.invalid_type,expected:U.set,received:r.parsedType}),X;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(F(r,{code:R.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(F(r,{code:R.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function a(l){const u=new Set;for(const d of l){if(d.status==="aborted")return X;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const c=[...r.data.values()].map((l,u)=>i._parse(new vt(r,l,r.path,u)));return r.common.async?Promise.all(c).then(l=>a(l)):a(c)}min(t,n){return new en(G(O({},this._def),{minSize:{value:t,message:ce.toString(n)}}))}max(t,n){return new en(G(O({},this._def),{maxSize:{value:t,message:ce.toString(n)}}))}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}en.create=(e,t)=>new en(O({valueType:e,minSize:null,maxSize:null,typeName:Q.ZodSet},re(t)));class yn extends ie{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==U.function)return F(n,{code:R.invalid_type,expected:U.function,received:n.parsedType}),X;function r(c,l){return es({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xr(),ar].filter(u=>!!u),issueData:{code:R.invalid_arguments,argumentsError:l}})}function s(c,l){return es({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xr(),ar].filter(u=>!!u),issueData:{code:R.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;return this._def.returns instanceof En?$e((...c)=>z(this,null,function*(){const l=new Nt([]),u=yield this._def.args.parseAsync(c,i).catch(f=>{throw l.addIssue(r(c,f)),l}),d=yield a(...u);return yield this._def.returns._def.type.parseAsync(d,i).catch(f=>{throw l.addIssue(s(d,f)),l})})):$e((...c)=>{const l=this._def.args.safeParse(c,i);if(!l.success)throw new Nt([r(c,l.error)]);const u=a(...l.data),d=this._def.returns.safeParse(u,i);if(!d.success)throw new Nt([s(u,d.error)]);return d.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new yn(G(O({},this._def),{args:xt.create(t).rest(Jt.create())}))}returns(t){return new yn(G(O({},this._def),{returns:t}))}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new yn(O({args:t||xt.create([]).rest(Jt.create()),returns:n||Jt.create(),typeName:Q.ZodFunction},re(r)))}}class hr extends ie{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}hr.create=(e,t)=>new hr(O({getter:e,typeName:Q.ZodLazy},re(t)));class mr extends ie{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return F(n,{received:n.data,code:R.invalid_literal,expected:this._def.value}),X}return{status:"valid",value:t.data}}get value(){return this._def.value}}function pu(e,t){return new Mt(O({values:e,typeName:Q.ZodEnum},re(t)))}mr.create=(e,t)=>new mr(O({value:e,typeName:Q.ZodLiteral},re(t)));class Mt extends ie{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return F(n,{expected:pe.joinValues(r),received:n.parsedType,code:R.invalid_type}),X}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return F(n,{received:n.data,code:R.invalid_enum_value,options:r}),X}return $e(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return Mt.create(t)}exclude(t){return Mt.create(this.options.filter(n=>!t.includes(n)))}}Mt.create=pu;class pr extends ie{_parse(t){const n=pe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==U.string&&r.parsedType!==U.number){const s=pe.objectValues(n);return F(r,{expected:pe.joinValues(s),received:r.parsedType,code:R.invalid_type}),X}if(n.indexOf(t.data)===-1){const s=pe.objectValues(n);return F(r,{received:r.data,code:R.invalid_enum_value,options:s}),X}return $e(t.data)}get enum(){return this._def.values}}pr.create=(e,t)=>new pr(O({values:e,typeName:Q.ZodNativeEnum},re(t)));class En extends ie{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==U.promise&&n.common.async===!1)return F(n,{code:R.invalid_type,expected:U.promise,received:n.parsedType}),X;const r=n.parsedType===U.promise?n.data:Promise.resolve(n.data);return $e(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}En.create=(e,t)=>new En(O({type:e,typeName:Q.ZodPromise},re(t)));class at extends ie{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null;if(s.type==="preprocess"){const a=s.transform(r.data);return r.common.async?Promise.resolve(a).then(c=>this._def.schema._parseAsync({data:c,path:r.path,parent:r})):this._def.schema._parseSync({data:a,path:r.path,parent:r})}const i={addIssue:a=>{F(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="refinement"){const a=c=>{const l=s.refinement(c,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?X:(c.status==="dirty"&&n.dirty(),a(c.value),{status:n.value,value:c.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?X:(c.status==="dirty"&&n.dirty(),a(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform"){if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ts(a))return a;const c=s.transform(a.value,i);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>ts(a)?Promise.resolve(s.transform(a.value,i)).then(c=>({status:n.value,value:c})):a)}pe.assertNever(s)}}at.create=(e,t,n)=>new at(O({schema:e,typeName:Q.ZodEffects,effect:t},re(n))),at.createWithPreprocess=(e,t,n)=>new at(O({schema:t,effect:{type:"preprocess",transform:e},typeName:Q.ZodEffects},re(n)));class St extends ie{_parse(t){return this._getType(t)===U.undefined?$e(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}St.create=(e,t)=>new St(O({innerType:e,typeName:Q.ZodOptional},re(t)));class tn extends ie{_parse(t){return this._getType(t)===U.null?$e(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}tn.create=(e,t)=>new tn(O({innerType:e,typeName:Q.ZodNullable},re(t)));class gr extends ie{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===U.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}gr.create=(e,t)=>new gr(O({innerType:e,typeName:Q.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default},re(t)));class os extends ie{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.innerType._parse({data:n.data,path:n.path,parent:G(O({},n),{common:G(O({},n.common),{issues:[]})})});return ns(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue()})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue()}}removeCatch(){return this._def.innerType}}os.create=(e,t)=>new os(O({innerType:e,typeName:Q.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch},re(t)));class cs extends ie{_parse(t){if(this._getType(t)!==U.nan){const n=this._getOrReturnCtx(t);return F(n,{code:R.invalid_type,expected:U.nan,received:n.parsedType}),X}return{status:"valid",value:t.data}}}cs.create=e=>new cs(O({typeName:Q.ZodNaN},re(e)));const Zg=Symbol("zod_brand");class gu extends ie{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Er extends ie{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return z(this,null,function*(){const s=yield this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?X:s.status==="dirty"?(n.dirty(),mu(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})});{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?X:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new Er({in:t,out:n,typeName:Q.ZodPipeline})}}const vu=(e,t={},n)=>e?Nn.create().superRefine((r,s)=>{if(!e(r)){const i=typeof t=="function"?t(r):t,a=typeof i=="string"?{message:i}:i;s.addIssue(G(O({code:"custom"},a),{fatal:n}))}}):Nn.create(),Wg={object:we.lazycreate};var Q;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"})(Q||(Q={}));const Gg=(e,t={message:`Input not instance of ${e.name}`})=>vu(n=>n instanceof e,t,!0),_a=Tt.create,xu=$t.create,Kg=cs.create,Hg=or.create,yu=cr.create,Jg=Xt.create,qg=rs.create,Qg=lr.create,Yg=ur.create,Xg=Nn.create,ev=Jt.create,tv=Et.create,nv=ss.create,rv=ot.create,ba=we.create,sv=we.strictCreate,iv=dr.create,av=Ls.create,ov=fr.create,cv=xt.create,lv=$s.create,uv=as.create,dv=en.create,fv=yn.create,hv=hr.create,mv=mr.create,pv=Mt.create,gv=pr.create,vv=En.create,wc=at.create,xv=St.create,yv=tn.create,_v=at.createWithPreprocess,bv=Er.create,wv=()=>_a().optional(),Nv=()=>xu().optional(),Ev=()=>yu().optional(),Sv={string:e=>Tt.create(G(O({},e),{coerce:!0})),number:e=>$t.create(G(O({},e),{coerce:!0})),boolean:e=>cr.create(G(O({},e),{coerce:!0})),bigint:e=>or.create(G(O({},e),{coerce:!0})),date:e=>Xt.create(G(O({},e),{coerce:!0}))},Cv=X;var ki=Object.freeze({__proto__:null,defaultErrorMap:ar,setErrorMap:Lg,getErrorMap:Xr,makeIssue:es,EMPTY_PATH:$g,addIssueToContext:F,ParseStatus:Ve,INVALID:X,DIRTY:mu,OK:$e,isAborted:Ti,isDirty:ji,isValid:ts,isAsync:ns,get util(){return pe},ZodParsedType:U,getParsedType:Rt,ZodType:ie,ZodString:Tt,ZodNumber:$t,ZodBigInt:or,ZodBoolean:cr,ZodDate:Xt,ZodSymbol:rs,ZodUndefined:lr,ZodNull:ur,ZodAny:Nn,ZodUnknown:Jt,ZodNever:Et,ZodVoid:ss,ZodArray:ot,get objectUtil(){return is},ZodObject:we,ZodUnion:dr,ZodDiscriminatedUnion:Ls,ZodIntersection:fr,ZodTuple:xt,ZodRecord:$s,ZodMap:as,ZodSet:en,ZodFunction:yn,ZodLazy:hr,ZodLiteral:mr,ZodEnum:Mt,ZodNativeEnum:pr,ZodPromise:En,ZodEffects:at,ZodTransformer:at,ZodOptional:St,ZodNullable:tn,ZodDefault:gr,ZodCatch:os,ZodNaN:cs,BRAND:Zg,ZodBranded:gu,ZodPipeline:Er,custom:vu,Schema:ie,ZodSchema:ie,late:Wg,get ZodFirstPartyTypeKind(){return Q},coerce:Sv,any:Xg,array:rv,bigint:Hg,boolean:yu,date:Jg,discriminatedUnion:av,effect:wc,enum:pv,function:fv,instanceof:Gg,intersection:ov,lazy:hv,literal:mv,map:uv,nan:Kg,nativeEnum:gv,never:tv,null:Yg,nullable:yv,number:xu,object:ba,oboolean:Ev,onumber:Nv,optional:xv,ostring:wv,pipeline:bv,preprocess:_v,promise:vv,record:lv,set:dv,strictObject:sv,string:_a,symbol:qg,transformer:wc,tuple:cv,undefined:Qg,union:iv,unknown:ev,void:nv,NEVER:Cv,ZodIssueCode:R,quotelessJson:Dg,ZodError:Nt}),Nc,Tv=(Nc=fe(function(e,t){var n,r,s,i;return he(this,function(a){switch(a.label){case 0:return(r=t)?[3,2]:[4,uu()];case 1:r=!a.sent(),a.label=2;case 2:return n=r,[4,De.getAccessToken(n)];case 3:return s=a.sent(),i="id,name,user_id_by_oa,is_sensitive",i=e?"".concat(i,",picture.type(").concat(e,")"):"".concat(i,",picture"),[4,fetch("".concat(sr.GET_USER_INFO,"?fields=").concat(i,"&miniapp_id=").concat(qr),{headers:{access_token:s||""}}).then(function(){var c=fe(function(l){var u,d,f,h,m,p;return he(this,function(v){switch(v.label){case 0:return[4,l.json()];case 1:if(f=v.sent(),(h=f==null?void 0:f.error)!==void 0&&h!==0)throw m=(f==null?void 0:f.message)||Y.UNKNOWN_ERROR,new je(h,m);return p=f==null?void 0:f.user_id_by_oa,[2,{id:f==null?void 0:f.id,name:(f==null?void 0:f.name)||"",avatar:(f==null||(u=f.picture)===null||u===void 0||(d=u.data)===null||d===void 0?void 0:d.url)||"",idByOA:p,followedOA:!!(f!=null&&f.is_follower),isSensitive:f==null?void 0:f.is_sensitive}]}})});return function(l){return c.apply(this,arguments)}}())];case 4:return[2,a.sent()]}})}),function(e,t){return Nc.apply(this,arguments)}),jv=[ba({avatarType:ki.enum(["small","normal","large"]).optional(),autoRequestPermission:ki.boolean().default(!1).optional()}).optional()];function Ov(e){return Ai.apply(this,arguments)}function Ai(){return Ai=fe(function(e){return he(this,function(t){return[2,sn("getUserInfo",jv,[e],(n=fe(function(r){var s,i,a;return he(this,function(c){switch(c.label){case 0:if(!gt.isMp)return[3,4];s=r==null?void 0:r.avatarType,i=r==null?void 0:r.autoRequestPermission,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Tv(s,i)];case 2:return[2,{userInfo:c.sent()}];case 3:return a=c.sent(),[2,Promise.reject(a)];case 4:return gt.isMpWeb?[2,Promise.resolve({userInfo:{id:"3368637342326461234",name:"User Name",avatar:"https://h5.zdn.vn/static/images/avatar.png"}})]:[2,Promise.reject(Nr("getUserInfo",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Ai.apply(this,arguments)}var Ec,kv=(Ec=fe(function(e){return he(this,function(t){return[2,new Promise(function(n,r){ya("FOLLOW_OA",{uid:e,showDialogConfirm:!0,forceUpdate:!0,zapp:ru},{success:function(s){n(s)},fail:function(s){r(s)}},{timeout:!1})})]})}),function(e){return Ec.apply(this,arguments)}),Av=[ba({id:_a(),showDialogConfirm:ki.boolean().optional()}).optional()];function Iv(e){return Ii.apply(this,arguments)}function Ii(){return Ii=fe(function(e){return he(this,function(t){return[2,sn("followOA",Av,[e],(n=fe(function(r){var s;return he(this,function(i){switch(i.label){case 0:return gt.isMp?(s=r.id,[4,kv(s)]):[3,2];case 1:return[2,i.sent()];case 2:return gt.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(Nr("followOA",{}))]}})}),function(r){return n.apply(this,arguments)}))];var n})}),Ii.apply(this,arguments)}var Pv=fe(function(){var e;return he(this,function(t){switch(t.label){case 0:return[4,De.getAccessToken()];case 1:return e=t.sent(),[2,new Promise(function(n,r){ya("MP_SEND_NOTIFICATION",{accessToken:e},{success:function(s){n(s)},fail:function(s){r(s)}},{delay:500})})]}})});function Rv(e){return _u.apply(this,arguments)}function _u(){return(_u=fe(function(e){return he(this,function(t){return[2,sn("requestSendNotification",[],[e],fe(function(){return he(this,function(n){switch(n.label){case 0:return gt.isMp?[4,Pv()]:[3,2];case 1:return[2,n.sent()];case 2:return gt.isMpWeb?[2,Promise.resolve()]:[2,Promise.reject(Nr("requestSendNotification",{}))]}})}))]})})).apply(this,arguments)}window.ZaloMiniAppSDK={getVersion:Ag},Ig();class zv{getAccessToken(){return z(this,null,function*(){try{return(yield Pg({})).accessToken||""}catch(t){return console.error("ZaloSDKAdapter: getAccessToken failed",t),""}})}getUserInfo(){return z(this,null,function*(){try{const n=(yield Ov({})).userInfo;return{id:n.id,name:n.name,avatar:n.avatar||""}}catch(t){throw console.error("ZaloSDKAdapter: getUserInfo failed",t),new Error("Failed to get user info from Zalo")}})}getTheme(){try{return zg().zaloTheme||"light"}catch(t){return console.warn("ZaloSDKAdapter: getTheme failed",t),"light"}}followOA(t){return z(this,null,function*(){try{yield Iv({id:t||""})}catch(n){throw console.error("ZaloSDKAdapter: followOA failed",n),new Error("Failed to follow OA")}})}requestSendNotification(t){return z(this,null,function*(){try{yield Rv(t)}catch(n){throw console.error("ZaloSDKAdapter: requestSendNotification failed",n),new Error("Failed to request notification permission")}})}}let zn=null;const Dv=()=>zn||(nu()==="zalo"?(console.log("Using ZaloSDKAdapter"),zn=new zv):(console.log("Using WebAdapter"),zn=new Dp),zn),nn=Dv(),Lv=({theme:e="light",children:t})=>ha()?o.jsx("div",{className:`app-container theme-${e}`,style:{minHeight:"100vh",background:e==="dark"?"#000":"#fff"},children:t}):o.jsx(Hu,{theme:e,children:t}),bu=x.createContext(void 0);function $v({children:e}){const[t,n]=x.useState("dashboard"),[r,s]=x.useState(null),[i,a]=x.useState({}),c=(u,d)=>{s(t),n(u),d&&a(d)},l=()=>{r&&(n(r),s(null),a({}))};return o.jsx(bu.Provider,{value:{currentPage:t,navigateTo:c,navigate:c,params:i,goBack:l,previousPage:r},children:e})}function Fe(){const e=x.useContext(bu);if(!e)throw new Error("useAppNavigation must be used within AppProvider");return e}function Mv(){const{currentPage:e,navigateTo:t}=Fe(),[n,r]=x.useState("dashboard");return x.useEffect(()=>{e&&r(e)},[e]),o.jsxs(hn,{fixed:!0,activeKey:n,onChange:s=>t(s),children:[o.jsx(hn.Item,{label:"Dashboard",icon:o.jsx(q,{icon:"zi-home"}),activeIcon:o.jsx(q,{icon:"zi-home"})},"dashboard"),o.jsx(hn.Item,{label:"Äiá»ƒm Danh",icon:o.jsx(q,{icon:"zi-group"}),activeIcon:o.jsx(q,{icon:"zi-group-solid"})},"quick-attendance"),o.jsx(hn.Item,{label:"Sá»• Äiá»ƒm",icon:o.jsx(q,{icon:"zi-edit-text"}),activeIcon:o.jsx(q,{icon:"zi-edit-text-solid"})},"grades-input"),o.jsx(hn.Item,{label:"ThÃ´ng BÃ¡o",icon:o.jsx(q,{icon:"zi-chat"}),activeIcon:o.jsx(q,{icon:"zi-chat-solid"})},"broadcast-message")]})}const Sn={};function wu(e){return"init"in e}function Pi(e){return!!e.write}function Sc(e){return"v"in e||"e"in e}function ls(e){if("e"in e)throw e.e;if((Sn?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v}const us=new WeakMap;function Nu(e){var t;return ds(e)&&!!((t=us.get(e))!=null&&t[0])}function Uv(e){const t=us.get(e);t!=null&&t[0]&&(t[0]=!1,t[1].forEach(n=>n()))}function Ri(e,t){let n=us.get(e);if(!n){n=[!0,new Set],us.set(e,n);const r=()=>{n[0]=!1};e.then(r,r)}n[1].add(t)}function ds(e){return typeof(e==null?void 0:e.then)=="function"}function Eu(e,t,n){if(!n.p.has(e)){n.p.add(e);const r=()=>n.p.delete(e);t.then(r,r)}}function Su(e,t,n){var r;const s=new Set;for(const i of((r=n.get(e))==null?void 0:r.t)||[])n.has(i)&&s.add(i);for(const i of t.p)s.add(i);return s}const Vv=(e,t,...n)=>t.read(...n),Fv=(e,t,...n)=>t.write(...n),Bv=(e,t)=>{var n;return(n=t.unstable_onInit)==null?void 0:n.call(t,e)},Zv=(e,t,n)=>{var r;return(r=t.onMount)==null?void 0:r.call(t,n)},Wv=(e,t)=>{const n=Le(e),r=n[0],s=n[9];if((Sn?"production":void 0)!=="production"&&!t)throw new Error("Atom is undefined or null");let i=r.get(t);return i||(i={d:new Map,p:new Set,n:0},r.set(t,i),s==null||s(e,t)),i},Gv=e=>{const t=Le(e),n=t[1],r=t[3],s=t[4],i=t[5],a=t[6],c=t[13],l=[],u=d=>{try{d()}catch(f){l.push(f)}};do{a.f&&u(a.f);const d=new Set,f=d.add.bind(d);r.forEach(h=>{var m;return(m=n.get(h))==null?void 0:m.l.forEach(f)}),r.clear(),i.forEach(f),i.clear(),s.forEach(f),s.clear(),d.forEach(u),r.size&&c(e)}while(r.size||i.size||s.size);if(l.length)throw new AggregateError(l)},Kv=e=>{const t=Le(e),n=t[1],r=t[2],s=t[3],i=t[11],a=t[14],c=t[17],l=[],u=new WeakSet,d=new WeakSet,f=Array.from(s);for(;f.length;){const h=f[f.length-1],m=i(e,h);if(d.has(h)){f.pop();continue}if(u.has(h)){if(r.get(h)===m.n)l.push([h,m]);else if((Sn?"production":void 0)!=="production"&&r.has(h))throw new Error("[Bug] invalidated atom exists");d.add(h),f.pop();continue}u.add(h);for(const p of Su(h,m,n))u.has(p)||f.push(p)}for(let h=l.length-1;h>=0;--h){const[m,p]=l[h];let v=!1;for(const g of p.d.keys())if(g!==m&&s.has(g)){v=!0;break}v&&(a(e,m),c(e,m)),r.delete(m)}},Hv=(e,t)=>{var n,r;const s=Le(e),i=s[1],a=s[2],c=s[3],l=s[6],u=s[7],d=s[11],f=s[12],h=s[13],m=s[14],p=s[16],v=s[17],g=d(e,t);if(Sc(g)&&(i.has(t)&&a.get(t)!==g.n||Array.from(g.d).every(([j,T])=>m(e,j).n===T)))return g;g.d.clear();let b=!0;function w(){i.has(t)&&(v(e,t),h(e),f(e))}function _(j){var T;if(j===t){const M=d(e,j);if(!Sc(M))if(wu(j))fs(e,j,j.init);else throw new Error("no atom init");return ls(M)}const k=m(e,j);try{return ls(k)}finally{g.d.set(j,k.n),Nu(g.v)&&Eu(t,g.v,k),(T=i.get(j))==null||T.t.add(t),b||w()}}let E,N;const C={get signal(){return E||(E=new AbortController),E.signal},get setSelf(){return(Sn?"production":void 0)!=="production"&&!Pi(t)&&console.warn("setSelf function cannot be used with read-only atom"),!N&&Pi(t)&&(N=(...j)=>{if((Sn?"production":void 0)!=="production"&&b&&console.warn("setSelf function cannot be called in sync"),!b)try{return p(e,t,...j)}finally{h(e),f(e)}}),N}},A=g.n;try{const j=u(e,t,_,C);return fs(e,t,j),ds(j)&&(Ri(j,()=>E==null?void 0:E.abort()),j.then(w,w)),(n=l.r)==null||n.call(l,t),g}catch(j){return delete g.v,g.e=j,++g.n,g}finally{b=!1,A!==g.n&&a.get(t)===A&&(a.set(t,g.n),c.add(t),(r=l.c)==null||r.call(l,t))}},Jv=(e,t)=>{const n=Le(e),r=n[1],s=n[2],i=n[11],a=[t];for(;a.length;){const c=a.pop(),l=i(e,c);for(const u of Su(c,l,r)){const d=i(e,u);s.set(u,d.n),a.push(u)}}},Cu=(e,t,...n)=>{const r=Le(e),s=r[3],i=r[6],a=r[8],c=r[11],l=r[12],u=r[13],d=r[14],f=r[15],h=r[17];let m=!0;const p=g=>ls(d(e,g)),v=(g,...b)=>{var w;const _=c(e,g);try{if(g===t){if(!wu(g))throw new Error("atom not writable");const E=_.n,N=b[0];fs(e,g,N),h(e,g),E!==_.n&&(s.add(g),(w=i.c)==null||w.call(i,g),f(e,g));return}else return Cu(e,g,...b)}finally{m||(u(e),l(e))}};try{return a(e,t,p,v,...n)}finally{m=!1}},qv=(e,t)=>{var n;const r=Le(e),s=r[1],i=r[3],a=r[6],c=r[11],l=r[15],u=r[18],d=r[19],f=c(e,t),h=s.get(t);if(h&&!Nu(f.v)){for(const[m,p]of f.d)if(!h.d.has(m)){const v=c(e,m);u(e,m).t.add(t),h.d.add(m),p!==v.n&&(i.add(m),(n=a.c)==null||n.call(a,m),l(e,m))}for(const m of h.d||[])if(!f.d.has(m)){h.d.delete(m);const p=d(e,m);p==null||p.t.delete(t)}}},Tu=(e,t)=>{var n;const r=Le(e),s=r[1],i=r[4],a=r[6],c=r[10],l=r[11],u=r[12],d=r[13],f=r[14],h=r[16],m=l(e,t);let p=s.get(t);if(!p){f(e,t);for(const v of m.d.keys())Tu(e,v).t.add(t);if(p={l:new Set,d:new Set(m.d.keys()),t:new Set},s.set(t,p),(n=a.m)==null||n.call(a,t),Pi(t)){const v=()=>{let g=!0;const b=(...w)=>{try{return h(e,t,...w)}finally{g||(d(e),u(e))}};try{const w=c(e,t,b);w&&(p.u=()=>{g=!0;try{w()}finally{g=!1}})}finally{g=!1}};i.add(v)}}return p},Qv=(e,t)=>{var n;const r=Le(e),s=r[1],i=r[5],a=r[6],c=r[11],l=r[19],u=c(e,t);let d=s.get(t);if(d&&!d.l.size&&!Array.from(d.t).some(f=>{var h;return(h=s.get(f))==null?void 0:h.d.has(t)})){d.u&&i.add(d.u),d=void 0,s.delete(t),(n=a.u)==null||n.call(a,t);for(const f of u.d.keys()){const h=l(e,f);h==null||h.t.delete(t)}return}return d},fs=(e,t,n)=>{const r=Le(e)[11],s=r(e,t),i="v"in s,a=s.v;if(ds(n))for(const c of s.d.keys())Eu(t,n,r(e,c));s.v=n,delete s.e,(!i||!Object.is(a,s.v))&&(++s.n,ds(a)&&Uv(a))},Yv=(e,t)=>{const n=Le(e)[14];return ls(n(e,t))},Xv=(e,t,...n)=>{const r=Le(e),s=r[12],i=r[13],a=r[16];try{return a(e,t,...n)}finally{i(e),s(e)}},e0=(e,t,n)=>{const r=Le(e),s=r[12],i=r[18],a=r[19],l=i(e,t).l;return l.add(n),s(e),()=>{l.delete(n),a(e,t),s(e)}},ju=new WeakMap,Le=e=>{const t=ju.get(e);if((Sn?"production":void 0)!=="production"&&!t)throw new Error("Store must be created by buildStore to read its building blocks");return t};function t0(...e){const t={get(r){const s=Le(t)[21];return s(t,r)},set(r,...s){const i=Le(t)[22];return i(t,r,...s)},sub(r,s){const i=Le(t)[23];return i(t,r,s)}},n=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},Vv,Fv,Bv,Zv,Wv,Gv,Kv,Hv,Jv,Cu,qv,Tu,Qv,fs,Yv,Xv,e0,void 0].map((r,s)=>e[s]||r);return ju.set(t,Object.freeze(n)),t}const Ou={};let n0=0;function wa(e,t){const n=`atom${++n0}`,r={toString(){return(Ou?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?r.read=e:(r.init=e,r.read=r0,r.write=s0),r}function r0(e){return e(this)}function s0(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}function i0(){return t0()}let Dn;function a0(){return Dn||(Dn=i0(),(Ou?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Dn),globalThis.__JOTAI_DEFAULT_STORE__!==Dn&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Dn}const o0={},c0=x.createContext(void 0);function ku(e){return x.useContext(c0)||a0()}const zi=e=>typeof(e==null?void 0:e.then)=="function",Di=e=>{e.status||(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}))},l0=y.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(Di(e),e)}),ei=new WeakMap,Cc=(e,t)=>{let n=ei.get(e);return n||(n=new Promise((r,s)=>{let i=e;const a=u=>d=>{i===u&&r(d)},c=u=>d=>{i===u&&s(d)},l=()=>{try{const u=t();zi(u)?(ei.set(u,n),i=u,u.then(a(u),c(u)),Ri(u,l)):r(u)}catch(u){s(u)}};e.then(a(e),c(e)),Ri(e,l)}),ei.set(e,n)),n};function u0(e,t){const{delay:n,unstable_promiseStatus:r=!y.use}={},s=ku(),[[i,a,c],l]=x.useReducer(d=>{const f=s.get(e);return Object.is(d[0],f)&&d[1]===s&&d[2]===e?d:[f,s,e]},void 0,()=>[s.get(e),s,e]);let u=i;if((a!==s||c!==e)&&(l(),u=s.get(e)),x.useEffect(()=>{const d=s.sub(e,()=>{if(r)try{const f=s.get(e);zi(f)&&Di(Cc(f,()=>s.get(e)))}catch(f){}if(typeof n=="number"){setTimeout(l,n);return}l()});return l(),d},[s,e,n,r]),x.useDebugValue(u),zi(u)){const d=Cc(u,()=>s.get(e));return r&&Di(d),l0(d)}return u}function d0(e,t){const n=ku();return x.useCallback((...s)=>{if((o0?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...s)},[n,e])}function vr(e,t){return[u0(e),d0(e)]}const Na=wa(!1),Au=wa(null);wa(null);const ti="https://studynote-server-9zf2jvc33-justtoms-projects.vercel.app/api",ft={devLogin(){return z(this,null,function*(){try{const e={id:"dev_teacher_001",name:"GiÃ¡o viÃªn Test",avatar:""},t=yield fetch(`${ti}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json","Bypass-Tunnel-Reminder":"true"},body:JSON.stringify({accessToken:"dev_token",userInfo:e})});if(!t.ok)throw new Error("Login failed");const n=yield t.json();return n.token&&(localStorage.setItem("auth_token",n.token),localStorage.setItem("user_info",JSON.stringify(n.user))),n}catch(e){console.error("Dev login error:",e),console.log("Falling back to offline dev mode...");const n={token:"offline_dev_token",user:{id:"dev_teacher_001",name:"GiÃ¡o viÃªn Test (Offline)",avatar:""}};return localStorage.setItem("auth_token",n.token),localStorage.setItem("user_info",JSON.stringify(n.user)),n}})},login(){return z(this,null,function*(){try{console.log("Starting Zalo login...");const e=yield nn.getAccessToken();console.log("Got access token");const t=yield nn.getUserInfo();console.log("Got user info:",t);const n=yield fetch(`${ti}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json","Bypass-Tunnel-Reminder":"true"},body:JSON.stringify({accessToken:e,userInfo:t})});if(!n.ok){const s=yield n.text();throw console.error("Backend login failed:",n.status,s),new Error(`Login failed: ${n.status} ${s}`)}const r=yield n.json();return r.token&&(localStorage.setItem("auth_token",r.token),localStorage.setItem("user_info",JSON.stringify(r.user))),r}catch(e){throw console.error("Login error:",e),e}})},getCurrentUser(){return z(this,null,function*(){try{const e=this.getToken();if(!e)throw new Error("No token found");const t=yield fetch(`${ti}/auth/me`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to get user info");return(yield t.json()).user}catch(e){throw console.error("Get user error:",e),e}})},logout(){localStorage.removeItem("auth_token"),localStorage.removeItem("user_info")},getToken(){return localStorage.getItem("auth_token")},getUserInfo(){const e=localStorage.getItem("user_info");return e?JSON.parse(e):null},isAuthenticated(){return!!this.getToken()}},f0=Object.freeze(Object.defineProperty({__proto__:null,authService:ft},Symbol.toStringTag,{value:"Module"}));function h0(){const{navigateTo:e}=Fe(),[t,n]=x.useState(!1),[,r]=vr(Na),[,s]=vr(Au),[i,a]=x.useState(null),c=()=>z(this,null,function*(){try{n(!0),a(null);const u=yield ft.login();r(!0),s(u.user),e("dashboard")}catch(u){console.error("Login failed:",u),a("ÄÄƒng nháº­p tháº¥t báº¡i. Vui lÃ²ng thá»­ láº¡i.")}finally{n(!1)}}),l=()=>z(this,null,function*(){try{n(!0),a(null);const u=yield ft.devLogin();r(!0),s(u.user),e("dashboard")}catch(u){console.error("Dev login failed:",u),a("Dev login tháº¥t báº¡i. Vui lÃ²ng thá»­ láº¡i.")}finally{n(!1)}});return o.jsx(Pe,{className:"bg-gradient-to-br from-blue-500 to-purple-600",children:o.jsx(P,{className:"flex flex-col items-center justify-center",style:{minHeight:"100vh",padding:"24px"},children:o.jsxs(P,{className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md",children:[o.jsx(P,{className:"flex justify-center mb-6",children:o.jsx(P,{className:"bg-blue-100 rounded-full p-6",children:o.jsx("svg",{className:"w-16 h-16 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})}),o.jsx(S.Title,{className:"text-center text-2xl font-bold text-gray-800 mb-2",children:"StudyNote"}),o.jsx(S,{className:"text-center text-gray-500 mb-8",children:"Sá»• LiÃªn Láº¡c ThÃ´ng Minh"}),o.jsx(P,{className:"bg-blue-50 rounded-lg p-4 mb-6",children:o.jsx(S,{size:"small",className:"text-gray-700 text-center",children:"ÄÄƒng nháº­p Ä‘á»ƒ quáº£n lÃ½ lá»›p há»c, Ä‘iá»ƒm danh vÃ  giao tiáº¿p vá»›i phá»¥ huynh má»™t cÃ¡ch dá»… dÃ ng"})}),i&&o.jsx(P,{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:o.jsx(S,{size:"small",className:"text-red-600 text-center",children:i})}),o.jsx(le,{fullWidth:!0,size:"large",onClick:c,loading:t,disabled:t,className:"bg-blue-600 hover:bg-blue-700 transition-colors",children:"ÄÄƒng nháº­p vá»›i Zalo"}),o.jsxs("div",{className:"mt-8 text-center",children:[o.jsx(S,{size:"small",className:"text-gray-500 mb-2",children:"Báº¡n lÃ  phá»¥ huynh?"}),o.jsx(le,{variant:"tertiary",size:"small",onClick:()=>e("parent-connect"),children:"Nháº­p mÃ£ káº¿t ná»‘i"})]}),o.jsx(le,{fullWidth:!0,size:"medium",onClick:l,loading:t,disabled:t,variant:"secondary",className:"mt-3",children:"ðŸ”§ Dev Login (Demo Mode)"}),o.jsx(S,{size:"xxSmall",className:"text-center text-gray-400 mt-6",children:"Báº±ng cÃ¡ch Ä‘Äƒng nháº­p, báº¡n Ä‘á»“ng Ã½ vá»›i Äiá»u khoáº£n sá»­ dá»¥ng"})]})})})}function Tc({children:e}){const{currentPage:t}=Fe(),[n,r]=vr(Na),[,s]=vr(Au),[i,a]=x.useState(!0),[c,l]=x.useState(null);if(x.useEffect(()=>{z(this,null,function*(){try{const f=ft.getToken();if(console.log("Checking auth, token:",f),f){const h=yield ft.getCurrentUser();console.log("User verified:",h),r(!0),s(h)}else{console.log("No token found, attempting auto-login (Bypass Mode)...");try{const h=yield ft.devLogin();console.log("Auto-login successful:",h),r(!0),s(h.user)}catch(h){console.error("Auto-login failed:",h),l(`Login failed: ${h.message}`),r(!1)}}}catch(f){console.error("Auth check failed:",f),ft.logout();try{console.log("Attempting auto-login after auth check failure...");const h=yield ft.devLogin();r(!0),s(h.user)}catch(h){l(`Auth failed: ${h.message}`),r(!1)}}finally{a(!1)}})},[r,s]),i)return o.jsx("div",{className:"flex items-center justify-center h-screen bg-blue-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Äang táº£i..."})]})});if(c)return o.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-red-50 p-4",children:[o.jsxs("div",{className:"text-red-600 mb-4 text-center",children:[o.jsx("h3",{className:"text-lg font-bold",children:"Lá»—i ÄÄƒng Nháº­p"}),o.jsx("p",{children:c})]}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700",children:"Thá»­ Láº¡i"})]});const u=["parent-connect"];return n?o.jsx(o.Fragment,{children:e}):u.includes(t)?o.jsx(o.Fragment,{children:e}):o.jsx(h0,{})}const Ce="https://studynote-server-9zf2jvc33-justtoms-projects.vercel.app/api",Te=()=>({"Content-Type":"application/json",Authorization:"Bearer offline_dev_token"}),Oe={getClasses(){return z(this,null,function*(){const e=yield fetch(`${Ce}/classes`,{headers:Te()});if(!e.ok)throw new Error("Failed to fetch classes");return e.json()})},createClass(e){return z(this,null,function*(){const t=yield fetch(`${Ce}/classes`,{method:"POST",headers:Te(),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create class");return t.json()})},updateClass(e,t){return z(this,null,function*(){const n=yield fetch(`${Ce}/classes/${e}`,{method:"PUT",headers:Te(),body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to update class");return n.json()})},deleteClass(e){return z(this,null,function*(){const t=yield fetch(`${Ce}/classes/${e}`,{method:"DELETE",headers:Te()});if(!t.ok)throw new Error("Failed to delete class");return t.json()})},getClassStudents(e){return z(this,null,function*(){const t=yield fetch(`${Ce}/classes/${e}/students`,{headers:Te()});if(!t.ok)throw new Error("Failed to fetch students");return t.json()})},getAttendance(e,t){return z(this,null,function*(){const n=yield fetch(`${Ce}/attendance?classId=${e}&date=${t}`,{headers:Te()});if(!n.ok)throw new Error("Failed to fetch attendance");return n.json()})},saveAttendance(e,t,n){return z(this,null,function*(){const r=yield fetch(`${Ce}/attendance`,{method:"POST",headers:Te(),body:JSON.stringify({classId:e,date:t,attendance:n})});if(!r.ok)throw new Error("Failed to save attendance");return r.json()})},getAttendanceHistory(e){return z(this,null,function*(){const t=yield fetch(`${Ce}/attendance/history/${e}`,{headers:Te()});if(!t.ok)throw new Error("Failed to fetch attendance history");return t.json()})},sendNotification(e){return z(this,null,function*(){const t=yield fetch(`${Ce}/notifications/send`,{method:"POST",headers:G(O({},Te()),{"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!t.ok){const n=yield t.json();throw new Error(n.error||"Failed to send notification")}return t.json()})},generateCodes(e){return z(this,null,function*(){const t=yield fetch(`${Ce}/classes/${e}/generate-codes`,{method:"POST",headers:Te()});if(!t.ok)throw new Error("Failed to generate codes");return t.json()})},connectParent(e){return z(this,null,function*(){const t=yield fetch(`${Ce}/parents/connect`,{method:"POST",headers:G(O({},Te()),{"Content-Type":"application/json"}),body:JSON.stringify({code:e})});if(!t.ok){const n=yield t.json();throw new Error(n.error||"Failed to connect")}return t.json()})},getChildren(){return z(this,null,function*(){const e=yield fetch(`${Ce}/parents/children`,{headers:Te()});if(!e.ok)throw new Error("Failed to fetch children");return e.json()})},getGrades(e){return z(this,null,function*(){const t=yield fetch(`${Ce}/grades?classId=${e}`,{headers:Te()});if(!t.ok)throw new Error("Failed to fetch grades");return t.json()})},saveGrade(e,t,n,r){return z(this,null,function*(){const s=yield fetch(`${Ce}/grades`,{method:"POST",headers:Te(),body:JSON.stringify({classId:e,studentId:t,score:n,comment:r})});if(!s.ok)throw new Error("Failed to save grade");return s.json()})},generateReport(e){return z(this,null,function*(){const t=yield fetch(`${Ce}/reports/generate`,{method:"POST",headers:Te(),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to generate report");return t.json()})},getStudentReports(e,t=10){return z(this,null,function*(){const n=yield fetch(`${Ce}/reports/student/${e}?limit=${t}`,{headers:Te()});if(!n.ok)throw new Error("Failed to get reports");return n.json()})},getReportById(e){return z(this,null,function*(){const t=yield fetch(`${Ce}/reports/${e}`,{headers:Te()});if(!t.ok)throw new Error("Failed to get report");return t.json()})},sendReportToParent(e){return z(this,null,function*(){const t=yield fetch(`${Ce}/reports/${e}/send`,{method:"POST",headers:Te(),body:JSON.stringify({})});if(!t.ok)throw new Error("Failed to send report");return t.json()})},updateReport(e,t){return z(this,null,function*(){const n=yield fetch(`${Ce}/reports/${e}`,{method:"PUT",headers:Te(),body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to update report");return n.json()})},getStudentById(e){return z(this,null,function*(){const t=yield fetch(`${Ce}/students/${e}`,{headers:Te()});if(!t.ok)throw new Error("Failed to get student");return t.json()})}},Gn=Object.freeze(Object.defineProperty({__proto__:null,apiService:Oe},Symbol.toStringTag,{value:"Module"}));function jn(){const[e,t]=x.useState([]),[n,r]=x.useState(!0),[s,i]=x.useState(null),a=()=>z(this,null,function*(){try{r(!0);const d=yield Oe.getClasses();t(d.classes),i(null)}catch(d){console.error("Failed to fetch classes:",d),i("KhÃ´ng thá»ƒ táº£i danh sÃ¡ch lá»›p")}finally{r(!1)}});return x.useEffect(()=>{a()},[]),{classes:e,loading:n,error:s,fetchClasses:a,createClass:d=>z(this,null,function*(){try{return yield Oe.createClass(d),yield a(),{success:!0}}catch(f){throw console.error("Failed to create class:",f),f}}),updateClass:(d,f)=>z(this,null,function*(){try{return yield Oe.updateClass(d,f),yield a(),{success:!0}}catch(h){throw console.error("Failed to update class:",h),h}}),deleteClass:d=>z(this,null,function*(){try{return yield Oe.deleteClass(d),yield a(),{success:!0}}catch(f){throw console.error("Failed to delete class:",f),f}})}}function Ea(e){const[t,n]=x.useState([]),[r,s]=x.useState(!0);return x.useEffect(()=>{z(this,null,function*(){if(!e){n([]),s(!1);return}try{s(!0);const a=yield Oe.getClassStudents(e);n(a.students||[])}catch(a){console.error("Failed to fetch students:",a),n([])}finally{s(!1)}})},[e]),{students:t,loading:r}}function m0(e,t){const[n,r]=x.useState({}),[s,i]=x.useState(!0),a=()=>z(this,null,function*(){if(!(!e||!t))try{i(!0);const u=yield Oe.getAttendance(e,t);r(u.attendance||{})}catch(u){console.error("Failed to fetch attendance:",u),r({})}finally{i(!1)}});return x.useEffect(()=>{a()},[e,t]),{attendance:n,loading:s,saveAttendance:u=>z(this,null,function*(){try{return yield Oe.saveAttendance(e,t,u),{success:!0}}catch(d){throw console.error("Failed to save attendance:",d),d}}),toggleStudent:u=>{r(d=>G(O({},d),{[u]:d[u]==="absent"?"present":"absent"}))}}}function p0(e){const[t,n]=x.useState([]),[r,s]=x.useState(!0);return x.useEffect(()=>{z(this,null,function*(){if(e)try{s(!0);const a=yield Oe.getAttendanceHistory(e);n(a.history||[])}catch(a){console.error("Failed to fetch history:",a)}finally{s(!1)}})},[e]),{history:t,loading:r}}function g0(e){const[t,n]=x.useState([]),[r,s]=x.useState(!0),i=()=>z(this,null,function*(){if(e)try{s(!0);const c=yield Oe.getGrades(e);n(c.grades||[])}catch(c){console.error("Failed to fetch grades:",c)}finally{s(!1)}});return x.useEffect(()=>{i()},[e]),{grades:t,loading:r,saveGrade:(c,l,u)=>z(this,null,function*(){try{return yield Oe.saveGrade(e,c,l,u),yield i(),{success:!0}}catch(d){throw console.error("Failed to save grade:",d),d}})}}const v0=()=>{const e=new Date().getHours();return e>=5&&e<12?"ChÃ o buá»•i sÃ¡ng":e>=12&&e<18?"ChÃ o buá»•i chiá»u":"ChÃ o buá»•i tá»‘i"};function x0({userName:e,userRole:t,className:n=""}){const r=v0(),s=t==="teacher"?"CÃ´":"";return o.jsx("div",{className:`greeting-component ${n}`,children:o.jsxs(S.Title,{size:"large",className:"font-bold text-white",children:[r,", ",s&&`${s} `,e,"!"]})})}function Iu({variant:e,message:t,onFollow:n,onDismiss:r}){const[s,i]=x.useState(!1),[a,c]=x.useState(e==="modal"),l=()=>z(this,null,function*(){try{i(!0),yield nn.followOA(),n&&n(),e==="modal"&&c(!1)}catch(d){console.error("Follow OA failed:",d)}finally{i(!1)}}),u=()=>{e==="modal"&&c(!1),r&&r()};return e==="inline"?o.jsx(P,{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 mb-4 border border-blue-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx("div",{className:"bg-white rounded-full p-2",children:"ðŸ“¢"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(S,{size:"small",className:"font-medium text-gray-900 mb-1",children:t}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(q,{icon:"zi-star",className:"text-white text-sm"})}),o.jsx(S,{size:"xSmall",className:"text-gray-600",children:"Sá»• LiÃªn Láº¡c ThÃ´ng Minh"})]})]})]}),o.jsx(le,{size:"small",className:"bg-red-500 text-white px-4 py-2 rounded-lg",onClick:l,loading:s,children:"Quan tÃ¢m"})]})}):e==="hero"?o.jsx(P,{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl p-6 mb-4 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(S.Title,{className:"text-white mb-2",children:"Quan tÃ¢m OA Ä‘á»ƒ tráº£i nghiá»‡m tá»‘t nháº¥t!"}),o.jsx(S,{className:"text-blue-100 mb-4",children:t}),o.jsx(le,{size:"medium",className:"bg-white text-blue-600 font-semibold",onClick:l,loading:s,children:"Quan tÃ¢m ngay"})]}),o.jsx("div",{className:"text-6xl",children:"ðŸŽ"})]})}):e==="modal"?o.jsx(Fl,{visible:a,onClose:u,autoHeight:!0,mask:!0,handler:!0,swipeToClose:!0,children:o.jsxs(P,{className:"p-6 text-center",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full mx-auto flex items-center justify-center mb-4",children:o.jsx(q,{icon:"zi-star",className:"text-blue-500 text-2xl"})}),o.jsx(S.Title,{className:"mb-2",children:"Quan tÃ¢m OA Sá»• LiÃªn Láº¡c"}),o.jsx(S,{className:"text-gray-600",children:t})]}),o.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(q,{icon:"zi-star",className:"text-white"})}),o.jsxs("div",{className:"text-left flex-1",children:[o.jsx(S,{className:"font-semibold",children:"Sá»• LiÃªn Láº¡c ThÃ´ng Minh"}),o.jsx(S,{size:"xSmall",className:"text-gray-500",children:"Official Account"})]})]})}),o.jsxs(S,{size:"xSmall",className:"text-gray-500 mb-4",children:['Báº±ng cÃ¡ch nháº¥n "Quan tÃ¢m", tÃ´i Ä‘á»“ng Ã½ vá»›i'," ",o.jsx("span",{className:"text-blue-500",children:"Ä‘iá»u khoáº£n sá»­ dá»¥ng cá»§a Zalo"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(le,{variant:"secondary",className:"flex-1",onClick:u,children:"Äá»ƒ sau"}),o.jsx(le,{className:"flex-1 bg-blue-500",onClick:l,loading:s,children:"Quan tÃ¢m"})]})]})}):null}const y0={blue:{bg:"bg-blue-50",text:"text-blue-600",iconBg:"bg-blue-100",gradient:"bg-gradient-to-br from-blue-400 to-blue-600"},green:{bg:"bg-green-50",text:"text-green-600",iconBg:"bg-green-100",gradient:"bg-gradient-to-br from-green-400 to-green-600"},purple:{bg:"bg-purple-50",text:"text-purple-600",iconBg:"bg-purple-100",gradient:"bg-gradient-to-br from-purple-400 to-purple-600"},red:{bg:"bg-red-50",text:"text-red-600",iconBg:"bg-red-100",gradient:"bg-gradient-to-br from-red-400 to-red-600"},orange:{bg:"bg-orange-50",text:"text-orange-600",iconBg:"bg-orange-100",gradient:"bg-gradient-to-br from-orange-400 to-orange-600"}};function Kn({icon:e,value:t,label:n,color:r="blue",gradient:s=!1,onClick:i}){const a=y0[r];return s?o.jsx(P,{className:`${a.gradient} rounded-xl p-4 text-white shadow-md ${i?"cursor-pointer active:scale-95":""} transition-transform`,onClick:i,children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:"bg-white bg-opacity-20 rounded-full p-3 mb-3",children:o.jsx(q,{icon:e,className:"text-white",size:24})}),o.jsx(S.Title,{size:"large",className:"text-white font-bold mb-1",children:t}),o.jsx(S,{size:"small",className:"text-white text-opacity-90",children:n})]})}):o.jsx(P,{className:`${a.bg} rounded-xl p-4 border border-gray-100 ${i?"cursor-pointer active:scale-95":""} transition-transform`,onClick:i,children:o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx("div",{className:`${a.iconBg} rounded-full p-3 mb-3`,children:o.jsx(q,{icon:e,className:a.text,size:24})}),o.jsx(S.Title,{size:"large",className:`${a.text} font-bold mb-1`,children:t}),o.jsx(S,{size:"small",className:"text-gray-600",children:n})]})})}const _0={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",purple:"bg-purple-100 text-purple-600",red:"bg-red-100 text-red-600",orange:"bg-orange-100 text-orange-600",pink:"bg-pink-100 text-pink-600"},b0={small:{iconSize:20,padding:"p-3",textSize:"text-xs"},medium:{iconSize:24,padding:"p-4",textSize:"text-sm"},large:{iconSize:28,padding:"p-5",textSize:"text-base"}};function w0({actions:e,columns:t=4,size:n="medium"}){const r={2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4"},s=b0[n];return o.jsx(P,{className:`grid ${r[t]} gap-3 mb-4`,children:e.map(i=>o.jsx("div",{onClick:i.onClick,className:"relative cursor-pointer active:scale-95 transition-transform",children:o.jsxs(P,{className:`${_0[i.color||"blue"]} ${s.padding} rounded-2xl flex flex-col items-center justify-center gap-2 h-full`,children:[o.jsxs("div",{className:"relative",children:[o.jsx(q,{icon:i.icon,size:s.iconSize}),i.badge!==void 0&&o.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:i.badge})]}),o.jsx(S,{className:`${s.textSize} font-medium text-center leading-tight`,children:i.label})]})},i.id))})}function N0({days:e,size:t="medium",variant:n="compact"}){const s={small:{container:"px-2 py-1",icon:"text-base",number:"text-sm",label:"text-xs"},medium:{container:"px-3 py-2",icon:"text-xl",number:"text-base",label:"text-sm"},large:{container:"px-4 py-3",icon:"text-2xl",number:"text-lg",label:"text-base"}}[t],i=()=>e>=30?"bg-gradient-to-r from-yellow-400 to-orange-500":e>=14?"bg-gradient-to-r from-orange-400 to-red-500":e>=7?"bg-gradient-to-r from-red-400 to-pink-500":"bg-gradient-to-r from-blue-400 to-purple-500",a=()=>e>=30?"ðŸ†":e>=14?"ðŸ”¥":e>=7?"âš¡":"âœ¨",c=()=>e>=30?"Xuáº¥t sáº¯c!":e>=14?"Tuyá»‡t vá»i!":e>=7?"Tá»‘t láº¯m!":e>0?"Cá»‘ lÃªn!":"Báº¯t Ä‘áº§u ngay!";return n==="compact"?o.jsxs(P,{className:`${i()} ${s.container} rounded-full inline-flex items-center gap-2 text-white shadow-md`,children:[o.jsx("span",{className:s.icon,children:a()}),o.jsx("span",{className:`font-bold ${s.number}`,children:e}),o.jsx("span",{className:s.label,children:"ngÃ y"})]}):o.jsxs(P,{className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(S,{size:"small",className:"text-gray-600",children:"Chuá»—i Ä‘iá»ƒm danh"}),o.jsx("div",{className:`${i()} px-3 py-1 rounded-full`,children:o.jsx(S,{className:"text-white font-bold text-sm",children:c()})})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`${i()} w-16 h-16 rounded-full flex items-center justify-center text-3xl shadow-lg`,children:a()}),o.jsxs("div",{children:[o.jsxs(S.Title,{className:"text-gray-900",children:[o.jsx("span",{className:"text-4xl font-bold",children:e}),o.jsx("span",{className:"text-lg text-gray-600 ml-2",children:"ngÃ y"})]}),o.jsx(S,{size:"small",className:"text-gray-500",children:"Äiá»ƒm danh liÃªn tiáº¿p"})]})]}),e>0&&o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(S,{size:"xSmall",className:"text-gray-500",children:"Tiáº¿p tá»¥c Ä‘á»ƒ duy trÃ¬ chuá»—i!"}),o.jsx("div",{className:"flex gap-1",children:[...Array(Math.min(e,7))].map((l,u)=>o.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-400"},u))})]})})]})}function jc(){const{navigateTo:e}=Fe(),{classes:t,loading:n}=jn(),[r,s]=x.useState(null),[i,a]=x.useState(0),[c,l]=x.useState(!0);x.useEffect(()=>{(()=>{const m=localStorage.getItem("current_user");s(m?JSON.parse(m):{name:"GiÃ¡o viÃªn",role:"teacher"}),a(Math.floor(Math.random()*15)+1)})()},[]);const u=t.reduce((h,m)=>h+(m.total_students||0),0),d=t.length,f=[{id:"students",icon:"zi-user",label:"Há»c sinh",onClick:()=>e("students"),color:"green"},{id:"attendance",icon:"zi-check-circle",label:"Äiá»ƒm danh",onClick:()=>e("quick-attendance"),color:"blue"},{id:"classes",icon:"zi-list-1",label:"Quáº£n lÃ½ lá»›p",onClick:()=>e("class-management"),color:"orange"},{id:"grades",icon:"zi-star",label:"Nháº­p Ä‘iá»ƒm",onClick:()=>e("grades-input"),color:"purple"}];return n?o.jsx(Pe,{className:"bg-gray-50",style:{marginTop:"44px"},children:o.jsx(P,{className:"flex items-center justify-center h-screen",children:o.jsx(S,{className:"text-gray-500",children:"Äang táº£i..."})})}):r?d===0?o.jsx(Pe,{className:"bg-gray-50",style:{marginTop:"44px"},children:o.jsx(P,{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-6xl mb-4",children:"ðŸ“š"}),o.jsx(S.Title,{className:"mb-2",children:"ChÃ o má»«ng Ä‘áº¿n vá»›i Sá»• LiÃªn Láº¡c!"}),o.jsx(S,{className:"text-gray-600 mb-6",children:"HÃ£y báº¯t Ä‘áº§u báº±ng cÃ¡ch táº¡o lá»›p há»c Ä‘áº§u tiÃªn cá»§a báº¡n"}),o.jsx(le,{size:"large",onClick:()=>e("class-management"),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:"Táº¡o lá»›p há»c Ä‘áº§u tiÃªn"})]})})}):o.jsxs(Pe,{className:"bg-gray-50",style:{marginTop:"44px"},children:[o.jsxs(P,{className:"bg-gradient-to-br from-blue-500 to-purple-600 p-6 rounded-b-3xl shadow-lg mb-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx(x0,{userName:r.name||"GiÃ¡o viÃªn",userRole:"teacher"})}),o.jsx("div",{className:"flex justify-center",children:o.jsx(N0,{days:i,size:"medium",variant:"compact"})})]}),c&&o.jsx(P,{className:"px-4",children:o.jsx(Iu,{variant:"inline",message:"Quan tÃ¢m OA Ä‘á»ƒ nháº­n thÃ´ng bÃ¡o tá»± Ä‘á»™ng khi cÃ³ cáº­p nháº­t má»›i",onFollow:()=>{console.log("Followed OA"),l(!1)},onDismiss:()=>l(!1)})}),o.jsxs(P,{className:"px-4 mb-4",children:[o.jsx(S.Title,{size:"small",className:"mb-3 text-gray-900",children:"Quáº£n lÃ½ nhanh"}),o.jsx(w0,{actions:f,columns:4,size:"medium"})]}),o.jsxs(P,{className:"px-4 mb-4",children:[o.jsx(S.Title,{size:"small",className:"mb-3 text-gray-900",children:"Thá»‘ng kÃª hÃ´m nay"}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsx(Kn,{icon:"zi-list-1",value:d,label:"Lá»›p há»c",color:"blue"}),o.jsx(Kn,{icon:"zi-user",value:u,label:"Há»c sinh",color:"green"}),o.jsx(Kn,{icon:"zi-check-circle",value:0,label:"ÄÃ£ Ä‘iá»ƒm danh",color:"purple"})]})]}),o.jsxs(P,{className:"px-4 mb-20",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(S.Title,{size:"small",className:"text-gray-900",children:"Lá»›p há»c cá»§a báº¡n"}),o.jsx(S,{size:"small",className:"text-blue-500",onClick:()=>e("class-management"),children:"Xem táº¥t cáº£ â†’"})]}),o.jsx("div",{className:"space-y-3",children:t.slice(0,3).map(h=>o.jsx(P,{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 active:scale-98 transition-transform",onClick:()=>e("quick-attendance"),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(S,{className:"font-semibold text-gray-900 mb-1",children:h.name}),o.jsxs(S,{size:"xSmall",className:"text-gray-500",children:[h.total_students||0," há»c sinh",h.schedules&&h.schedules.length>0&&` â€¢ ${h.schedules.length} buá»•i/tuáº§n`]})]}),o.jsx("div",{className:"bg-blue-50 rounded-full p-2",children:o.jsx(S,{className:"text-blue-600",children:"â†’"})})]})},h.id))})]})]}):o.jsx(Pe,{className:"bg-gray-50",style:{marginTop:"44px"},children:o.jsx(P,{className:"flex items-center justify-center h-screen",children:o.jsx(S,{className:"text-gray-500",children:"Äang táº£i thÃ´ng tin..."})})})}function E0(){const{goBack:e,navigateTo:t}=Fe(),[n,r]=x.useState([]),[s,i]=x.useState(!0),[a,c]=x.useState("");x.useEffect(()=>{l()},[]);const l=()=>z(this,null,function*(){try{i(!0);const d=yield Oe.getClasses(),f=[];for(const h of d.classes||[])try{const p=((yield Oe.getClassStudents(h.id)).students||[]).map(v=>G(O({},v),{className:h.name,classId:h.id}));f.push(...p)}catch(m){console.error(`Failed to load students for class ${h.id}:`,m)}r(f)}catch(d){console.error("Failed to load students:",d)}finally{i(!1)}}),u=n.filter(d=>{var f,h;return((f=d.name)==null?void 0:f.toLowerCase().includes(a.toLowerCase()))||((h=d.className)==null?void 0:h.toLowerCase().includes(a.toLowerCase()))});return o.jsxs(Pe,{className:"bg-gray-50",style:{marginTop:"44px"},children:[o.jsx(tt,{title:"Danh sÃ¡ch há»c sinh",showBackIcon:!0,onBackClick:e}),o.jsxs(P,{className:"p-4",children:[o.jsx(P,{className:"mb-4",children:o.jsx(Ct,{placeholder:"TÃ¬m kiáº¿m há»c sinh...",value:a,onChange:d=>c(d.target.value),className:"bg-white",prefix:o.jsx(q,{icon:"zi-search"})})}),s&&o.jsx("div",{className:"text-center py-12",children:o.jsx(S,{className:"text-gray-600",children:"Äang táº£i..."})}),!s&&u.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-5xl mb-3",children:"ðŸ‘¥"}),o.jsx(S,{className:"text-gray-600",children:a?"KhÃ´ng tÃ¬m tháº¥y há»c sinh":"ChÆ°a cÃ³ há»c sinh nÃ o"}),o.jsx(S,{size:"xSmall",className:"text-gray-500 mt-1",children:"ThÃªm há»c sinh tá»« trang Quáº£n lÃ½ lá»›p"})]}),!s&&u.length>0&&o.jsx("div",{className:"space-y-2",children:u.map(d=>{var f;return o.jsx(P,{className:"bg-white rounded-xl p-4 shadow-sm cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{t("student-detail",{student:d})},children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:((f=d.name)==null?void 0:f[0])||"?"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(S,{className:"font-semibold text-gray-900 mb-1",children:d.name}),o.jsxs(S,{size:"xSmall",className:"text-gray-600",children:["Lá»›p ",d.className]})]}),o.jsx(q,{icon:"zi-chevron-right",className:"text-gray-400"})]})},d.id)})}),!s&&n.length>0&&o.jsx(P,{className:"mt-4 bg-blue-50 rounded-xl p-3",children:o.jsxs(S,{size:"xSmall",className:"text-blue-800 text-center",children:["ðŸ“Š Tá»•ng sá»‘: ",n.length," há»c sinh",a&&` â€¢ TÃ¬m tháº¥y: ${u.length}`]})})]})]})}const Pu=x.createContext(void 0),S0=({children:e})=>{const t=r=>{console.log("[Toast] Open:",r);const s=r.text||r.message||"",i=document.createElement("div");i.className="fixed top-4 left-1/2 transform -translate-x-1/2 px-4 py-3 rounded-lg shadow-xl z-[9999] flex items-center gap-2 min-w-[300px] animate-slide-down transition-all",r.type==="success"?(i.className+=" bg-green-50 text-green-800 border border-green-200",i.innerHTML=`<span class="text-xl">âœ…</span> <span class="font-medium">${s}</span>`):r.type==="error"?(i.className+=" bg-red-50 text-red-800 border border-red-200",i.innerHTML=`<span class="text-xl">âŒ</span> <span class="font-medium">${s}</span>`):r.type==="warning"?(i.className+=" bg-orange-50 text-orange-800 border border-orange-200",i.innerHTML=`<span class="text-xl">âš ï¸</span> <span class="font-medium">${s}</span>`):(i.className+=" bg-gray-800 text-white",i.innerText=s),document.body.appendChild(i),setTimeout(()=>{i.style.opacity="0",i.style.transform="translate(-50%, -20px)",setTimeout(()=>i.remove(),300)},r.duration||3e3)},n=()=>{};return o.jsx(Pu.Provider,{value:{openToast:t,closeToast:n},children:e})},Sa=x.createContext(void 0),C0=({children:e})=>ha()?o.jsx(S0,{children:o.jsx(T0,{children:e})}):o.jsx(Cp,{children:o.jsx(j0,{children:e})}),T0=({children:e})=>{const{openToast:t,closeToast:n}=x.useContext(Pu);return o.jsx(Sa.Provider,{value:{openSnackbar:t,closeSnackbar:n},children:e})},j0=({children:e})=>{const{openSnackbar:t,closeSnackbar:n}=Tp();return o.jsx(Sa.Provider,{value:{openSnackbar:t,closeSnackbar:n},children:e})},Sr=()=>{const e=x.useContext(Sa);if(!e)throw new Error("useAppToast must be used within AppToastProvider");return e};function O0(){const{goBack:e}=Fe(),[t,n]=x.useState(new Date().toISOString().split("T")[0]),[r,s]=x.useState(!1),{classes:i}=jn(),a=i[0],c=(a==null?void 0:a.id)||"",{students:l,loading:u}=Ea(c),{attendance:d,toggleStudent:f,saveAttendance:h}=m0(c,t),{openSnackbar:m}=Sr(),p=()=>z(this,null,function*(){try{s(!0),yield h(d),m({icon:!0,text:"ÄÃ£ lÆ°u Ä‘iá»ƒm danh thÃ nh cÃ´ng!",type:"success",duration:3e3})}catch(_){console.error("Save failed:",_),m({text:"LÆ°u Ä‘iá»ƒm danh tháº¥t báº¡i",type:"error"})}finally{s(!1)}}),v=_=>{const E=new Date(_);return["Chá»§ Nháº­t","Thá»© 2","Thá»© 3","Thá»© 4","Thá»© 5","Thá»© 6","Thá»© 7"][E.getDay()]},g=_=>{if(!a)return!1;const N=new Date(_).getDay();return a.schedules.some(C=>C.dayOfWeek===N)};Object.values(d).filter(_=>_==="present").length;const b=l.filter(_=>(d[_.id]||"present")==="present").length,w=l.filter(_=>d[_.id]==="absent").length;return o.jsxs(Pe,{className:"bg-gray-50",style:{marginTop:"44px"},children:[o.jsx(tt,{title:"Äiá»ƒm Danh Nhanh",showBackIcon:!0,onBackClick:e}),o.jsxs(P,{className:"bg-white p-4 mb-4 shadow-sm",children:[o.jsxs(P,{flex:!0,flexDirection:"row",justifyContent:"space-between",alignItems:"center",className:"mb-4",children:[o.jsxs(P,{children:[o.jsx(S,{size:"xSmall",className:"text-gray-500 mb-1",children:"NgÃ y Ä‘iá»ƒm danh"}),o.jsxs(P,{flex:!0,flexDirection:"row",alignItems:"center",style:{gap:8},children:[o.jsx(S.Title,{size:"small",children:v(t)}),g(t)&&o.jsx(P,{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded text-xs font-medium",children:"Theo lá»‹ch"})]})]}),o.jsx("input",{type:"date",value:t,onChange:_=>n(_.target.value),className:"px-3 py-2 rounded-lg border border-gray-200 text-sm"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsxs(P,{className:"bg-gray-50 rounded-lg p-3 text-center",children:[o.jsx(S.Title,{className:"text-gray-900 mb-1",children:l.length}),o.jsx(S,{size:"xSmall",className:"text-gray-500",children:"Tá»•ng sá»‘"})]}),o.jsxs(P,{className:"bg-green-50 rounded-lg p-3 text-center border border-green-100",children:[o.jsx(S.Title,{className:"text-green-600 mb-1",children:b}),o.jsx(S,{size:"xSmall",className:"text-gray-500",children:"CÃ³ máº·t"})]}),o.jsxs(P,{className:"bg-red-50 rounded-lg p-3 text-center border border-red-100",children:[o.jsx(S.Title,{className:"text-red-600 mb-1",children:w}),o.jsx(S,{size:"xSmall",className:"text-gray-500",children:"Váº¯ng"})]})]})]}),o.jsxs(P,{className:"mb-20",children:[o.jsx(P,{p:4,pb:0,children:o.jsx(S,{size:"xSmall",className:"text-blue-600 bg-blue-50 p-2 rounded border border-blue-100",children:"ðŸ’¡ Click vÃ o há»c sinh Ä‘á»ƒ Ä‘á»•i tráº¡ng thÃ¡i (CÃ³ máº·t / Váº¯ng)"})}),u?o.jsx(P,{p:4,className:"text-center text-gray-500",children:"Äang táº£i danh sÃ¡ch há»c sinh..."}):o.jsx(dt,{children:l.map(_=>{const E=d[_.id]||"present";return o.jsx("div",{onClick:()=>f(_.id),className:"cursor-pointer",children:o.jsx(dt.Item,{prefix:o.jsx(q,{icon:"zi-user",className:E==="present"?"text-green-600":"text-red-600"}),title:_.name,subTitle:E==="present"?"CÃ³ máº·t":"Váº¯ng",suffix:E==="present"?o.jsx(q,{icon:"zi-check-circle-solid",className:"text-green-500"}):o.jsx(q,{icon:"zi-close-circle-solid",className:"text-red-500"}),className:E==="absent"?"bg-red-50":""})},_.id)})})]}),o.jsx(P,{style:{position:"fixed",bottom:64,left:0,right:0,zIndex:50},p:4,className:"bg-white border-t border-gray-200",children:o.jsx(le,{fullWidth:!0,size:"large",onClick:p,loading:r,disabled:r,children:"LÆ°u Äiá»ƒm Danh"})})]})}function k0(){const{goBack:e}=Fe(),{openSnackbar:t}=Sr(),{classes:n}=jn(),[r,s]=x.useState("");x.useEffect(()=>{n.length>0&&!r&&s(n[0].id)},[n,r]);const{students:i,loading:a}=Ea(r),{grades:c,saveGrade:l}=g0(r),[u,d]=x.useState([]),[f,h]=x.useState(!1),[m,p]=x.useState(null),[v,g]=x.useState(null);x.useEffect(()=>{if(i.length>0){const N=i.map(C=>{const A=c.find(j=>j.student_id===C.id);return{id:C.id,name:C.name,grade:A?String(A.score):"",comment:A?A.comment:"",showForm:!1,saved:!1}});d(N)}},[i,c]);const b=(N,C)=>{const A=window.SpeechRecognition||window.webkitSpeechRecognition;if(!A){alert("TrÃ¬nh duyá»‡t cá»§a báº¡n khÃ´ng há»— trá»£ Voice-to-Text. Vui lÃ²ng gÃµ tay.");return}const j=new A;j.lang="vi-VN",j.continuous=!1,h(!0),p(N),j.onstart=()=>{console.log("Voice recognition started")},j.onresult=T=>{let k="";for(let M=T.resultIndex;M<T.results.length;M++)k+=T.results[M][0].transcript;d(u.map(M=>M.id===N?G(O({},M),{comment:M.comment+(M.comment?" ":"")+k}):M))},j.onerror=T=>{console.error("Voice recognition error:",T.error),alert("Lá»—i: "+T.error)},j.onend=()=>{h(!1),p(null)},j.start()},w=N=>{d(u.map(C=>C.id===N?G(O({},C),{showForm:!C.showForm}):C))},_=(N,C,A)=>{d(u.map(j=>j.id===N?G(O({},j),{[C]:A}):j))},E=N=>z(this,null,function*(){const C=u.find(A=>A.id===N);if(C&&(C.grade||C.comment))try{g(N),yield l(N,C.grade?parseFloat(C.grade):0,C.comment),d(u.map(A=>A.id===N?G(O({},A),{saved:!0,showForm:!1}):A)),t({text:"ÄÃ£ lÆ°u Ä‘iá»ƒm thÃ nh cÃ´ng",type:"success"}),setTimeout(()=>{d(A=>A.map(j=>j.id===N?G(O({},j),{saved:!1}):j))},2e3)}catch(A){console.error("Failed to save grade:",A),t({text:"LÆ°u tháº¥t báº¡i",type:"error"})}finally{g(null)}});return o.jsxs(Pe,{className:"bg-gray-100",style:{marginTop:"44px"},children:[o.jsx(tt,{title:"Sá»• Äiá»ƒm & Nháº­n XÃ©t",showBackIcon:!0,onBackClick:e}),o.jsxs(P,{p:4,className:"pt-20 pb-24",children:[o.jsx(P,{className:"mb-4 overflow-x-auto whitespace-nowrap pb-2",children:n.map(N=>o.jsx("div",{onClick:()=>s(N.id),style:{display:"inline-block",padding:"8px 16px",marginRight:"8px",borderRadius:"20px",background:r===N.id?"#006AF5":"white",color:r===N.id?"white":"#333",border:r===N.id?"none":"1px solid #ddd",fontSize:"14px",fontWeight:500,cursor:"pointer"},children:N.name},N.id))}),o.jsx(P,{className:"bg-blue-50 rounded-lg p-3 mb-4 border border-blue-200",children:o.jsxs(S,{size:"small",className:"text-blue-800",children:["ðŸŽ¤ ",o.jsx("strong",{children:"Wow Feature:"})," Nháº¥n ðŸŽ¤ Ä‘á»ƒ nÃ³i nháº­n xÃ©t (Voice-to-Text)"]})}),a?o.jsx(S,{className:"text-center text-gray-500 mt-8",children:"Äang táº£i danh sÃ¡ch há»c sinh..."}):u.length===0?o.jsx(S,{className:"text-center text-gray-500 mt-8",children:"Lá»›p chÆ°a cÃ³ há»c sinh nÃ o."}):o.jsx("div",{className:"flex flex-col gap-3",children:u.map(N=>o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[o.jsxs("div",{onClick:()=>w(N.id),className:`p-4 cursor-pointer flex justify-between items-center transition-colors ${N.saved?"bg-green-50":N.grade?"bg-blue-50":"bg-white"}`,children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-medium text-base",children:[N.saved&&"âœ… ",N.name]}),N.grade&&o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["ðŸ“ Äiá»ƒm: ",N.grade," ",N.comment&&"| CÃ³ nháº­n xÃ©t"]})]}),o.jsx("div",{className:"text-xl text-gray-400",children:N.showForm?"â–²":"â–¼"})]}),N.showForm&&o.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50",children:[o.jsx(Ct,{type:"number",placeholder:"Nháº­p Ä‘iá»ƒm (0-10)",value:N.grade,onChange:C=>_(N.id,"grade",C.target.value),className:"mb-3 bg-white"}),o.jsxs("div",{className:"mb-3",children:[o.jsx(S,{size:"small",className:"font-medium mb-2 text-gray-600",children:"Nháº­n xÃ©t:"}),o.jsx("textarea",{placeholder:"GÃµ nháº­n xÃ©t hoáº·c dÃ¹ng ðŸŽ¤",value:N.comment,onChange:C=>_(N.id,"comment",C.target.value),className:"w-full p-3 rounded-lg border border-gray-300 text-sm min-h-[80px] focus:outline-none focus:border-blue-500"})]}),o.jsx("button",{onClick:()=>b(N.id),disabled:f&&m!==N.id,className:`w-full p-2.5 rounded-lg text-sm font-bold mb-3 transition-all ${f&&m===N.id?"bg-yellow-500 text-white border-yellow-500":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:f&&m===N.id?"ðŸŽ¤ Äang nghe...":"ðŸŽ¤ NÃ³i nháº­n xÃ©t"}),o.jsx(le,{fullWidth:!0,onClick:()=>E(N.id),loading:v===N.id,className:v===N.id?"bg-gray-400":"bg-green-600",children:v===N.id?"Äang lÆ°u...":"LÆ°u Äiá»ƒm & Nháº­n XÃ©t"})]})]},N.id))}),o.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:["âœ… ÄÃ£ nháº­p: ",u.filter(N=>N.grade||N.comment).length,"/",u.length]})]})]})}const A0=[{id:"1",title:"ThÃ´ng bÃ¡o sá»± kiá»‡n",text:"ThÃ¢n gá»­i phá»¥ huynh, lá»›p cá»§a chÃºng ta cÃ³ sá»± kiá»‡n..."},{id:"2",title:"Nháº¯c nhá»Ÿ há»c bÃ i",text:"CÃ¡c em vui lÃ²ng há»c bÃ i vÃ  lÃ m bÃ i táº­p Ä‘Æ°á»£c giao..."},{id:"3",title:"ThÃ´ng bÃ¡o Ä‘iá»ƒm sá»‘",text:"Káº¿t quáº£ kiá»ƒm tra cuá»‘i ká»³ Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t..."},{id:"4",title:"Lá»‹ch thi",text:"Lá»‹ch thi cuá»‘i ká»³ nhÆ° sau..."}];function I0(){const{goBack:e}=Fe(),{classes:t}=jn(),{openSnackbar:n}=Sr(),[r,s]=x.useState("");x.useEffect(()=>{t.length>0&&!r&&s(t[0].id)},[t,r]);const[i,a]=x.useState(""),[c,l]=x.useState(null),[u,d]=x.useState(!1),[f,h]=x.useState(null),[m,p]=x.useState("");x.useEffect(()=>{nn.getUserInfo().then(_=>{p(_.id)}).catch(_=>{console.warn("Failed to get user info:",_),p("unknown_user")})},[]);const v=_=>{a(_)},g=()=>z(this,null,function*(){try{yield nn.followOA(),n({text:"ÄÃ£ gá»­i yÃªu cáº§u quan tÃ¢m OA",type:"success"})}catch(_){console.error("Follow OA error:",_),n({text:"Lá»—i khi quan tÃ¢m OA",type:"error"})}}),b=()=>z(this,null,function*(){if(!r){h("Vui lÃ²ng chá»n lá»›p há»c");return}if(!i.trim()){h("Vui lÃ²ng nháº­p ná»™i dung tin nháº¯n");return}d(!0),h(null),l(null);try{const _=yield gn(()=>Promise.resolve().then(()=>Gn),void 0,import.meta.url).then(E=>E.apiService.sendNotification({classId:r,message:i}));l({time:new Date().toLocaleTimeString("vi-VN"),count:_.sent}),setTimeout(()=>l(null),3e3),a("")}catch(_){console.error("Send failed:",_),h(_.message||"Gá»­i tin nháº¯n tháº¥t báº¡i")}finally{d(!1)}}),w=t.find(_=>_.id===r);return o.jsxs(Pe,{className:"bg-gray-50",style:{marginTop:"44px"},children:[o.jsx(tt,{title:"Gá»­i ThÃ´ng BÃ¡o",showBackIcon:!0,onBackClick:e}),o.jsxs(P,{p:4,className:"pb-24",children:[o.jsxs(P,{className:"mb-6",children:[o.jsx(S.Title,{size:"small",className:"mb-3",children:"Chá»n lá»›p:"}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:t.map(_=>o.jsxs(P,{onClick:()=>s(_.id),className:`p-3 border rounded-xl cursor-pointer transition-all ${r===_.id?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 bg-white"}`,children:[o.jsx(S,{className:"font-semibold text-sm mb-1",children:_.name}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[o.jsx(q,{icon:"zi-user",size:12}),o.jsx("span",{children:_.total_students||0})]})]},_.id))})]}),o.jsxs(P,{className:"mb-6",children:[o.jsx(S.Title,{size:"small",className:"mb-3",children:"Máº«u thÃ´ng bÃ¡o nhanh:"}),o.jsx("div",{className:"flex flex-col gap-2",children:A0.map(_=>o.jsxs("div",{onClick:()=>v(_.text),className:"p-3 bg-white border border-gray-200 rounded-lg cursor-pointer hover:bg-blue-50 hover:border-blue-200 transition-all",children:[o.jsxs("div",{className:"font-medium text-sm mb-1",children:["ðŸ“‹ ",_.title]}),o.jsx("div",{className:"text-xs text-gray-500 truncate",children:_.text})]},_.id))})]}),o.jsxs(P,{className:"mb-6",children:[o.jsx(S.Title,{size:"small",className:"mb-3",children:"Soáº¡n ná»™i dung:"}),o.jsx("textarea",{placeholder:"Nháº­p ná»™i dung thÃ´ng bÃ¡o...",value:i,onChange:_=>a(_.target.value),className:"w-full p-3 rounded-lg border border-gray-300 text-sm min-h-[120px] focus:outline-none focus:border-blue-500 mb-2"}),o.jsxs("div",{className:"text-xs text-gray-500 text-right",children:["KÃ½ tá»±: ",i.length,"/1000"]})]}),i&&o.jsxs(P,{className:"mb-6 bg-blue-50 rounded-lg p-3 border border-blue-100",children:[o.jsx("div",{className:"text-xs font-bold text-blue-800 mb-2",children:"ðŸ“± Xem trÆ°á»›c (Tin nháº¯n Zalo):"}),o.jsx("div",{className:"bg-white rounded-lg p-3 text-sm leading-relaxed border border-blue-100",children:i})]}),o.jsxs(P,{className:"mb-6 bg-gray-200 p-4 rounded-lg",children:[o.jsx(S.Title,{size:"small",className:"mb-2",children:"ðŸ›  Debug Info"}),o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("div",{className:"text-xs font-mono bg-white p-2 rounded border border-gray-300 break-all",children:["User ID: ",m||"Loading..."]}),o.jsx(le,{size:"small",variant:"secondary",onClick:g,children:"Quan tÃ¢m OA (Äá»ƒ nháº­n tin nháº¯n)"})]})]}),o.jsx(P,{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-gray-200 z-50",children:o.jsx(le,{fullWidth:!0,size:"large",onClick:b,loading:u,className:"bg-yellow-500",children:u?"â³ Äang gá»­i...":`ðŸ“¤ Gá»­i tá»›i ${(w==null?void 0:w.total_students)||0} Phá»¥ Huynh`})}),c&&o.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[60] pointer-events-none",children:o.jsxs("div",{className:"bg-green-600 text-white px-8 py-6 rounded-xl shadow-2xl text-center animate-bounce",children:[o.jsx("div",{className:"text-2xl font-bold mb-2",children:"âœ… ÄÃ£ Gá»­i!"}),o.jsxs("div",{className:"text-sm",children:["Tá»›i ",c.count," phá»¥ huynh"]})]})}),f&&o.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-[60] pointer-events-none",children:o.jsx("div",{className:"bg-red-600 text-white px-8 py-6 rounded-xl shadow-2xl text-center",children:o.jsxs("div",{className:"text-xl font-bold",children:["âŒ ",f]})})})]})]})}function P0(){const{goBack:e}=Fe(),{classes:t,loading:n,createClass:r,updateClass:s,deleteClass:i}=jn(),{openSnackbar:a}=Sr(),[c,l]=x.useState("list"),[u,d]=x.useState(null),[f,h]=x.useState(""),[m,p]=x.useState([]),[v,g]=x.useState(""),[b,w]=x.useState([]),[_,E]=x.useState(!1),[N,C]=x.useState(!1),A=$=>z(this,null,function*(){d($.id),h($.name),p($.schedules||[]),g(""),w([]),l("edit");try{E(!0);const W=yield gn(()=>Promise.resolve().then(()=>Gn),void 0,import.meta.url).then(K=>K.apiService.getClassStudents($.id));w(W.students),g(W.students.map(K=>K.name).join(`
`))}catch(W){console.error("Failed to fetch students:",W),a({text:"Lá»—i táº£i danh sÃ¡ch há»c sinh",type:"error"})}finally{E(!1)}}),j=()=>z(this,null,function*(){if(!f){a({text:"Vui lÃ²ng nháº­p tÃªn lá»›p",type:"error"});return}const $=v.split(`
`).filter(W=>W.trim()).map(W=>({name:W.trim(),parent_zalo_id:null}));try{C(!0),yield r({name:f,schedules:m,students:$.length>0?$:void 0}),a({text:"Táº¡o lá»›p thÃ nh cÃ´ng",type:"success"}),l("list"),Z()}catch(W){a({text:"Táº¡o lá»›p tháº¥t báº¡i",type:"error"})}finally{C(!1)}}),T=()=>z(this,null,function*(){if(!u||!f)return;const $=v.split(`
`).filter(W=>W.trim()).map(W=>({name:W.trim()}));try{C(!0),yield s(u,{name:f,schedules:m,students:$}),a({text:"Cáº­p nháº­t lá»›p thÃ nh cÃ´ng",type:"success"}),l("list"),Z()}catch(W){a({text:"Cáº­p nháº­t lá»›p tháº¥t báº¡i",type:"error"})}finally{C(!1)}}),k=()=>z(this,null,function*(){if(u&&window.confirm("Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a lá»›p nÃ y?"))try{C(!0),yield i(u),a({text:"ÄÃ£ xÃ³a lá»›p",type:"success"}),l("list"),Z()}catch($){a({text:"XÃ³a lá»›p tháº¥t báº¡i",type:"error"})}finally{C(!1)}}),M=()=>z(this,null,function*(){if(u)try{C(!0);const $=yield gn(()=>Promise.resolve().then(()=>Gn),void 0,import.meta.url).then(K=>K.apiService.generateCodes(u));a({text:$.message,type:"success"});const W=yield gn(()=>Promise.resolve().then(()=>Gn),void 0,import.meta.url).then(K=>K.apiService.getClassStudents(u));w(W.students)}catch($){a({text:$.message||"Táº¡o mÃ£ tháº¥t báº¡i",type:"error"})}finally{C(!1)}}),Z=()=>{h(""),p([]),g(""),w([]),d(null)},D=()=>{p([...m,{dayOfWeek:1,startTime:"09:00",endTime:"10:00"}])},L=$=>{p(m.filter((W,K)=>K!==$))},B=($,W,K)=>{const xe=[...m];xe[$]=G(O({},xe[$]),{[W]:K}),p(xe)},ae=["CN","T2","T3","T4","T5","T6","T7"];return o.jsxs(Pe,{className:"bg-gray-50",style:{marginTop:"44px"},children:[o.jsx(tt,{title:"Quáº£n LÃ½ Lá»›p Há»c",showBackIcon:!0,onBackClick:e}),o.jsxs(P,{p:4,className:"pb-32",children:[c==="list"&&o.jsxs(P,{children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx(S.Title,{size:"small",children:"Danh sÃ¡ch lá»›p"})}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[t.map($=>o.jsxs(P,{onClick:()=>A($),className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden active:scale-98 transition-transform",children:[o.jsx("div",{className:"h-2 bg-gradient-to-r from-blue-500 to-purple-500"}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(S.Title,{size:"small",className:"text-gray-900 mb-1",children:$.name}),o.jsx("div",{className:"flex items-center gap-2 mt-1",children:o.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[o.jsx(q,{icon:"zi-calendar",size:14}),o.jsx("span",{children:$.schedules&&$.schedules.length>0?`${$.schedules.length} buá»•i/tuáº§n`:"ChÆ°a cÃ³ lá»‹ch"})]})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"bg-blue-50 text-blue-600 px-3 py-1 rounded-full text-xs font-medium",children:[$.total_students||0," há»c sinh"]}),o.jsx(q,{icon:"zi-chevron-right",className:"text-gray-400"})]})]}),$.schedules&&$.schedules.length>0&&o.jsx("div",{className:"flex gap-1 mt-2",children:ae.map((W,K)=>{var ke;const xe=(ke=$.schedules)==null?void 0:ke.some(Me=>Me.day_of_week===K);return o.jsx("div",{className:`text-xs px-2 py-1 rounded ${xe?"bg-blue-100 text-blue-700 font-medium":"bg-gray-100 text-gray-400"}`,children:W},K)})})]})]},$.id)),t.length===0&&!n&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-5xl mb-3",children:"ðŸ“š"}),o.jsx(S,{className:"text-gray-500",children:"ChÆ°a cÃ³ lá»›p há»c nÃ o"}),o.jsx(S,{size:"xSmall",className:"text-gray-600 mt-1",children:"Nháº¥n nÃºt + Ä‘á»ƒ táº¡o lá»›p má»›i"})]})]}),o.jsx("div",{className:"fixed bottom-24 right-6 z-10",children:o.jsx(le,{size:"large",className:"bg-gradient-to-r from-blue-500 to-purple-500 shadow-lg rounded-full w-14 h-14 flex items-center justify-center",onClick:()=>{Z(),l("create")},children:o.jsx(q,{icon:"zi-plus",size:24,className:"text-white"})})})]}),c==="create"&&o.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[o.jsx(S.Title,{className:"mb-6",children:"Táº¡o lá»›p má»›i"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(S,{className:"mb-2 font-medium",children:"TÃªn lá»›p"}),o.jsx(Ct,{placeholder:"VÃ­ dá»¥: Lá»›p Piano K12",value:f,onChange:$=>h($.target.value)})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx(S,{className:"font-medium",children:"Lá»‹ch há»c"}),o.jsxs(le,{size:"small",variant:"tertiary",onClick:D,children:[o.jsx(q,{icon:"zi-plus"})," ThÃªm lá»‹ch"]})]}),m.length===0?o.jsx("div",{className:"text-center text-gray-400 py-4 border border-dashed rounded-lg",children:'ChÆ°a cÃ³ lá»‹ch há»c. Nháº¥n "ThÃªm lá»‹ch" Ä‘á»ƒ thÃªm.'}):o.jsx("div",{className:"space-y-3",children:m.map(($,W)=>o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[o.jsxs("div",{children:[o.jsx(S,{size:"xSmall",className:"text-gray-600 mb-1",children:"Thá»©"}),o.jsx("select",{className:"w-full p-2 border rounded text-sm",value:$.dayOfWeek,onChange:K=>B(W,"dayOfWeek",parseInt(K.target.value)),children:ae.map((K,xe)=>o.jsx("option",{value:xe,children:K},xe))})]}),o.jsxs("div",{children:[o.jsx(S,{size:"xSmall",className:"text-gray-600 mb-1",children:"Tá»«"}),o.jsx("input",{type:"time",value:$.startTime,onChange:K=>B(W,"startTime",K.target.value),className:"w-full p-2 border rounded text-sm"})]}),o.jsxs("div",{children:[o.jsx(S,{size:"xSmall",className:"text-gray-600 mb-1",children:"Äáº¿n"}),o.jsx("input",{type:"time",value:$.endTime,onChange:K=>B(W,"endTime",K.target.value),className:"w-full p-2 border rounded text-sm"})]})]}),o.jsxs(le,{size:"small",variant:"tertiary",className:"text-red-600",onClick:()=>L(W),children:[o.jsx(q,{icon:"zi-delete"})," XÃ³a"]})]},W))})]}),o.jsxs("div",{children:[o.jsx(S,{className:"mb-2 font-medium",children:"Danh sÃ¡ch há»c sinh"}),o.jsx("textarea",{className:"w-full p-3 border rounded-lg min-h-[150px] text-sm",placeholder:"Nháº­p tÃªn há»c sinh, má»—i tÃªn má»™t dÃ²ng",value:v,onChange:$=>g($.target.value)})]}),o.jsxs("div",{className:"flex gap-3 mt-4",children:[o.jsx(le,{variant:"secondary",fullWidth:!0,onClick:()=>l("list"),children:"Há»§y"}),o.jsx(le,{fullWidth:!0,onClick:j,loading:N,children:"Táº¡o lá»›p"})]})]})]}),c==="edit"&&o.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx(S.Title,{children:"Chi tiáº¿t lá»›p há»c"}),o.jsx(le,{size:"small",variant:"tertiary",onClick:()=>l("list"),children:"ÄÃ³ng"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(S,{className:"mb-2 font-medium",children:"TÃªn lá»›p"}),o.jsx(Ct,{value:f,onChange:$=>h($.target.value)})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx(S,{className:"font-medium",children:"Lá»‹ch há»c"}),o.jsxs(le,{size:"small",variant:"tertiary",onClick:D,children:[o.jsx(q,{icon:"zi-plus"})," ThÃªm lá»‹ch"]})]}),m.length===0?o.jsx("div",{className:"text-center text-gray-400 py-4 border border-dashed rounded-lg",children:'ChÆ°a cÃ³ lá»‹ch há»c. Nháº¥n "ThÃªm lá»‹ch" Ä‘á»ƒ thÃªm.'}):o.jsx("div",{className:"space-y-3",children:m.map(($,W)=>o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[o.jsxs("div",{children:[o.jsx(S,{size:"xSmall",className:"text-gray-600 mb-1",children:"Thá»©"}),o.jsx("select",{className:"w-full p-2 border rounded text-sm",value:$.dayOfWeek,onChange:K=>B(W,"dayOfWeek",parseInt(K.target.value)),children:ae.map((K,xe)=>o.jsx("option",{value:xe,children:K},xe))})]}),o.jsxs("div",{children:[o.jsx(S,{size:"xSmall",className:"text-gray-600 mb-1",children:"Tá»«"}),o.jsx("input",{type:"time",value:$.startTime,onChange:K=>B(W,"startTime",K.target.value),className:"w-full p-2 border rounded text-sm"})]}),o.jsxs("div",{children:[o.jsx(S,{size:"xSmall",className:"text-gray-600 mb-1",children:"Äáº¿n"}),o.jsx("input",{type:"time",value:$.endTime,onChange:K=>B(W,"endTime",K.target.value),className:"w-full p-2 border rounded text-sm"})]})]}),o.jsxs(le,{size:"small",variant:"tertiary",className:"text-red-600",onClick:()=>L(W),children:[o.jsx(q,{icon:"zi-delete"})," XÃ³a"]})]},W))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs(S,{className:"font-medium",children:["Danh sÃ¡ch há»c sinh (",b.length,")"]}),o.jsx(le,{size:"small",onClick:M,loading:N,children:"Táº¡o mÃ£ káº¿t ná»‘i"})]}),_?o.jsx("div",{className:"text-center py-4 text-gray-600",children:"Äang táº£i danh sÃ¡ch..."}):o.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 max-h-60 overflow-y-auto border border-gray-200",children:[b.map($=>o.jsxs("div",{className:"flex justify-between items-center p-2 border-b border-gray-200 last:border-0",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm text-gray-900",children:$.name}),$.parent_zalo_id&&o.jsx("div",{className:"text-xs text-green-600",children:"âœ… ÄÃ£ káº¿t ná»‘i"})]}),o.jsx("div",{className:"text-right",children:$.connection_code?o.jsx("div",{className:"font-mono font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded text-xs",children:$.connection_code}):o.jsx("div",{className:"text-xs text-gray-600",children:"ChÆ°a cÃ³ mÃ£"})})]},$.id)),b.length===0&&o.jsx("div",{className:"text-center text-gray-600 py-2",children:"ChÆ°a cÃ³ há»c sinh"})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx(S,{className:"mb-2 font-medium",children:"Chá»‰nh sá»­a nhanh (ThÃªm/XÃ³a tÃªn)"}),o.jsx("textarea",{className:"w-full p-3 border rounded-lg min-h-[100px] font-mono text-sm",placeholder:"Nháº­p tÃªn há»c sinh, má»—i tÃªn má»™t dÃ²ng",value:v,onChange:$=>g($.target.value)})]})]}),o.jsxs("div",{className:"flex gap-3 mt-8 pt-4 border-t border-gray-100",children:[o.jsx(le,{fullWidth:!0,variant:"secondary",className:"bg-red-50 text-red-600 border-red-100",onClick:k,children:"XÃ³a lá»›p"}),o.jsx(le,{fullWidth:!0,onClick:T,loading:N,children:"LÆ°u thay Ä‘á»•i"})]})]})]})]})]})}function R0(){const{goBack:e}=Fe(),{classes:t}=jn(),[n,r]=x.useState("");x.useEffect(()=>{t.length>0&&!n&&r(t[0].id)},[t,n]);const{history:s,loading:i}=p0(n),{students:a}=Ea(n),[c,l]=x.useState(null),u={};a.forEach(h=>{u[h.id]=h.name});const d=h=>{const[m,p,v]=h.split("-"),g=new Date(`${m}-${p}-${v}T00:00:00`);return`${["Chá»§ Nháº­t","Thá»© 2","Thá»© 3","Thá»© 4","Thá»© 5","Thá»© 6","Thá»© 7"][g.getDay()]}, ${v}/${p}/${m}`},f=h=>{const m=Object.values(h.data||{}).filter(v=>v==="present").length,p=Object.values(h.data||{}).filter(v=>v==="absent").length;return{present:m,absent:p}};return o.jsxs(Pe,{className:"bg-gray-100",style:{marginTop:"44px"},children:[o.jsx(tt,{title:"Lá»‹ch Sá»­ Äiá»ƒm Danh",showBackIcon:!0,onBackClick:e}),o.jsxs(P,{p:4,className:"pt-20 pb-24",children:[o.jsxs(P,{className:"mb-4",children:[o.jsx(S.Title,{size:"small",className:"mb-2",children:"Chá»n Lá»›p:"}),o.jsx(P,{className:"overflow-x-auto whitespace-nowrap pb-2",children:t.map(h=>o.jsx("div",{onClick:()=>r(h.id),style:{display:"inline-block",padding:"8px 16px",marginRight:"8px",borderRadius:"20px",background:n===h.id?"#006AF5":"white",color:n===h.id?"white":"#333",border:n===h.id?"none":"1px solid #ddd",fontSize:"14px",fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:h.name},h.id))})]}),i?o.jsx(S,{className:"text-center text-gray-500 mt-8",children:"Äang táº£i lá»‹ch sá»­..."}):s.length>0?o.jsxs("div",{children:[o.jsxs(S,{className:"text-gray-500 mb-4 text-sm",children:["Tá»•ng cá»™ng: ",o.jsx("strong",{children:s.length})," ngÃ y Ä‘iá»ƒm danh"]}),s.map(h=>{const m=f(h),p=c===h.id;return o.jsxs("div",{className:"bg-white rounded-xl mb-3 border border-gray-200 overflow-hidden",children:[o.jsxs("div",{onClick:()=>l(p?null:h.id),className:`p-4 cursor-pointer flex justify-between items-center transition-colors ${p?"bg-gray-50":"bg-white"}`,children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-bold text-base mb-2",children:["ðŸ“… ",d(h.date)]}),o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsxs("span",{className:"text-green-600 font-medium",children:["âœ… ",m.present," CÃ³ máº·t"]}),o.jsxs("span",{className:"text-red-600 font-medium",children:["âŒ ",m.absent," Váº¯ng"]})]})]}),o.jsx("div",{className:"text-xl text-gray-400",children:p?"â–¼":"â–¶"})]}),p&&o.jsx("div",{className:"p-4 border-t border-gray-100 bg-gray-50",children:o.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(h.data||{}).map(([v,g])=>o.jsxs("div",{className:`p-3 rounded-lg text-sm ${g==="present"?"bg-green-50 border border-green-100":"bg-red-50 border border-red-100"}`,children:[o.jsx("div",{className:"font-medium mb-1 truncate",children:u[v]||`Há»c sinh ${v.substring(0,6)}...`}),o.jsx("div",{className:g==="present"?"text-green-600":"text-red-600",children:g==="present"?"âœ… CÃ³ máº·t":"âŒ Váº¯ng"})]},v))})})]},h.id)})]}):o.jsxs("div",{className:"text-center pt-10 text-gray-400",children:[o.jsx("div",{className:"text-5xl mb-2",children:"ðŸ“‹"}),o.jsx("div",{className:"font-bold text-base",children:"ChÆ°a cÃ³ lá»‹ch sá»­ Ä‘iá»ƒm danh"}),o.jsx("div",{className:"text-sm mt-1",children:"HÃ£y thá»±c hiá»‡n Ä‘iá»ƒm danh Ä‘á»ƒ táº¡o lá»‹ch sá»­"})]})]})]})}function z0(){const{goBack:e,navigateTo:t}=Fe(),{openSnackbar:n}=Sr(),[r,s]=x.useState(""),[i,a]=x.useState(!1),[c,l]=x.useState(null),[u,d]=vr(Na),f=()=>z(this,null,function*(){if(!r||r.length<6){n({text:"Vui lÃ²ng nháº­p mÃ£ káº¿t ná»‘i há»£p lá»‡",type:"error"});return}a(!0);try{const p=yield gn(()=>Promise.resolve().then(()=>Gn),void 0,import.meta.url).then(v=>v.apiService.connectParent(r));l(p.student),n({text:"Káº¿t ná»‘i thÃ nh cÃ´ng!",type:"success"});try{yield nn.requestSendNotification({}),n({text:"ÄÃ£ Ä‘Äƒng kÃ½ nháº­n thÃ´ng bÃ¡o",type:"success"})}catch(v){console.error("Permission denied",v)}}catch(p){n({text:p.message||"Káº¿t ná»‘i tháº¥t báº¡i",type:"error"})}finally{a(!1)}}),h=()=>z(this,null,function*(){try{a(!0);const p=yield ft.login();d(!0),n({text:"ÄÄƒng nháº­p thÃ nh cÃ´ng",type:"success"})}catch(p){n({text:"ÄÄƒng nháº­p tháº¥t báº¡i",type:"error"})}finally{a(!1)}}),m=()=>z(this,null,function*(){try{a(!0);const p=yield ft.devLogin();d(!0),n({text:"Dev Login thÃ nh cÃ´ng",type:"success"})}catch(p){n({text:"Dev Login tháº¥t báº¡i",type:"error"})}finally{a(!1)}});return o.jsxs(Pe,{className:"bg-white",children:[o.jsx(tt,{title:"Káº¿t Ná»‘i Phá»¥ Huynh",showBackIcon:!0,onBackClick:e}),o.jsxs(P,{p:4,className:"pt-20 flex flex-col items-center",children:[o.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mb-6",children:o.jsx(q,{icon:"zi-group",className:"text-4xl text-blue-600"})}),o.jsx(S.Title,{className:"mb-2 text-center",children:"Káº¿t ná»‘i vá»›i con cá»§a báº¡n"}),o.jsx(S,{className:"text-gray-500 text-center mb-8",children:"Nháº­p mÃ£ káº¿t ná»‘i gá»“m 6 chá»¯ sá»‘ do giÃ¡o viÃªn cung cáº¥p Ä‘á»ƒ nháº­n thÃ´ng bÃ¡o vá» tÃ¬nh hÃ¬nh há»c táº­p cá»§a con."}),u?c?o.jsxs("div",{className:"w-full bg-green-50 p-6 rounded-xl border border-green-100 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(q,{icon:"zi-check",className:"text-3xl text-green-600"})}),o.jsx(S.Title,{size:"small",className:"mb-2 text-green-800",children:"ÄÃ£ káº¿t ná»‘i thÃ nh cÃ´ng!"}),o.jsxs(S,{className:"text-green-700 mb-4",children:["Báº¡n Ä‘Ã£ káº¿t ná»‘i vá»›i há»c sinh ",o.jsx("strong",{children:c.name})]}),o.jsx(le,{fullWidth:!0,variant:"secondary",onClick:()=>t("parent-dashboard"),children:"Vá» Trang Chá»§"})]}):o.jsxs("div",{className:"w-full space-y-4",children:[o.jsx(Ct,{placeholder:"Nháº­p mÃ£ káº¿t ná»‘i (VD: 123456)",value:r,onChange:p=>s(p.target.value),className:"text-center text-lg tracking-widest",type:"number"}),o.jsx(le,{fullWidth:!0,size:"large",onClick:f,loading:i,children:"Káº¿t Ná»‘i Ngay"})]}):o.jsxs("div",{className:"w-full space-y-4",children:[o.jsx(P,{className:"bg-orange-50 p-4 rounded-lg mb-4 border border-orange-100",children:o.jsx(S,{size:"small",className:"text-orange-800 text-center",children:"Báº¡n cáº§n Ä‘Äƒng nháº­p Ä‘á»ƒ thá»±c hiá»‡n káº¿t ná»‘i."})}),o.jsx(le,{fullWidth:!0,size:"large",onClick:h,loading:i,children:"ÄÄƒng nháº­p vá»›i Zalo"}),o.jsx(le,{fullWidth:!0,variant:"secondary",onClick:m,loading:i,children:"ðŸ”§ Dev Login (Test)"})]})]})]})}function D0(){var d;const{navigateTo:e}=Fe(),[t,n]=x.useState([]),[r,s]=x.useState(!0),[i,a]=x.useState(null),[c,l]=x.useState(!0);x.useEffect(()=>{u()},[]);const u=()=>z(this,null,function*(){try{const f=yield Oe.getChildren();n(f),f.length>0&&a(f[0])}catch(f){console.error("Failed to fetch children:",f)}finally{s(!1)}});return r?o.jsxs(Pe,{className:"bg-gray-100",style:{marginTop:"44px"},children:[o.jsx(tt,{title:"Phá»¥ Huynh",showBackIcon:!1}),o.jsx(P,{p:4,className:"flex justify-center",children:o.jsx(S,{children:"Äang táº£i dá»¯ liá»‡u..."})})]}):t.length===0?o.jsxs(Pe,{className:"bg-gray-100",style:{marginTop:"44px"},children:[o.jsx(tt,{title:"Phá»¥ Huynh",showBackIcon:!1}),o.jsx(P,{p:4,className:"flex flex-col items-center",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-6xl mb-4",children:"ðŸ”—"}),o.jsx(S.Title,{className:"mb-2",children:"ChÆ°a cÃ³ káº¿t ná»‘i"}),o.jsx(S,{className:"text-gray-600 mb-6",children:"HÃ£y káº¿t ná»‘i vá»›i giÃ¡o viÃªn Ä‘á»ƒ theo dÃµi con báº¡n"}),o.jsx(le,{size:"large",onClick:()=>e("parent-connect"),children:"Káº¿t ná»‘i ngay"})]})})]}):o.jsxs(Pe,{className:"bg-gray-50",style:{marginTop:"44px"},children:[o.jsx(tt,{title:"Sá»• LiÃªn Láº¡c",showBackIcon:!1}),o.jsxs(P,{className:"pb-20",children:[o.jsx(P,{className:"bg-gradient-to-br from-blue-500 to-purple-600 p-6 pb-12 rounded-b-3xl shadow-lg text-white",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Vi,{size:64,src:(i==null?void 0:i.avatar)||"",className:"border-2 border-white bg-blue-400",children:(d=i==null?void 0:i.name)==null?void 0:d.charAt(0)}),o.jsxs("div",{className:"flex-1",children:[o.jsx(S.Title,{className:"text-white mb-1",children:i==null?void 0:i.name}),o.jsxs(S,{size:"small",className:"text-blue-100",children:["MÃ£ HS: ",i==null?void 0:i.connection_code]})]})]})}),o.jsx(P,{className:"mx-4 -mt-8 mb-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx(Kn,{icon:"zi-check-circle",value:"95%",label:"ChuyÃªn cáº§n",color:"green"}),o.jsx(Kn,{icon:"zi-star",value:"8.5",label:"Äiá»ƒm TB",color:"orange"})]})}),c&&o.jsx(P,{className:"px-4 mb-4",children:o.jsx(Iu,{variant:"inline",message:"Nháº­n thÃ´ng bÃ¡o Ä‘iá»ƒm danh & Ä‘iá»ƒm sá»‘ ngay láº­p tá»©c",onFollow:()=>l(!1),onDismiss:()=>l(!1)})}),o.jsxs(P,{className:"px-4 mb-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx(S.Title,{size:"small",children:"Äiá»ƒm danh hÃ´m nay"})}),o.jsx(P,{className:"bg-white rounded-xl shadow-sm p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-green-100 rounded-full p-3",children:o.jsx(q,{icon:"zi-check-circle",className:"text-green-600",size:24})}),o.jsxs("div",{className:"flex-1",children:[o.jsx(S,{className:"font-semibold text-gray-900",children:"CÃ³ máº·t"}),o.jsx(S,{size:"small",className:"text-gray-500",children:new Date().toLocaleDateString("vi-VN")})]}),o.jsx("div",{className:"text-2xl",children:"âœ…"})]})})]}),o.jsxs(P,{className:"px-4 mb-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx(S.Title,{size:"small",children:"ðŸ“… Lá»‹ch há»c hÃ´m nay"})}),o.jsx(P,{className:"bg-white rounded-xl shadow-sm p-4",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-gray-100",children:[o.jsx("div",{className:"w-2 h-12 bg-blue-500 rounded-full"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(S,{className:"font-medium",children:"ToÃ¡n há»c"}),o.jsx(S,{size:"small",className:"text-gray-500",children:"08:00 - 09:30"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-2 h-12 bg-purple-500 rounded-full"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(S,{className:"font-medium",children:"Tiáº¿ng Viá»‡t"}),o.jsx(S,{size:"small",className:"text-gray-500",children:"09:45 - 11:15"})]})]})]})})]}),o.jsxs(P,{className:"px-4 mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(S.Title,{size:"small",children:"ðŸ† Äiá»ƒm sá»‘ má»›i nháº¥t"}),o.jsx(S,{size:"small",className:"text-blue-600",children:"Xem táº¥t cáº£"})]}),o.jsx(P,{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:o.jsxs(dt,{children:[o.jsx(dt.Item,{prefix:o.jsx(q,{icon:"zi-star",className:"text-yellow-500"}),title:"Kiá»ƒm tra 15 phÃºt ToÃ¡n",subTitle:"10/10 - LÃ m bÃ i tá»‘t!"}),o.jsx(dt.Item,{prefix:o.jsx(q,{icon:"zi-star",className:"text-blue-500"}),title:"Viáº¿t chÃ­nh táº£",subTitle:"9/10 - Chá»¯ viáº¿t Ä‘áº¹p"})]})})]}),o.jsxs(P,{className:"px-4 mb-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx(S.Title,{size:"small",children:"âœ… Äiá»ƒm danh gáº§n Ä‘Ã¢y"})}),o.jsx(P,{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:o.jsxs(dt,{children:[o.jsx(dt.Item,{prefix:o.jsx(q,{icon:"zi-check-circle",className:"text-green-500"}),title:"21/11/2025",subTitle:"CÃ³ máº·t"}),o.jsx(dt.Item,{prefix:o.jsx(q,{icon:"zi-check-circle",className:"text-green-500"}),title:"20/11/2025",subTitle:"CÃ³ máº·t"})]})})]}),o.jsx(P,{p:4,children:o.jsx(le,{fullWidth:!0,variant:"tertiary",className:"text-red-500",onClick:()=>z(this,null,function*(){const{authService:f}=yield gn(()=>z(this,null,function*(){const{authService:h}=yield Promise.resolve().then(()=>f0);return{authService:h}}),void 0,import.meta.url);f.logout(),window.location.reload()}),children:"ÄÄƒng xuáº¥t"})})]})]})}const Oc=[{subject:"ToÃ¡n",score:8.5,date:"2025-11-20"},{subject:"VÄƒn",score:7.8,date:"2025-11-19"},{subject:"Anh",score:9,date:"2025-11-18"},{subject:"LÃ½",score:7.5,date:"2025-11-15"},{subject:"HÃ³a",score:8.2,date:"2025-11-14"}],kc=[{date:"2025-11-20",status:"present",note:"Äáº§y Ä‘á»§"},{date:"2025-11-19",status:"present",note:"Äáº§y Ä‘á»§"},{date:"2025-11-18",status:"absent",note:"Váº¯ng (xin phÃ©p)"},{date:"2025-11-17",status:"present",note:"Äáº§y Ä‘á»§"},{date:"2025-11-16",status:"present",note:"Äáº§y Ä‘á»§"}],L0=[{id:"1",teacher:"CÃ´ HÆ°Æ¡ng",subject:"ToÃ¡n",comment:"Con em há»c táº­p ráº¥t tÃ­ch cá»±c, tham gia bÃ i lÃ m nhÃ³m tá»‘t",date:"2025-11-15"},{id:"2",teacher:"Tháº§y Minh",subject:"Tiáº¿ng Anh",comment:"Cáº§n cáº£i thiá»‡n ká»¹ nÄƒng phÃ¡t Ã¢m, hÃ£y luyá»‡n táº­p thÃªm á»Ÿ nhÃ ",date:"2025-11-12"}];function $0(){const{goBack:e,navigateTo:t,params:n}=Fe(),r=(n==null?void 0:n.student)||{id:"1",name:"Nguyá»…n VÄƒn A",class:"10A",gradeAverage:8.5,attendanceRate:95};return o.jsxs("div",{style:{background:"#f3f4f6",width:"100%",minHeight:"100vh",padding:"16px",paddingBottom:"96px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[o.jsx("button",{onClick:e,style:{background:"white",border:"none",padding:"8px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"16px"},children:"â† Quay láº¡i"}),o.jsx("h2",{style:{fontSize:"20px",fontWeight:"bold"},children:"ThÃ´ng tin há»c sinh"}),o.jsx("div",{style:{width:"60px"}})]}),o.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"16px",marginBottom:"16px",border:"1px solid #ddd"},children:[o.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"16px",alignItems:"center"},children:[o.jsx("div",{style:{fontSize:"48px"},children:"ðŸ‘¤"}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"4px"},children:r.name}),o.jsxs("p",{style:{fontSize:"14px",color:"#666"},children:["Lá»›p ",r.class]})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[o.jsxs("div",{style:{background:"#eff6ff",borderRadius:"6px",padding:"12px",textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#2563eb"},children:r.gradeAverage}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"Äiá»ƒm trung bÃ¬nh"})]}),o.jsxs("div",{style:{background:"#f0fdf4",borderRadius:"6px",padding:"12px",textAlign:"center"},children:[o.jsxs("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#16a34a"},children:[r.attendanceRate,"%"]}),o.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:"Äiá»ƒm danh"})]})]})]}),o.jsxs("div",{style:{marginBottom:"16px"},children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"12px"},children:"ðŸ“Š Äiá»ƒm sá»‘ gáº§n Ä‘Ã¢y"}),o.jsx("div",{style:{background:"white",borderRadius:"8px",border:"1px solid #ddd",overflow:"hidden"},children:Oc.map((s,i)=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderBottom:i!==Oc.length-1?"1px solid #eee":"none"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"500",fontSize:"14px"},children:s.subject}),o.jsx("div",{style:{fontSize:"12px",color:"#999"},children:s.date})]}),o.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#2563eb"},children:s.score})]},i))})]}),o.jsxs("div",{style:{marginBottom:"16px"},children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"12px"},children:"ðŸ‘¥ Äiá»ƒm danh gáº§n Ä‘Ã¢y"}),o.jsx("div",{style:{background:"white",borderRadius:"8px",border:"1px solid #ddd",overflow:"hidden"},children:kc.map((s,i)=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderBottom:i!==kc.length-1?"1px solid #eee":"none"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"500",fontSize:"14px"},children:s.date}),o.jsx("div",{style:{fontSize:"12px",color:"#999"},children:s.note})]}),o.jsx("div",{style:{fontSize:"20px"},children:s.status==="present"?"âœ…":"âŒ"})]},i))})]}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"12px"},children:"ðŸ’¬ BÃ¬nh luáº­n tá»« giÃ¡o viÃªn"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:L0.map(s=>o.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"12px 16px",border:"1px solid #ddd"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"bold",fontSize:"14px"},children:s.teacher}),o.jsx("div",{style:{fontSize:"12px",color:"#666"},children:s.subject})]}),o.jsx("div",{style:{fontSize:"12px",color:"#999"},children:s.date})]}),o.jsx("div",{style:{fontSize:"14px",color:"#333",lineHeight:"1.5"},children:s.comment})]},s.id))})]}),o.jsxs("div",{style:{position:"fixed",bottom:"80px",left:"16px",right:"16px",display:"flex",gap:"8px"},children:[o.jsx("button",{onClick:()=>{t("student-report",{studentId:r.id})},style:{flex:1,padding:"12px 16px",background:"linear-gradient(to right, #3b82f6, #8b5cf6)",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"âœ¨ BÃ¡o cÃ¡o AI"}),o.jsx("button",{style:{flex:1,padding:"12px 16px",background:"#2563eb",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"bold",cursor:"pointer"},children:"ðŸ’¬ Tin nháº¯n"})]})]})}const M0=[{name:"Há»c táº­p",tags:["Tiáº¿n bá»™ nhanh","ChÄƒm chá»‰","Tiáº¿p thu tá»‘t","Cáº§n táº­p trung hÆ¡n","Giá»i ToÃ¡n","VÄƒn hay"]},{name:"ThÃ¡i Ä‘á»™",tags:["Ngoan ngoÃ£n","Lá»… phÃ©p","HÃ²a Ä‘á»“ng","Hay nÃ³i chuyá»‡n","TÃ­ch cá»±c phÃ¡t biá»ƒu"]},{name:"Ká»¹ nÄƒng",tags:["Chá»¯ Ä‘áº¹p","LÃ m viá»‡c nhÃ³m tá»‘t","Tá»± giÃ¡c","Cáº§n rÃ¨n chá»¯"]}],U0=({note:e,setNote:t,tags:n,setTags:r,tone:s,setTone:i,onGenerate:a,generating:c})=>{const l=u=>{n.includes(u)?r(n.filter(d=>d!==u)):r([...n,u])};return o.jsxs(P,{p:4,children:[o.jsxs(P,{className:"bg-white rounded-xl p-4 mb-4 shadow-sm",children:[o.jsxs(S.Title,{size:"small",className:"mb-3 flex items-center gap-2",children:[o.jsx("span",{children:"ðŸŽ­"})," Giá»ng vÄƒn bÃ¡o cÃ¡o"]}),o.jsx("div",{className:"flex gap-2",children:[{value:"encouraging",label:"ðŸŒŸ KhÃ­ch lá»‡",desc:"Nháº¹ nhÃ ng, Ä‘á»™ng viÃªn"},{value:"professional",label:"ðŸ‘” Trang trá»ng",desc:"NghiÃªm tÃºc, chuáº©n má»±c"},{value:"strict",label:"âš¡ï¸ NghiÃªm kháº¯c",desc:"Tháº³ng tháº¯n, ká»· luáº­t"}].map(u=>o.jsxs("button",{onClick:()=>i(u.value),className:`flex-1 p-2 rounded-lg border text-center transition-all ${s===u.value?"bg-blue-50 border-blue-500 text-blue-700 font-medium":"bg-white border-gray-200 text-gray-600"}`,children:[o.jsx("div",{className:"text-sm",children:u.label}),o.jsx("div",{className:"text-[10px] text-gray-400 mt-0.5",children:u.desc})]},u.value))})]}),o.jsxs(P,{className:"bg-white rounded-xl p-4 mb-4 shadow-sm",children:[o.jsxs(S.Title,{size:"small",className:"mb-3 flex items-center gap-2",children:[o.jsx("span",{children:"ðŸ·ï¸"})," Äáº·c Ä‘iá»ƒm ná»•i báº­t"]}),o.jsx("div",{className:"space-y-4",children:M0.map(u=>o.jsxs("div",{children:[o.jsx(S,{size:"xSmall",className:"text-gray-500 mb-2 font-medium uppercase tracking-wider",children:u.name}),o.jsx("div",{className:"flex flex-wrap gap-2",children:u.tags.map(d=>o.jsx("button",{onClick:()=>l(d),className:`px-3 py-1.5 rounded-full text-sm border transition-all ${n.includes(d)?"bg-blue-500 border-blue-500 text-white shadow-md transform scale-105":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100"}`,children:d},d))})]},u.name))})]}),o.jsxs(P,{className:"bg-white rounded-xl p-4 mb-4 shadow-sm",children:[o.jsxs(S.Title,{size:"small",className:"mb-2 flex items-center gap-2",children:[o.jsx("span",{children:"ðŸ“"})," Ghi chÃº thÃªm (TÃ¹y chá»n)"]}),o.jsx("textarea",{placeholder:"VD: Em cáº§n chÃº Ã½ hÆ¡n trong giá» ToÃ¡n...",value:e,onChange:u=>t(u.target.value),className:"w-full p-3 border border-gray-200 rounded-xl text-sm focus:border-blue-500 outline-none transition-colors",rows:3})]}),o.jsx(le,{fullWidth:!0,size:"large",onClick:a,disabled:c||n.length===0&&e.length<5,className:`mb-4 transition-all ${c?"opacity-80":"hover:shadow-lg"}`,style:{background:"linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%)",border:"none"},children:c?"Äang phÃ¢n tÃ­ch...":"âœ¨ Táº¡o bÃ¡o cÃ¡o AI"}),o.jsx(S,{size:"xxSmall",className:"text-center text-gray-400",children:"AI sáº½ káº¿t há»£p cÃ¡c tháº» vÃ  ghi chÃº Ä‘á»ƒ táº¡o bÃ¡o cÃ¡o hoÃ n chá»‰nh"})]})},Ir=[{icon:"ðŸ”",text:"Äang phÃ¢n tÃ­ch dá»¯ liá»‡u há»c táº­p..."},{icon:"ðŸ§ ",text:"Äang tá»•ng há»£p nháº­n xÃ©t..."},{icon:"âœï¸",text:"Äang soáº¡n tháº£o lá»i khuyÃªn..."},{icon:"âœ¨",text:"Äang hoÃ n thiá»‡n bÃ¡o cÃ¡o..."}],V0=()=>{const[e,t]=x.useState(0);return x.useEffect(()=>{const n=setInterval(()=>{t(r=>r<Ir.length-1?r+1:r)},2e3);return()=>clearInterval(n)},[]),o.jsxs(P,{className:"flex flex-col items-center justify-center py-12",children:[o.jsxs("div",{className:"relative w-24 h-24 mb-6",children:[o.jsx("div",{className:"absolute inset-0 border-4 border-blue-100 rounded-full"}),o.jsx("div",{className:"absolute inset-0 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-3xl animate-pulse",children:Ir[e].icon})]}),o.jsx(S.Title,{size:"small",className:"text-blue-600 mb-2 transition-all duration-500",children:Ir[e].text}),o.jsx(S,{size:"xSmall",className:"text-gray-400",children:"QuÃ¡ trÃ¬nh nÃ y máº¥t khoáº£ng 5-10 giÃ¢y"}),o.jsx("div",{className:"flex gap-2 mt-6",children:Ir.map((n,r)=>o.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-500 ${r<=e?"bg-blue-500 scale-110":"bg-gray-200"}`},r))})]})},F0=({report:e,isSaved:t,onSave:n,onSend:r,onEdit:s,onClose:i})=>{var u,d,f,h,m,p;const[a,c]=x.useState("overview"),l=v=>{navigator.clipboard.writeText(v)};return o.jsx(P,{p:4,children:o.jsxs(P,{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-4",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(S.Title,{size:"small",className:"text-white mb-1",children:"BÃ¡o cÃ¡o hoÃ n táº¥t âœ¨"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded-full",children:new Date().toLocaleDateString("vi-VN")}),t?o.jsxs("span",{className:"text-xs bg-green-500 text-white px-2 py-0.5 rounded-full flex items-center gap-1",children:[o.jsx(q,{icon:"zi-check",size:12})," ÄÃ£ lÆ°u"]}):o.jsx("span",{className:"text-xs bg-orange-500 text-white px-2 py-0.5 rounded-full",children:"ChÆ°a lÆ°u"})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:s,className:"p-2 bg-white/20 rounded-full hover:bg-white/30 transition-colors",children:o.jsx(q,{icon:"zi-edit",size:20})}),o.jsx("button",{onClick:i,className:"p-2 bg-white/20 rounded-full hover:bg-white/30 transition-colors",children:o.jsx(q,{icon:"zi-close",size:20})})]})]})}),o.jsx("div",{className:"flex border-b",children:[{id:"overview",label:"Tá»•ng quan"},{id:"details",label:"Chi tiáº¿t"},{id:"action",label:"HÃ nh Ä‘á»™ng"}].map(v=>o.jsxs("button",{onClick:()=>c(v.id),className:`flex-1 py-3 text-sm font-medium transition-colors relative ${a===v.id?"text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[v.label,a===v.id&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600"})]},v.id))}),o.jsxs("div",{className:"p-4 min-h-[300px]",children:[a==="overview"&&o.jsx("div",{className:"animate-fade-in",children:o.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs(S,{className:"font-bold text-blue-800 flex items-center gap-2",children:[o.jsx("span",{children:"ðŸ“"})," Nháº­n xÃ©t chung"]}),o.jsx("button",{onClick:()=>l(e.sections.general),className:"text-blue-400 hover:text-blue-600",children:o.jsx(q,{icon:"zi-copy",size:16})})]}),o.jsx(S,{className:"text-sm text-blue-900 leading-relaxed",children:e.sections.general})]})}),a==="details"&&o.jsxs("div",{className:"animate-fade-in space-y-4",children:[((u=e.sections.strengths)==null?void 0:u.length)>0&&o.jsxs("div",{className:"bg-green-50 p-4 rounded-xl border border-green-100",children:[o.jsxs(S,{className:"font-bold text-green-800 mb-2 flex items-center gap-2",children:[o.jsx("span",{children:"âœ¨"})," Äiá»ƒm máº¡nh"]}),o.jsx("ul",{className:"space-y-2",children:e.sections.strengths.map((v,g)=>o.jsxs("li",{className:"text-sm text-gray-700 flex gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:"âœ“"}),o.jsx("span",{children:v})]},g))})]}),((d=e.sections.improvements)==null?void 0:d.length)>0&&o.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl border border-orange-100",children:[o.jsxs(S,{className:"font-bold text-orange-800 mb-2 flex items-center gap-2",children:[o.jsx("span",{children:"âš ï¸"})," Cáº§n cáº£i thiá»‡n"]}),o.jsx("ul",{className:"space-y-2",children:e.sections.improvements.map((v,g)=>o.jsxs("li",{className:"text-sm text-gray-700 flex gap-2",children:[o.jsx("span",{className:"text-orange-500 mt-0.5",children:"!"}),o.jsx("span",{children:v})]},g))})]})]}),a==="action"&&o.jsxs("div",{className:"animate-fade-in space-y-4",children:[((h=(f=e.sections.actionPlan)==null?void 0:f.forStudent)==null?void 0:h.length)>0&&o.jsxs("div",{children:[o.jsxs(S,{className:"font-bold text-gray-800 mb-2 flex items-center gap-2",children:[o.jsx("span",{children:"ðŸ“š"})," Cho há»c sinh"]}),o.jsx("div",{className:"bg-gray-50 rounded-xl p-3",children:o.jsx("ul",{className:"space-y-2",children:e.sections.actionPlan.forStudent.map((v,g)=>o.jsxs("li",{className:"text-sm text-gray-600 flex gap-2",children:[o.jsxs("span",{className:"font-medium text-gray-400",children:[g+1,"."]}),o.jsx("span",{children:v})]},g))})})]}),((p=(m=e.sections.actionPlan)==null?void 0:m.forParent)==null?void 0:p.length)>0&&o.jsxs("div",{children:[o.jsxs(S,{className:"font-bold text-gray-800 mb-2 flex items-center gap-2",children:[o.jsx("span",{children:"ðŸ‘¨â€ðŸ‘©â€ðŸ‘§"})," Cho phá»¥ huynh"]}),o.jsx("div",{className:"bg-purple-50 rounded-xl p-3 border border-purple-100",children:o.jsx("ul",{className:"space-y-2",children:e.sections.actionPlan.forParent.map((v,g)=>o.jsxs("li",{className:"text-sm text-gray-600 flex gap-2",children:[o.jsxs("span",{className:"font-medium text-purple-400",children:[g+1,"."]}),o.jsx("span",{children:v})]},g))})})]})]})]}),o.jsxs("div",{className:"p-4 bg-gray-50 border-t flex gap-3",children:[o.jsx(le,{onClick:n,disabled:t,className:`flex-1 ${t?"bg-gray-300":"bg-blue-600"}`,children:t?"ÄÃ£ lÆ°u":"LÆ°u bÃ¡o cÃ¡o"}),o.jsx(le,{onClick:r,className:"flex-1 bg-purple-600",children:"Gá»­i phá»¥ huynh"})]})]})})};function B0(){var Z;const{goBack:e,params:t}=Fe(),n=t==null?void 0:t.studentId,[r,s]=x.useState(null),[i,a]=x.useState(!0),[c,l]=x.useState(!1),[u,d]=x.useState(""),[f,h]=x.useState([]),[m,p]=x.useState("encouraging"),[v,g]=x.useState(null),[b,w]=x.useState([]),[_,E]=x.useState(!1),[N,C]=x.useState(!1);x.useEffect(()=>{n&&(A(),j())},[n]);const A=()=>z(this,null,function*(){if(n)try{a(!0);const D=yield Oe.getStudentById(n);s(D)}catch(D){console.error("Load student error:",D)}finally{a(!1)}}),j=()=>z(this,null,function*(){if(n)try{const D=yield Oe.getStudentReports(n,3);w(D.reports||[])}catch(D){console.error("Load reports error:",D)}}),T=()=>z(this,null,function*(){if(n)try{l(!0);const D=Date.now(),L=yield Oe.generateReport({studentId:n,teacherNote:u,tags:f,tone:m,options:{includeActionPlan:!0}}),B=Date.now()-D;B<3e3&&(yield new Promise(ae=>setTimeout(ae,3e3-B))),g(L)}catch(D){console.error("Generate error:",D),alert("Lá»—i khi táº¡o bÃ¡o cÃ¡o. Vui lÃ²ng thá»­ láº¡i.")}finally{l(!1)}}),k=()=>z(this,null,function*(){if(v){if(v.reportId.startsWith("temp_")){alert("KhÃ´ng thá»ƒ lÆ°u báº£n nhÃ¡p táº¡m thá»i do lá»—i káº¿t ná»‘i Database ban Ä‘áº§u.");return}try{yield Oe.updateReport(v.reportId,{enhancedReport:v.enhancedReport,sections:v.sections}),alert("BÃ¡o cÃ¡o Ä‘Ã£ Ä‘Æ°á»£c lÆ°u thÃ nh cÃ´ng!"),g(G(O({},v),{isSaved:!0})),j()}catch(D){console.error("Save error:",D),alert("Lá»—i khi lÆ°u bÃ¡o cÃ¡o.")}}}),M=()=>z(this,null,function*(){if(v)try{yield Oe.sendReportToParent(v.reportId),alert("ÄÃ£ gá»­i bÃ¡o cÃ¡o Ä‘áº¿n phá»¥ huynh!")}catch(D){console.error("Send error:",D),alert("Lá»—i khi gá»­i bÃ¡o cÃ¡o")}});return i?o.jsxs(Pe,{className:"bg-gray-50",style:{marginTop:"44px"},children:[o.jsx(tt,{title:"BÃ¡o cÃ¡o há»c táº­p",showBackIcon:!0,onBackClick:e}),o.jsx(P,{className:"flex justify-center items-center h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):o.jsxs(Pe,{className:"bg-gray-50",style:{marginTop:"44px"},children:[o.jsx(tt,{title:"BÃ¡o cÃ¡o há»c táº­p",showBackIcon:!0,onBackClick:e}),o.jsxs(P,{className:"pb-24",children:[o.jsx(P,{className:"bg-gradient-to-br from-blue-600 to-purple-600 p-6 mb-4 rounded-b-[30px] shadow-lg",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Vi,{size:64,className:"border-4 border-white/20 bg-white shadow-xl",children:o.jsx("span",{className:"text-blue-600 text-2xl font-bold",children:(Z=r==null?void 0:r.name)==null?void 0:Z[0]})}),o.jsxs("div",{className:"flex-1 text-white",children:[o.jsx(S.Title,{className:"text-xl font-bold mb-1",children:r==null?void 0:r.name}),o.jsxs("div",{className:"flex items-center gap-2 opacity-90",children:[o.jsxs("span",{className:"bg-white/20 px-2 py-0.5 rounded text-xs",children:["Lá»›p ",r==null?void 0:r.className]}),o.jsxs("span",{className:"text-xs",children:["â€¢ ID: ",r==null?void 0:r.id.slice(0,6)]})]})]})]})}),o.jsx("div",{className:"animate-fade-in",children:c?o.jsx(V0,{}):v?o.jsx(F0,{report:v,isSaved:!!v.isSaved,onSave:k,onSend:M,onEdit:()=>C(!0),onClose:()=>g(null)}):o.jsxs(o.Fragment,{children:[o.jsx(U0,{note:u,setNote:d,tags:f,setTags:h,tone:m,setTone:p,onGenerate:T,generating:c}),b.length>0&&o.jsxs(P,{p:4,className:"mt-4",children:[o.jsx(S.Title,{size:"small",className:"text-gray-500 mb-3 uppercase text-xs font-bold tracking-wider",children:"Gáº§n Ä‘Ã¢y"}),o.jsx("div",{className:"space-y-3",children:b.map(D=>o.jsxs("div",{className:"bg-white p-3 rounded-xl border border-gray-100 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:new Date(D.created_at).toLocaleDateString("vi-VN")}),o.jsx("div",{className:"text-sm text-gray-700 line-clamp-1",children:D.teacher_note||"BÃ¡o cÃ¡o tá»± Ä‘á»™ng"})]}),o.jsx(q,{icon:"zi-chevron-right",className:"text-gray-300"})]},D.id))})]})]})})]})]})}x.createContext(void 0);const Z0=({children:e})=>o.jsx(o.Fragment,{children:e});function Ac(){const{currentPage:e}=Fe();console.log("Current page:",e);const t=()=>{switch(e){case"dashboard":return o.jsx(jc,{});case"students":return o.jsx(E0,{});case"quick-attendance":return o.jsx(O0,{});case"grades-input":return o.jsx(k0,{});case"broadcast-message":return o.jsx(I0,{});case"class-management":return o.jsx(P0,{});case"attendance-history":return o.jsx(R0,{});case"student-detail":return o.jsx($0,{});case"student-report":return o.jsx(B0,{});case"parent-connect":return o.jsx(z0,{});case"parent-dashboard":return o.jsx(D0,{});default:return o.jsx(jc,{})}};return o.jsxs(o.Fragment,{children:[t(),o.jsx(Mv,{})]})}const H0=()=>{const e=nn.getTheme(),t=ha();console.log("[Layout] Rendering app. Environment:",t?"Web":"Zalo");const n=o.jsx(Lv,{theme:e,children:o.jsx(C0,{children:o.jsx($v,{children:t?o.jsx(Z0,{children:o.jsx(Tc,{children:o.jsx(Ac,{})})}):o.jsx(ep,{children:o.jsx(Tc,{children:o.jsx(Ac,{})})})})})});return t?o.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 font-sans",children:[o.jsxs("div",{className:"w-full max-w-[430px] h-[932px] max-h-[95vh] bg-white shadow-2xl rounded-[30px] overflow-hidden border-[8px] border-gray-900 relative",children:[o.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-[120px] h-[25px] bg-gray-900 rounded-b-[16px] z-50"}),o.jsx("div",{className:"w-full h-full overflow-y-auto scrollbar-hide",children:n})]}),o.jsx("div",{className:"fixed bottom-4 left-4 text-gray-500 text-sm",children:o.jsx("p",{children:"Running in Web Mode (Mobile Simulation)"})})]}):n};export{H0 as default};
