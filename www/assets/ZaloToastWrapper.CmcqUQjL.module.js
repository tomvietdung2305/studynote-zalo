import{c as _,g as F,_ as le,I as N,C as Se,j as K,U as pe}from"./layout.Dp-YAK_O.module.js";import{R as n,r as c}from"./index.BdxyiIQ4.module.js";var ye=function(a,t){return a<=0||t<=0?0:a>t?100:Math.round(a/t*100*100)/100};function oe(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function he(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?oe(Object(t),!0).forEach(function(r){le(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oe(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var ke=n.forwardRef(function(e,a){var t,r=e.className,i=e.maxCompleted,v=i===void 0?100:i,d=e.completed,f=d===void 0?0:d,g=e.strokeWidth,m=e.strokeColor,w=e.trailColor,u=w===void 0?null:w,E=e.formatLabel,S=e.showLabel,b=F("progress"),p={},C={};typeof m=="string"&&(p={background:m}),typeof u=="string"&&(C={background:u});var x=ye(f,v),y=he({width:x+"%"},p);g&&(C.height=g+"px");var s=null;S&&(s=E?E(f,v):x+"%");var h=_(b,(t={},t[b+"-show-label"]=S,t),r);return n.createElement("div",{ref:a,className:h},n.createElement("div",{className:b+"-outer"},n.createElement("div",{className:b+"-inner",style:C},n.createElement("div",{className:b+"-completed",style:y}))),n.createElement("span",{className:b+"-label"},s))}),R=function(e){return e.top="top",e.bottom="bottom",e}({}),l=function(e){return e.default="default",e.success="success",e.info="info",e.error="error",e.warning="warning",e.loading="loading",e.download="download",e.countdown="countdown",e["wifi-connected"]="wifi-connected",e["wifi-disconnected"]="wifi-disconnected",e}({}),H=c.createContext(null),ce=2e3,V=R.bottom,Ne=250,Y=5e3,Pe=2,O=12,_e=function(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none"},n.createElement("path",{d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM2.49 12C2.49 17.2522 6.74777 21.51 12 21.51C17.2522 21.51 21.51 17.2522 21.51 12C21.51 6.74777 17.2522 2.49 12 2.49C6.74777 2.49 2.49 6.74777 2.49 12Z",fill:"#FFFFFF",fillOpacity:"1"}),n.createElement("path",{d:"M15.6784 1.89361C15.9136 1.24748 16.6317 0.908557 17.25 1.20938C18.2892 1.71497 19.2519 2.369 20.1071 3.15267C21.2689 4.21731 22.2097 5.50037 22.8757 6.92858C23.5417 8.3568 23.9198 9.90221 23.9886 11.4766C24.0392 12.6355 23.9214 13.7933 23.6407 14.9143C23.4737 15.5814 22.7525 15.9136 22.1064 15.6784C21.4603 15.4433 21.1358 14.7295 21.2846 14.0582C21.4641 13.2486 21.5373 12.4172 21.5009 11.5852C21.4465 10.3375 21.1468 9.11276 20.619 7.9809C20.0912 6.84904 19.3456 5.83222 18.4249 4.98849C17.8108 4.42584 17.1269 3.94752 16.3914 3.5646C15.7815 3.24709 15.4433 2.53973 15.6784 1.89361Z",fill:"#52A0FF"}))},De=function(){return n.createElement(N,{icon:"zi-wifi"})},Ie=function(){return n.createElement(N,{icon:"zi-wifi-off"})},je=function(){return n.createElement(N,{icon:"zi-download-solid"})},Ae=function(){return n.createElement(N,{icon:"zi-close-circle-solid"})},We=function(){return n.createElement(N,{icon:"zi-warning-solid"})},Te=function(){return n.createElement(N,{icon:"zi-info-circle-solid"})},ze=function(){return n.createElement(N,{icon:"zi-check-circle-solid"})},Re=function(a){switch(a){case l.download:return n.createElement(je,null);case l.error:return n.createElement(Ae,null);case l.warning:return n.createElement(We,null);case l.success:return n.createElement(ze,null);case l["wifi-connected"]:return n.createElement(De,null);case l["wifi-disconnected"]:return n.createElement(Ie,null);case l.loading:return n.createElement(_e,null);default:return n.createElement(Te,null)}},Fe=function(a){var t=a.duration,r=t===void 0?Y:t,i=F("snackbar-countdown"),v=r/1e3,d=c.useState(v),f=d[0],g=d[1],m=Pe,w=O-m/2,u=O*2,E=O*2,S="0 0 "+u+" "+E,b=w*Math.PI*2,p=f/v*100,C=b-b*p/100;return c.useEffect(function(){var x=setInterval(function(){f>0?g(function(y){return y-1}):clearInterval(x)},1e3);return function(){return clearInterval(x)}},[f]),n.createElement("div",{className:i},n.createElement("svg",{className:i+"-circle",width:O*2,height:O*2,viewBox:S},n.createElement("circle",{className:i+"-background",cx:O,cy:O,r:w,strokeWidth:m+"px"}),n.createElement("circle",{className:i+"-progress",cx:O,cy:O,r:w,strokeWidth:m+"px",style:{strokeDasharray:b,strokeDashoffset:C},transform:"rotate(-90)"}),n.createElement("text",{className:i+"-counter",x:O,y:w,dy:".4em",textAnchor:"middle"},f)))};function se(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function Ue(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?se(Object(t),!0).forEach(function(r){le(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):se(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var Le=n.forwardRef(function(e,a){var t,r,i=e.text,v=e.prefixIcon,d=e.action,f=e.icon,g=e.verticalAction,m=e.style,w=e.className,u=e.type,E=e.position,S=e.downloadProgress,b=S===void 0?0:S,p=e.duration,C=e.zIndex,x=c.useContext(H),y=Object.values(R).includes(E)?E:V,s=F("snackbar"),h;u!==l.default&&u!==l.countdown&&(h=Re(u)),u===l.countdown&&(h=n.createElement(Fe,{duration:p||Y}));var j=!f&&!h&&!v&&!d,U=_(s,w,(t={},t[s+"-vertical-action"]=g,t[s+"-"+y]=y,t[s+"-text-only"]=j,t)),A=v||h||(f?n.createElement(N,{icon:"zi-info-circle-solid"}):null),W=u===l.download?n.createElement(ke,{className:s+"-progress",maxCompleted:100,completed:b}):null,I=function(z){z.preventDefault(),d&&d.close&&x&&(x.closeSnackbar==null||x.closeSnackbar()),d==null||d.onClick==null||d.onClick(z)},L=_(s+"-prefix-icon",(r={},r[s+"-success"]=u===l.success,r[s+"-error"]=u===l.error,r[s+"-warning"]=u===l.warning,r[s+"-info"]=u===l.info,r[s+"-download"]=u===l.download,r[s+"-success"]=u===l.success,r[s+"-wifi-connected"]=u===l["wifi-connected"],r[s+"-wifi-disconnected"]=u===l["wifi-disconnected"],r[s+"-loading"]=u===l.loading,r)),D={};return m&&(D=Ue({},m)),C&&(D.zIndex=C),n.createElement("div",{className:U,ref:a,style:D},n.createElement("div",{className:s+"-content"},n.createElement("div",{className:s+"-desc-wrapper"},A&&n.createElement("div",{className:L},A),i&&n.createElement("div",{className:s+"-desc"},i)),W),d&&n.createElement("div",{role:"presentation",className:s+"-action",onClick:I},d.text))}),$e=n.forwardRef(function(e,a){var t,r,i,v,d=c.useState(!1),f=d[0],g=d[1],m=c.useState(!1),w=m[0],u=m[1],E=c.useState(null),S=E[0],b=E[1],p=c.useState(""),C=p[0],x=p[1],y=c.useState(!1),s=y[0],h=y[1],j=c.useState(null),U=j[0],A=j[1],W=c.useState(l.default),I=W[0],L=W[1],D=c.useState(R.bottom),T=D[0],z=D[1],q=c.useState(I===l.countdown?Y:ce),$=q[0],ie=q[1],M=c.useRef(),G=c.useState(),J=G[0],ue=G[1],Q=c.useState(),de=Q[0],fe=Q[1],X=c.useState(!1),ve=X[0],me=X[1],ee=c.useState(0),we=ee[0],te=ee[1];c.useImperativeHandle(a,function(){return M.current});var B=c.useCallback(function(o){var Z=o.type,Oe=o.position;x((o==null?void 0:o.text)||""),h(!!(o!=null&&o.icon)),A(o==null?void 0:o.prefixIcon),L(Z||l.default),ie((o==null?void 0:o.duration)||ce),z(Oe||V),fe(o==null?void 0:o.action),me(!!(o!=null&&o.verticalAction)),ue(function(){return o==null?void 0:o.onClose}),te(0)},[]),ne=c.useCallback(function(o){f===!0?(g(!1),setTimeout(function(){B(o),g(!0)},Ne)):(B(o),g(!0))},[f,B]),re=c.useCallback(function(){g(!1)},[]),ae=c.useCallback(function(o){te(o)},[]),P=Object.values(R).includes(T)?T:V,k=F("snackbar"),ge=c.useMemo(function(){return{openSnackbar:ne,closeSnackbar:re,setDownloadProgress:ae}},[ne,re,ae]),be=e.children,xe=e.className,Ee=e.style,Ce=e.zIndex;return n.createElement(H.Provider,{value:ge},be,n.createElement(Se,{in:f,timeout:{enter:100,exit:100,appear:100},mountOnEnter:!0,unmountOnExit:!0,onEntered:function(){return u(!0)},onExited:function(){return u(!1)},onEnter:function(){clearTimeout(S);var Z=I===l.countdown?$+1e3:$;b(setTimeout(function(){g(!1)},Z))},onExit:function(){J==null||J()},classNames:{enter:_(k+"-enter",(t={},t[k+"-enter-"+P]=P,t)),enterActive:_(k+"-enter-active",(r={},r[k+"-enter-active-"+P]=P,r)),exitActive:_(k+"-exit-active",(i={},i[k+"-exit-active-"+P]=P,i))},nodeRef:M},n.createElement(Le,{ref:M,position:T,text:C,action:de,icon:s,type:I,prefixIcon:U,duration:$,style:Ee,className:_(k,xe,(v={},v[k+"-"+P+"-visible"]=w,v)),verticalAction:ve,downloadProgress:we,zIndex:Ce})))}),Me=function(){var a=c.useContext(H),t=a||{},r=t.openSnackbar,i=t.closeSnackbar,v=t.setDownloadProgress,d=function(w){r==null||r(w)},f=function(){i==null||i()},g=function(w){v==null||v(w)};return{openSnackbar:d,closeSnackbar:f,setDownloadProgress:g}};const Be=({children:e})=>{const{openSnackbar:a,closeSnackbar:t}=Me();return K.jsx(pe.Provider,{value:{openSnackbar:a,closeSnackbar:t},children:e})},Ve=({children:e})=>K.jsx($e,{children:K.jsx(Be,{children:e})});export{Ve as default};
